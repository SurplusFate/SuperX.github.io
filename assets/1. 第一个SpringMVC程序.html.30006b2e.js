import{_ as n}from"./_plugin-vue_export-helper.cdc0426e.js";import{o as s,c as a,e as t}from"./app.5953c2b9.js";const e={},p=t(`<h1 id="_1-\u7B2C\u4E00\u4E2A-springmvc-\u7A0B\u5E8F" tabindex="-1"><a class="header-anchor" href="#_1-\u7B2C\u4E00\u4E2A-springmvc-\u7A0B\u5E8F" aria-hidden="true">#</a> 1. \u7B2C\u4E00\u4E2A SpringMVC \u7A0B\u5E8F</h1><h2 id="\u5B9E\u73B0\u6B65\u9AA4" tabindex="-1"><a class="header-anchor" href="#\u5B9E\u73B0\u6B65\u9AA4" aria-hidden="true">#</a> \u5B9E\u73B0\u6B65\u9AA4</h2><blockquote><ol><li><p>\u65B0\u5EFA web maven \u5DE5\u7A0B</p></li><li><p>\u52A0\u5165\u4F9D\u8D56 spring-webmvc \u4F9D\u8D56(\u95F4\u63A5\u628A spring \u7684\u4F9D\u8D56\u90FD\u52A0\u5165\u5230\u9879\u76EE), jsp \u4F9D\u8D56, servlet \u4F9D\u8D56</p></li><li><p><strong>\u91CD\u70B9</strong>\uFF1A\u5728 web.xml \u4E2D\u6CE8\u518C springmvc \u6846\u67B6\u7684\u6838\u5FC3\u5BF9\u8C61 DispatcherServlet</p><ol><li>DispatcherServlet \u53EB\u505A\u4E2D\u592E\u8C03\u5EA6\u5668\uFF0C \u662F\u4E00\u4E2A servlet\uFF0C \u5B83\u7684\u7236\u7C7B\u662F\u7EE7\u627F HttpServlet</li><li>DispatcherServlet \u9875\u53EB\u505A<strong>\u524D\u7AEF\u63A7\u5236\u5668\uFF08front controller\uFF09</strong></li><li>DispatcherServlet \u8D1F\u8D23\u63A5\u6536\u7528\u6237\u63D0\u4EA4\u7684\u8BF7\u6C42\uFF0C \u8C03\u7528\u5176\u5B83\u7684\u63A7\u5236\u5668\u5BF9\u8C61\uFF0C\u5E76\u628A\u8BF7\u6C42\u7684\u5904\u7406\u7ED3\u679C\u663E\u793A\u7ED9\u7528\u6237</li></ol></li><li><p>\u521B\u5EFA\u4E00\u4E2A\u53D1\u8D77\u8BF7\u6C42\u7684\u9875\u9762 index.jsp</p></li><li><p>\u521B\u5EFA\u63A7\u5236\u5668(\u5904\u7406\u5668)\u7C7B</p><ol><li>\u5728\u7C7B\u7684\u4E0A\u9762\u52A0\u5165@Controller \u6CE8\u89E3\uFF0C\u521B\u5EFA\u5BF9\u8C61\uFF0C\u5E76\u653E\u5165\u5230 springmvc \u5BB9\u5668\u4E2D</li><li>\u5728\u7C7B\u4E2D\u7684\u65B9\u6CD5\u4E0A\u9762\u52A0\u5165@RequestMapping \u6CE8\u89E3\u3002</li></ol></li><li><p>\u521B\u5EFA\u4E00\u4E2A\u4F5C\u4E3A\u7ED3\u679C\u7684 jsp\uFF0C\u663E\u793A\u8BF7\u6C42\u7684\u5904\u7406\u7ED3\u679C\u3002</p></li><li><p>\u521B\u5EFA springmvc \u7684\u914D\u7F6E\u6587\u4EF6\uFF08spring \u7684\u914D\u7F6E\u6587\u4EF6\u4E00\u6837\uFF09</p><ol><li>\u58F0\u660E\u7EC4\u4EF6\u626B\u63CF\u5668\uFF0C \u6307\u5B9A@Contorller \u6CE8\u89E3\u6240\u5728\u7684\u5305\u540D</li><li>\u58F0\u660E\u89C6\u56FE\u89E3\u6790\u5668\u3002\u5E2E\u52A9\u5904\u7406\u89C6\u56FE\u7684\u3002</li></ol></li></ol></blockquote><p>\u4E09\u4E2A\u4F9D\u8D56:</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-webmvc<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>5.3.8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>javax.servlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>javax.servlet-api<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>4.0.1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>provided<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- https://mvnrepository.com/artifact/javax.servlet.jsp/jsp-api --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>javax.servlet.jsp<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>jsp-api<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.2.1-b03<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>provided<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>web.xml \u4E2D\u7684\u914D\u7F6E:</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>web-app</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://xmlns.jcp.org/xml/ns/javaee<span class="token punctuation">&quot;</span></span>
         <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">&quot;</span></span>
         <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd<span class="token punctuation">&quot;</span></span>
         <span class="token attr-name">version</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>4.0<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!--
    \u58F0\u660E\uFF0C\u6CE8\u518Cspringmvc\u7684\u6838\u5FC3\u5BF9\u8C61DispatcherServlet
        \u9700\u8981\u5728tomcat\u670D\u52A1\u5668\u542F\u52A8\u540E\uFF0C\u521B\u5EFADispatcherServlet\u5BF9\u8C61\u7684\u5B9E\u4F8B\u3002
        \u4E3A\u4EC0\u4E48\u8981\u521B\u5EFADispatcherServlet\u5BF9\u8C61\u7684\u5B9E\u4F8B\u5462\uFF1F
        \u56E0\u4E3ADispatcherServlet\u5728\u4ED6\u7684\u521B\u5EFA\u8FC7\u7A0B\u4E2D\uFF0C \u4F1A\u540C\u65F6\u521B\u5EFAspringmvc\u5BB9\u5668\u5BF9\u8C61\uFF0C
        \u8BFB\u53D6springmvc\u7684\u914D\u7F6E\u6587\u4EF6\uFF0C\u628A\u8FD9\u4E2A\u914D\u7F6E\u6587\u4EF6\u4E2D\u7684\u5BF9\u8C61\u90FD\u521B\u5EFA\u597D\uFF0C \u5F53\u7528\u6237\u53D1\u8D77
        \u8BF7\u6C42\u65F6\u5C31\u53EF\u4EE5\u76F4\u63A5\u4F7F\u7528\u5BF9\u8C61\u4E86\u3002

        servlet\u7684\u521D\u59CB\u5316\u4F1A\u6267\u884Cinit\uFF08\uFF09\u65B9\u6CD5\u3002 DispatcherServlet\u5728init\uFF08\uFF09\u4E2D{
           //\u521B\u5EFA\u5BB9\u5668\uFF0C\u8BFB\u53D6\u914D\u7F6E\u6587\u4EF6
           WebApplicationContext ctx = new ClassPathXmlApplicationContext(&quot;springmvc.xml&quot;);
           //\u628A\u5BB9\u5668\u5BF9\u8C61\u653E\u5165\u5230ServletContext\u4E2D
           getServletContext().setAttribute(key, ctx);
        }

        \u542F\u52A8tomcat\u62A5\u9519\uFF0C\u8BFB\u53D6\u8FD9\u4E2A\u6587\u4EF6 /WEB-INF/springmvc-servlet.xml\uFF08/WEB-INF/myweb-servlet.xml\uFF09
        springmvc\u521B\u5EFA\u5BB9\u5668\u5BF9\u8C61\u65F6\uFF0C\u8BFB\u53D6\u7684\u914D\u7F6E\u6587\u4EF6\u9ED8\u8BA4\u662F/WEB-INF/&lt;servlet-name&gt;-servlet.xml .
    --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>myweb<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-class</span><span class="token punctuation">&gt;</span></span>org.springframework.web.servlet.DispatcherServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-class</span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!--\u81EA\u5B9A\u4E49springmvc\u8BFB\u53D6\u7684\u914D\u7F6E\u6587\u4EF6\u7684\u4F4D\u7F6E--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>init-param</span><span class="token punctuation">&gt;</span></span>
      <span class="token comment">&lt;!--springmvc\u7684\u914D\u7F6E\u6587\u4EF6\u7684\u4F4D\u7F6E\u7684\u5C5E\u6027--&gt;</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-name</span><span class="token punctuation">&gt;</span></span>contextConfigLocation<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-name</span><span class="token punctuation">&gt;</span></span>
      <span class="token comment">&lt;!--\u6307\u5B9A\u81EA\u5B9A\u4E49\u6587\u4EF6\u7684\u4F4D\u7F6E--&gt;</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-value</span><span class="token punctuation">&gt;</span></span>classpath:springmvc.xml<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-value</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>init-param</span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!--\u5728tomcat\u542F\u52A8\u540E\uFF0C\u521B\u5EFAServlet\u5BF9\u8C61
            load-on-startup:\u8868\u793Atomcat\u542F\u52A8\u540E\u521B\u5EFA\u5BF9\u8C61\u7684\u987A\u5E8F\u3002\u5B83\u7684\u503C\u662F\u6574\u6570\uFF0C\u6570\u503C\u8D8A\u5C0F\uFF0C
                            tomcat\u521B\u5EFA\u5BF9\u8C61\u7684\u65F6\u95F4\u8D8A\u65E9\u3002 \u5927\u4E8E\u7B49\u4E8E0\u7684\u6574\u6570\u3002
    --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>load-on-startup</span><span class="token punctuation">&gt;</span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>load-on-startup</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet</span><span class="token punctuation">&gt;</span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>myweb<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--
            \u4F7F\u7528\u6846\u67B6\u7684\u65F6\u5019\uFF0C url-pattern\u53EF\u4EE5\u4F7F\u7528\u4E24\u79CD\u503C
            1. \u4F7F\u7528\u6269\u5C55\u540D\u65B9\u5F0F\uFF0C \u8BED\u6CD5 *.xxxx , xxxx\u662F\u81EA\u5B9A\u4E49\u7684\u6269\u5C55\u540D\u3002 \u5E38\u7528\u7684\u65B9\u5F0F *.do, *.action, *.mvc\u7B49\u7B49
               \u4E0D\u80FD\u4F7F\u7528 *.jsp
               http://localhost:8080/myweb/some.do
               http://localhost:8080/myweb/other.do

            2.\u4F7F\u7528\u659C\u6760 &quot;/&quot;
        --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>*.do<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>web-app</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u53D1\u8D77\u8BF7\u6C42\u7684\u9875\u9762 index.jsp:</p><div class="language-jsp ext-jsp line-numbers-mode"><pre class="language-jsp"><code>&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;
  &lt;html&gt;
    &lt;head&gt;
      &lt;title&gt;$Title$&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;
      &lt;p&gt;\u7B2C\u4E00\u4E2Aspringmvc\u9879\u76EE&lt;/p&gt;
      &lt;p&gt;&lt;a href=&quot;some.do&quot;&gt;\u53D1\u8D77some.do\u8BF7\u6C42&lt;/a&gt;&lt;/p&gt;
    &lt;/body&gt;
  &lt;/html&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u63A7\u5236\u5668(\u5904\u7406\u5668)\u7C7B:</p><p><code>@Controller</code>:</p><p>\u521B\u5EFA\u5904\u7406\u5668\u5BF9\u8C61\uFF0C\u5BF9\u8C61\u653E\u5728 springmvc \u5BB9\u5668\u4E2D\u3002 \u4F4D\u7F6E\uFF1A\u5728\u7C7B\u7684\u4E0A\u9762 \u548C Spring \u4E2D\u8BB2\u7684@Service ,@Component</p><p>\u80FD\u5904\u7406\u8BF7\u6C42\u7684\u90FD\u662F\u63A7\u5236\u5668\uFF08\u5904\u7406\u5668\uFF09\uFF1A MyController \u80FD\u5904\u7406\u8BF7\u6C42\uFF0C \u53EB\u505A<strong>\u540E\u7AEF\u63A7\u5236\u5668\uFF08back controller\uFF09</strong></p><p>\u6CA1\u6709\u6CE8\u89E3\u4E4B\u524D\uFF0C\u9700\u8981\u5B9E\u73B0\u5404\u79CD\u4E0D\u540C\u7684\u63A5\u53E3\u624D\u80FD\u505A\u63A7\u5236\u5668\u4F7F\u7528</p><p>\u5904\u7406\u7528\u6237\u63D0\u4EA4\u7684\u8BF7\u6C42:</p><blockquote><p>springmvc \u4E2D\u662F\u4F7F\u7528\u65B9\u6CD5\u6765\u5904\u7406\u7684\u3002</p><p>\u65B9\u6CD5\u662F\u81EA\u5B9A\u4E49\u7684\uFF0C\u53EF\u4EE5\u6709\u591A\u79CD\u8FD4\u56DE\u503C\uFF0C\u591A\u79CD\u53C2\u6570\uFF0C\u65B9\u6CD5\u540D\u79F0\u81EA\u5B9A\u4E49</p><p>\u4F8B\u5982: \u4F7F\u7528 doSome \u65B9\u6CD5\u5904\u7406 some.do \u8BF7\u6C42</p></blockquote><p><code>@RequestMapping</code>:</p><p>\u8BF7\u6C42\u6620\u5C04\uFF0C\u4F5C\u7528\u662F\u628A\u4E00\u4E2A\u8BF7\u6C42\u5730\u5740\u548C\u4E00\u4E2A\u65B9\u6CD5\u7ED1\u5B9A\u5728\u4E00\u8D77\u3002 \u4E00\u4E2A\u8BF7\u6C42\u6307\u5B9A\u4E00\u4E2A\u65B9\u6CD5\u5904\u7406\u3002</p><p>\u5C5E\u6027\uFF1Avalue</p><blockquote><p>\u662F\u4E00\u4E2A String\uFF0C\u8868\u793A\u8BF7\u6C42\u7684 uri \u5730\u5740\uFF08some.do\uFF09\u3002</p><p>value \u7684\u503C\u5FC5\u987B\u662F\u552F\u4E00\u7684\uFF0C \u4E0D\u80FD\u91CD\u590D\u3002 \u5728\u4F7F\u7528\u65F6\uFF0C\u63A8\u8350\u5730\u5740\u4EE5\u201C/\u201D \u5F00\u5934</p></blockquote><p>\u4F4D\u7F6E\uFF1A</p><blockquote><ol><li>\u5728\u65B9\u6CD5\u7684\u4E0A\u9762(\u5E38\u7528\u7684)</li><li>\u5728\u7C7B\u7684\u4E0A\u9762</li></ol></blockquote><p>\u8BF4\u660E\uFF1A</p><blockquote><p>\u4F7F\u7528 RequestMapping \u4FEE\u9970\u7684\u65B9\u6CD5\u53EB\u505A\u5904\u7406\u5668\u65B9\u6CD5\u6216\u8005\u63A7\u5236\u5668\u65B9\u6CD5</p><p>\u4F7F\u7528@RequestMapping \u4FEE\u9970\u7684\u65B9\u6CD5\u53EF\u4EE5\u5904\u7406\u8BF7\u6C42\u7684, \u7C7B\u4F3C Servlet \u4E2D\u7684 doGet, doPost</p></blockquote><p>\u8FD4\u56DE\u503C: ModelAndView</p><blockquote><p>\u8868\u793A\u672C\u6B21\u8BF7\u6C42\u7684\u5904\u7406\u7ED3\u679C</p><p>Model: \u6570\u636E\uFF0C\u8BF7\u6C42\u5904\u7406\u5B8C\u6210\u540E\uFF0C\u8981\u663E\u793A\u7ED9\u7528\u6237\u7684\u6570\u636E View: \u89C6\u56FE\uFF0C \u6BD4\u5982 jsp \u7B49\u7B49\u3002</p></blockquote><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Controller</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyController</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;/some.do&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">ModelAndView</span> <span class="token function">doSome</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// doGet()--service\u8BF7\u6C42\u5904\u7406</span>
        <span class="token comment">// \u5904\u7406some.do\u8BF7\u6C42\u4E86\u3002 \u76F8\u5F53\u4E8Eservice\u8C03\u7528\u5904\u7406\u5B8C\u6210\u4E86\u3002</span>
        <span class="token class-name">ModelAndView</span> mv <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ModelAndView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u6DFB\u52A0\u6570\u636E\uFF0C \u6846\u67B6\u5728\u8BF7\u6C42\u7684\u6700\u540E\u628A\u6570\u636E\u653E\u5165\u5230request\u4F5C\u7528\u57DF\u3002</span>
        <span class="token comment">// request.setAttribute(&quot;msg&quot;,&quot;\u6B22\u8FCE\u4F7F\u7528springmvc\u505Aweb\u5F00\u53D1&quot;);</span>
        mv<span class="token punctuation">.</span><span class="token function">addObject</span><span class="token punctuation">(</span><span class="token string">&quot;msg&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;\u6B22\u8FCE\u4F7F\u7528springmvc\u505Aweb\u5F00\u53D1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        mv<span class="token punctuation">.</span><span class="token function">addObject</span><span class="token punctuation">(</span><span class="token string">&quot;fun&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;\u6267\u884C\u7684\u662FdoSome\u65B9\u6CD5&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// \u6307\u5B9A\u89C6\u56FE, \u6307\u5B9A\u89C6\u56FE\u7684\u5B8C\u6574\u8DEF\u5F84</span>
        <span class="token comment">// \u6846\u67B6\u5BF9\u89C6\u56FE\u6267\u884C\u7684forward\u64CD\u4F5C\uFF0C request.getRequestDispather(&quot;/show.jsp).forward(...)</span>
        mv<span class="token punctuation">.</span><span class="token function">setViewName</span><span class="token punctuation">(</span><span class="token string">&quot;/show.jsp&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// \u8FD4\u56DEmv</span>
        <span class="token keyword">return</span> mv<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u663E\u793A\u8BF7\u6C42\u7684\u5904\u7406\u7ED3\u679C:</p><div class="language-jsp ext-jsp line-numbers-mode"><pre class="language-jsp"><code>&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;
  &lt;html&gt;
    &lt;head&gt;
      &lt;title&gt;Title&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;
      &lt;h3&gt;show.jsp\u4ECErequest\u4F5C\u7528\u57DF\u83B7\u53D6\u6570\u636E&lt;/h3&gt;&lt;br/&gt;
      &lt;h3&gt;msg\u6570\u636E\uFF1A\${msg}&lt;/h3&gt;&lt;br/&gt;
      &lt;h3&gt;fun\u6570\u636E\uFF1A\${fun}&lt;/h3&gt;
    &lt;/body&gt;
  &lt;/html&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>springmvc \u914D\u7F6E\u6587\u4EF6:</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>beans</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/beans<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">xmlns:</span>context</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/context<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context https://www.springframework.org/schema/context/spring-context.xsd<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

  <span class="token comment">&lt;!--\u58F0\u660E\u7EC4\u4EF6\u626B\u63CF\u5668--&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">context:</span>component-scan</span> <span class="token attr-name">base-package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.bjpowernode.controller<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>beans</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u7ED3\u679C:</p><p><img src="https://gcore.jsdelivr.net/gh/SurplusFate/guide_img@main/img/202209151554377.png" alt="20210817170300856_28388"></p><p><img src="https://gcore.jsdelivr.net/gh/SurplusFate/guide_img@main/img/202209151554656.png" alt="20210817170319036_5564"></p><h2 id="springmvc-\u8BF7\u6C42\u7684\u5904\u7406\u6D41\u7A0B" tabindex="-1"><a class="header-anchor" href="#springmvc-\u8BF7\u6C42\u7684\u5904\u7406\u6D41\u7A0B" aria-hidden="true">#</a> springmvc \u8BF7\u6C42\u7684\u5904\u7406\u6D41\u7A0B</h2><blockquote><ol><li>\u53D1\u8D77 some.do</li><li>tomcat(web.xml--url-pattern \u77E5\u9053 *.do \u7684\u8BF7\u6C42\u7ED9 DispatcherServlet)</li><li>DispatcherServlet\uFF08\u6839\u636E springmvc.xml \u914D\u7F6E\u77E5\u9053 some.do---doSome()\uFF09</li><li>DispatcherServlet \u628A some.do \u8F6C\u53D1\u4E2A MyController.doSome()\u65B9\u6CD5</li><li>\u6846\u67B6\u6267\u884C doSome\uFF08\uFF09\u628A\u5F97\u5230 ModelAndView \u8FDB\u884C\u5904\u7406\uFF0C \u8F6C\u53D1\u5230 show.jsp</li></ol></blockquote><p>\u4E0A\u9762\u8FC7\u7A0B\u7B80\u5316</p><p>some.do---DispatcherServlet---MyController</p><p><img src="https://gcore.jsdelivr.net/gh/SurplusFate/guide_img@main/img/202209151554017.png" alt="mvc\u6D41\u7A0B"></p><h2 id="springmvc-\u6267\u884C\u8FC7\u7A0B\u6E90\u4EE3\u7801\u5206\u6790" tabindex="-1"><a class="header-anchor" href="#springmvc-\u6267\u884C\u8FC7\u7A0B\u6E90\u4EE3\u7801\u5206\u6790" aria-hidden="true">#</a> springmvc \u6267\u884C\u8FC7\u7A0B\u6E90\u4EE3\u7801\u5206\u6790</h2><blockquote><ol><li><p>tomcat \u542F\u52A8\uFF0C\u521B\u5EFA\u5BB9\u5668\u7684\u8FC7\u7A0B</p><ol><li><p>\u901A\u8FC7 load-on-start \u6807\u7B7E\u6307\u5B9A\u7684 1\uFF0C\u521B\u5EFA DispatcherServlet \u5BF9\u8C61\uFF0C</p></li><li><p>DispatcherServlet \u5B83\u7684\u7236\u7C7B\u662F\u7EE7\u627F HttpServlet \u7684\uFF0C \u5B83\u662F\u4E00\u4E2A serlvet\uFF0C \u5728\u88AB\u521B\u5EFA\u65F6\uFF0C\u4F1A\u6267\u884C init\uFF08\uFF09\u65B9\u6CD5</p><ol><li>\u5728 init\uFF08\uFF09\u65B9\u6CD5\u4E2D</li><li>\u521B\u5EFA\u5BB9\u5668\uFF0C\u8BFB\u53D6\u914D\u7F6E\u6587\u4EF6</li><li><code>WebApplicationContext ctx = new ClassPathXmlApplicationContext(&quot;springmvc.xml&quot;);</code></li><li>\u628A\u5BB9\u5668\u5BF9\u8C61\u653E\u5165\u5230 ServletContext \u4E2D</li><li><code>getServletContext().setAttribute(key, ctx);</code></li></ol></li><li><p>\u4E0A\u9762\u521B\u5EFA\u5BB9\u5668\u4F5C\u7528\uFF1A</p><ol><li>\u521B\u5EFA@controller \u6CE8\u89E3\u6240\u5728\u7684\u7C7B\u7684\u5BF9\u8C61</li><li>\u521B\u5EFA MyController \u5BF9\u8C61, \u5C06\u8FD9\u4E2A\u5BF9\u8C61\u653E\u5165\u5230 springmvc \u7684\u5BB9\u5668\u4E2D\uFF0C \u5BB9\u5668\u662F map \uFF0C \u7C7B\u4F3C map.put(&quot;myController&quot;,MyController \u5BF9\u8C61)</li></ol></li></ol></li><li><p>\u8BF7\u6C42\u7684\u5904\u7406\u8FC7\u7A0B</p><ol><li><p>\u6267\u884C servlet \u7684 service()</p></li><li><p><code>protected void service(HttpServletRequest request, HttpServletResponse response)</code></p></li><li><p><code>protected void doService(HttpServletRequest request, HttpServletResponse response)</code></p></li><li><p><code>DispatcherServlet.doDispatch(request, response){ \u8C03\u7528MyController\u7684.doSome()\u65B9\u6CD5 }</code></p></li></ol></li></ol></blockquote><p>doDispatch\uFF1Aspringmvc \u4E2D DispatcherServlet \u7684\u6838\u5FC3\u65B9\u6CD5\uFF0C \u6240\u6709\u7684\u8BF7\u6C42\u90FD\u5728\u8FD9\u4E2A\u65B9\u6CD5\u4E2D\u5B8C\u6210\u7684\u3002</p>`,42),l=[p];function o(c,i){return s(),a("div",null,l)}const d=n(e,[["render",o],["__file","1. \u7B2C\u4E00\u4E2ASpringMVC\u7A0B\u5E8F.html.vue"]]);export{d as default};
