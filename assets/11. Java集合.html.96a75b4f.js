import{_ as n}from"./_plugin-vue_export-helper.cdc0426e.js";import{o as s,c as a,d as t}from"./app.4c3e58db.js";const p={},e=t(`<h1 id="_11-java-\u96C6\u5408" tabindex="-1"><a class="header-anchor" href="#_11-java-\u96C6\u5408" aria-hidden="true">#</a> 11. Java \u96C6\u5408</h1><p>Java \u96C6\u5408\u7C7B\u662F\u4E00\u79CD\u7279\u522B\u6709\u7528\u7684\u5DE5\u5177\u7C7B\uFF0C\u53EF\u4EE5\u7528\u4E8E\u5B58\u50A8\u6570\u91CF\u4E0D\u7B49\u7684\u591A\u4E2A\u5BF9\u8C61\uFF0C\u5E76\u53EF\u4EE5\u5B9E\u73B0\u5E38\u7528\u7684\u6570\u636E\u7ED3\u6784\uFF0C\u5982\u6808\u3001\u961F\u5217\u7B49\u3002\u9664\u6B64\u4E4B\u5916\uFF0CJava \u96C6\u5408\u8FD8\u53EF\u7528\u4E8E\u4FDD\u5B58\u5177\u6709\u6620\u5C04\u5173\u7CFB\u7684\u5173\u8054\u6570\u7EC4\u3002Java \u96C6\u5408\u5927\u81F4\u53EF\u5206\u4E3A Set\u3001List \u548C Map \u4E09\u79CD\u4F53\u7CFB\uFF0C\u5176\u4E2D Set \u4EE3\u8868\u65E0\u5E8F\u3001\u4E0D\u53EF\u91CD\u590D\u7684\u96C6\u5408\uFF1BList \u4EE3\u8868\u6709\u5E8F\u3001\u91CD\u590D\u7684\u96C6\u5408\uFF1B\u800C Map \u5219\u4EE3\u8868\u5177\u6709\u6620\u5C04\u5173\u7CFB\u7684\u96C6\u5408\u3002\u4ECE Java 5 \u4EE5\u540E\uFF0CJava \u53C8\u589E\u52A0\u4E86 Queue \u4F53\u7CFB\u96C6\u5408\uFF0C\u4EE3\u8868\u4E00\u79CD\u961F\u5217\u96C6\u5408\u5B9E\u73B0\u3002</p><p>Java \u96C6\u5408\u5C31\u50CF\u4E00\u79CD\u5BB9\u5668\uFF0C\u6211\u4EEC\u53EF\u4EE5\u628A\u591A\u4E2A\u5BF9\u8C61\uFF08\u5B9E\u9645\u4E0A\u662F\u5BF9\u8C61\u7684\u5F15\u7528\uFF0C\u4F46\u4E60\u60EF\u4E0A\u90FD\u79F0\u5BF9\u8C61\uFF09\u201C\u4E22\u8FDB\u201D\u8BE5\u5BB9\u5668\u4E2D\u3002\u5728 Java 5 \u4E4B\u524D\uFF0CJava \u96C6\u5408\u4F1A\u4E22\u5931\u5BB9\u5668\u4E2D\u6240\u6709\u5BF9\u8C61\u7684\u6570\u636E\u7C7B\u578B\uFF0C\u628A\u6240\u6709\u5BF9\u8C61\u90FD\u5F53\u6210 Object \u7C7B\u578B\u5904\u7406\uFF1B\u4ECE Java 5 \u589E\u52A0\u4E86\u6CDB\u578B\u4EE5\u540E\uFF0CJava \u96C6\u5408\u53EF\u4EE5\u8BB0\u4F4F\u5BB9\u5668\u4E2D\u5BF9\u8C61\u7684\u6570\u636E\u7C7B\u578B\uFF0C\u4ECE\u800C\u53EF\u4EE5\u7F16\u5199\u51FA\u66F4\u7B80\u6D01\u3001\u5065\u58EE\u7684\u4EE3\u7801\u3002</p><h2 id="java-\u96C6\u5408\u6982\u8FF0" tabindex="-1"><a class="header-anchor" href="#java-\u96C6\u5408\u6982\u8FF0" aria-hidden="true">#</a> Java \u96C6\u5408\u6982\u8FF0</h2><p>\u5728\u7F16\u7A0B\u65F6\uFF0C\u5E38\u5E38\u9700\u8981\u96C6\u4E2D\u5B58\u653E\u591A\u4E2A\u6570\u636E\uFF0C\u6211\u4EEC\u53EF\u4EE5\u4F7F\u7528\u6570\u7EC4\u6765\u4FDD\u5B58\u591A\u4E2A\u5BF9\u8C61\uFF0C\u4F46\u6570\u7EC4\u957F\u5EA6\u4E0D\u53EF\u53D8\u5316\uFF0C\u4E00\u65E6\u5728\u521D\u59CB\u5316\u6570\u7EC4\u65F6\u6307\u5B9A\u4E86\u6570\u7EC4\u957F\u5EA6\uFF0C\u8FD9\u4E2A\u6570\u7EC4\u957F\u5EA6\u5C31\u662F\u4E0D\u53EF\u53D8\u7684\uFF0C\u5982\u679C\u9700\u8981\u4FDD\u5B58\u6570\u91CF\u53D8\u5316\u7684\u6570\u636E\uFF0C\u6570\u7EC4\u5C31\u6709\u70B9\u65E0\u80FD\u4E3A\u529B\u4E86\uFF1B\u800C\u4E14\u6570\u7EC4\u65E0\u6CD5\u4FDD\u5B58\u5177\u6709\u6620\u5C04\u5173\u7CFB\u7684\u6570\u636E\uFF0C\u5982\u6210\u7EE9\u8868\uFF1A\u8BED\u6587\u201479\uFF0C\u6570\u5B66\u201480\uFF0C\u8FD9\u79CD\u6570\u636E\u770B\u4E0A\u53BB\u50CF\u4E24\u4E2A\u6570\u7EC4\uFF0C\u4F46\u8FD9\u4E24\u4E2A\u6570\u7EC4\u7684\u5143\u7D20\u4E4B\u95F4\u6709\u4E00\u5B9A\u7684\u5173\u8054\u5173\u7CFB\u3002</p><p>\u4E3A\u4E86\u4FDD\u5B58\u6570\u91CF\u4E0D\u786E\u5B9A\u7684\u6570\u636E\uFF0C\u4EE5\u53CA\u4FDD\u5B58\u5177\u6709\u6620\u5C04\u5173\u7CFB\u7684\u6570\u636E\uFF08\u4E5F\u88AB\u79F0\u4E3A\u5173\u8054\u6570\u7EC4\uFF09\uFF0CJava \u63D0\u4F9B\u4E86\u96C6\u5408\u7C7B\u3002\u96C6\u5408\u7C7B\u4E3B\u8981\u8D1F\u8D23\u4FDD\u5B58\u3001\u76DB\u88C5\u5176\u4ED6\u6570\u636E\uFF0C\u56E0\u6B64\u96C6\u5408\u7C7B\u4E5F\u88AB\u79F0\u4E3A\u5BB9\u5668\u7C7B\u3002\u6240\u6709\u7684\u96C6\u5408\u7C7B\u90FD\u4F4D\u4E8E java.util \u5305\u4E0B\uFF0C\u540E\u6765\u4E3A\u4E86\u5904\u7406\u591A\u7EBF\u7A0B\u73AF\u5883\u4E0B\u7684\u5E76\u53D1\u5B89\u5168\u95EE\u9898\uFF0CJava 5 \u8FD8\u5728 java.util.concurrent \u5305\u4E0B\u63D0\u4F9B\u4E86\u4E00\u4E9B\u591A\u7EBF\u7A0B\u652F\u6301\u7684\u96C6\u5408\u7C7B\u3002</p><p>\u96C6\u5408\u7C7B\u548C\u6570\u7EC4\u4E0D\u4E00\u6837\uFF0C\u6570\u7EC4\u5143\u7D20\u65E2\u53EF\u4EE5\u662F\u57FA\u672C\u7C7B\u578B\u7684\u503C\uFF0C\u4E5F\u53EF\u4EE5\u662F\u5BF9\u8C61\uFF08\u5B9E\u9645\u4E0A\u4FDD\u5B58\u7684\u662F\u5BF9\u8C61\u7684\u5F15\u7528\u53D8\u91CF\uFF09\uFF1B\u800C\u96C6\u5408\u91CC\u53EA\u80FD\u4FDD\u5B58\u5BF9\u8C61\uFF08\u5B9E\u9645\u4E0A\u53EA\u662F\u4FDD\u5B58\u5BF9\u8C61\u7684\u5F15\u7528\u53D8\u91CF\uFF0C\u4F46\u901A\u5E38\u4E60\u60EF\u4E0A\u8BA4\u4E3A\u96C6\u5408\u91CC\u4FDD\u5B58\u7684\u662F\u5BF9\u8C61\uFF09\u3002</p><p>Java \u7684\u96C6\u5408\u7C7B\u4E3B\u8981\u7531\u4E24\u4E2A\u63A5\u53E3\u6D3E\u751F\u800C\u51FA\uFF1ACollection \u548C Map\uFF0CCollection \u548C Map \u662F Java \u96C6\u5408\u6846\u67B6\u7684\u6839\u63A5\u53E3\uFF0C\u8FD9\u4E24\u4E2A\u63A5\u53E3\u53C8\u5305\u542B\u4E86\u4E00\u4E9B\u5B50\u63A5\u53E3\u6216\u5B9E\u73B0\u7C7B\u3002</p><p><img src="https://gcore.jsdelivr.net/gh/SurplusFate/guide_img@main/img/202208110918598.jpeg" alt="img"></p><p>\u7C97\u7EBF\u5708\u51FA\u7684 Set \u548C List \u63A5\u53E3\u662F Collection \u63A5\u53E3\u6D3E\u751F\u7684\u4E24\u4E2A\u5B50\u63A5\u53E3\uFF0C\u5B83\u4EEC\u5206\u522B\u4EE3\u8868\u4E86\u65E0\u5E8F\u96C6\u5408\u548C\u6709\u5E8F\u96C6\u5408\uFF1BQueue \u662F Java \u63D0\u4F9B\u7684\u961F\u5217\u5B9E\u73B0\uFF0C\u6709\u70B9\u7C7B\u4F3C\u4E8E List\u3002</p><p><img src="https://gcore.jsdelivr.net/gh/SurplusFate/guide_img@main/img/202208110920840.jpeg" alt="img"></p><p>\u5982\u56FE\u6240\u793A\u662F Map \u4F53\u7CFB\u7684\u7EE7\u627F\u6811\uFF0C\u6240\u6709\u7684 Map \u5B9E\u73B0\u7C7B\u7528\u4E8E\u4FDD\u5B58\u5177\u6709\u6620\u5C04\u5173\u7CFB\u7684\u6570\u636E\uFF08\u4E5F\u5C31\u662F\u524D\u9762\u4ECB\u7ECD\u7684\u5173\u8054\u6570\u7EC4\uFF09\u3002</p><p>\u56FE 8.2 \u663E\u793A\u4E86 Map \u63A5\u53E3\u7684\u4F17\u591A\u5B9E\u73B0\u7C7B\uFF0C\u8FD9\u4E9B\u5B9E\u73B0\u7C7B\u5728\u529F\u80FD\u3001\u7528\u6CD5\u4E0A\u5B58\u5728\u4E00\u5B9A\u7684\u5DEE\u5F02\uFF0C\u4F46\u5B83\u4EEC\u90FD\u6709\u4E00\u4E2A\u529F\u80FD\u7279\u5F81\uFF1AMap \u4FDD\u5B58\u7684\u6BCF\u9879\u6570\u636E\u90FD\u662F key-value \u5BF9\uFF0C\u4E5F\u5C31\u662F\u7531 key \u548C value \u4E24\u4E2A\u503C\u7EC4\u6210\u3002\u5C31\u50CF\u524D\u9762\u4ECB\u7ECD\u7684\u6210\u7EE9\u5355\uFF1A\u8BED\u6587-79\uFF0C\u6570\u5B66-80\uFF0C\u6BCF\u9879\u6210\u7EE9\u90FD\u7531\u4E24\u4E2A\u503C\u7EC4\u6210\uFF0C\u5373\u79D1\u76EE\u540D\u548C\u6210\u7EE9\u3002</p><p>\u5BF9\u4E8E\u4E00\u5F20\u6210\u7EE9\u8868\u800C\u8A00\uFF0C\u79D1\u76EE\u901A\u5E38\u4E0D\u4F1A\u91CD\u590D\uFF0C\u800C\u6210\u7EE9\u662F\u53EF\u91CD\u590D\u7684\uFF0C\u901A\u5E38\u4E60\u60EF\u6839\u636E\u79D1\u76EE\u6765\u67E5\u9605\u6210\u7EE9\uFF0C\u800C\u4E0D\u4F1A\u6839\u636E\u6210\u7EE9\u6765\u67E5\u9605\u79D1\u76EE\u3002Map \u4E0E\u6B64\u7C7B\u4F3C\uFF0CMap \u91CC\u7684 key \u662F\u4E0D\u53EF\u91CD\u590D\u7684\uFF0Ckey \u7528\u4E8E\u6807\u8BC6\u96C6\u5408\u91CC\u7684\u6BCF\u9879\u6570\u636E\uFF0C\u5982\u679C\u9700\u8981\u67E5\u9605 Map \u4E2D\u7684\u6570\u636E\u65F6\uFF0C\u603B\u662F\u6839\u636E Map \u7684 key \u6765\u83B7\u53D6\u3002</p><p>\u6839\u636E\u4EE5\u4E0A\u4FE9\u56FE\u4E2D\u7C97\u7EBF\u6807\u8BC6\u7684 4 \u4E2A\u63A5\u53E3\uFF0C\u6211\u4EEC\u53EF\u4EE5\u628A Java \u7684\u6240\u6709\u96C6\u5408\u5206\u6210\u4E09\u5927\u7C7B\uFF0C\u5176\u4E2D Set \u96C6\u5408\u7C7B\u4F3C\u4E8E\u4E00\u4E2A\u7F50\u5B50\uFF0C\u628A\u4E00\u4E2A\u5BF9\u8C61\u6DFB\u52A0\u5230 Set \u96C6\u5408\u65F6\uFF0CSet \u96C6\u5408\u65E0\u6CD5\u8BB0\u4F4F\u6DFB\u52A0\u8FD9\u4E2A\u5143\u7D20\u7684\u987A\u5E8F\uFF0C\u6240\u4EE5 Set \u91CC\u7684\u5143\u7D20\u4E0D\u80FD\u91CD\u590D\uFF08\u5426\u5219\u7CFB\u7EDF\u65E0\u6CD5\u51C6\u786E\u8BC6\u522B\u8FD9\u4E2A\u5143\u7D20\uFF09\uFF1BList \u96C6\u5408\u975E\u5E38\u50CF\u4E00\u4E2A\u6570\u7EC4\uFF0C\u5B83\u53EF\u4EE5\u8BB0\u4F4F\u6BCF\u6B21\u6DFB\u52A0\u5143\u7D20\u7684\u987A\u5E8F\uFF0C\u53EA\u662F List \u7684\u957F\u5EA6\u53EF\u53D8\u3002Map \u96C6\u5408\u4E5F\u50CF\u4E00\u4E2A\u7F50\u5B50\uFF0C\u53EA\u662F\u5B83\u91CC\u9762\u7684\u6BCF\u9879\u6570\u636E\u90FD\u7531\u4E24\u4E2A\u503C\u7EC4\u6210\u3002</p><p><img src="https://gcore.jsdelivr.net/gh/SurplusFate/guide_img@main/img/202208110923600.jpeg" alt="img"></p><p>\u5982\u679C\u8BBF\u95EE List \u96C6\u5408\u4E2D\u7684\u5143\u7D20\uFF0C\u53EF\u4EE5\u76F4\u63A5\u6839\u636E\u5143\u7D20\u7684\u7D22\u5F15\u6765\u8BBF\u95EE\uFF1B\u5982\u679C\u8BBF\u95EE Map \u96C6\u5408\u4E2D\u7684\u5143\u7D20\uFF0C\u53EF\u4EE5\u6839\u636E\u6BCF\u9879\u5143\u7D20\u7684 key \u6765\u8BBF\u95EE\u5176 value\uFF1B\u5982\u679C\u8BBF\u95EE Set \u96C6\u5408\u4E2D\u7684\u5143\u7D20\uFF0C\u5219\u53EA\u80FD\u6839\u636E\u5143\u7D20\u672C\u8EAB\u6765\u8BBF\u95EE\uFF08\u8FD9\u4E5F\u662F Set \u96C6\u5408\u91CC\u5143\u7D20\u4E0D\u5141\u8BB8\u91CD\u590D\u7684\u539F\u56E0\uFF09\u3002</p><p>\u5BF9\u4E8E Set\u3001List\u3001Queue \u548C Map \u56DB\u79CD\u96C6\u5408\uFF0C\u6700\u5E38\u7528\u7684\u5B9E\u73B0\u7C7B\u5206\u522B\u662F HashSet\u3001TreeSet\u3001ArrayList\u3001ArrayDeque\u3001LinkedList \u548C HashMap\u3001TreeMap \u7B49\u5B9E\u73B0\u7C7B\u3002</p><h2 id="collection-\u548C-iterator-\u63A5\u53E3" tabindex="-1"><a class="header-anchor" href="#collection-\u548C-iterator-\u63A5\u53E3" aria-hidden="true">#</a> Collection \u548C Iterator \u63A5\u53E3</h2><p>Collection \u63A5\u53E3\u662F List\u3001Set \u548C Queue \u63A5\u53E3\u7684\u7236\u63A5\u53E3\uFF0C\u8BE5\u63A5\u53E3\u91CC\u5B9A\u4E49\u7684\u65B9\u6CD5\u65E2\u53EF\u7528\u4E8E\u64CD\u4F5C Set \u96C6\u5408\uFF0C\u4E5F\u53EF\u7528\u4E8E\u64CD\u4F5C List \u548C Queue \u96C6\u5408\u3002</p><ol><li><code>boolean add(Object o)</code>\uFF1A\u8BE5\u65B9\u6CD5\u7528\u4E8E\u5411\u96C6\u5408\u91CC\u6DFB\u52A0\u4E00\u4E2A\u5143\u7D20\u3002\u5982\u679C\u96C6\u5408\u5BF9\u8C61\u88AB\u6DFB\u52A0\u64CD\u4F5C\u6539\u53D8\u4E86\uFF0C\u5219\u8FD4\u56DE true\u3002</li><li><code>boolean addAll(Collection c)</code>\uFF1A\u8BE5\u65B9\u6CD5\u628A\u96C6\u5408 c \u91CC\u7684\u6240\u6709\u5143\u7D20\u6DFB\u52A0\u5230\u6307\u5B9A\u96C6\u5408\u91CC\u3002\u5982\u679C\u96C6\u5408\u5BF9\u8C61\u88AB\u6DFB\u52A0\u64CD\u4F5C\u6539\u53D8\u4E86\uFF0C\u5219\u8FD4\u56DE true\u3002</li><li><code>void clear()</code>\uFF1A\u6E05\u9664\u96C6\u5408\u91CC\u7684\u6240\u6709\u5143\u7D20\uFF0C\u5C06\u96C6\u5408\u957F\u5EA6\u53D8\u4E3A 0\u3002</li><li><code>boolean contains(Object o)</code>\uFF1A\u8FD4\u56DE\u96C6\u5408\u91CC\u662F\u5426\u5305\u542B\u6307\u5B9A\u5143\u7D20\u3002</li><li><code>boolean containsAll(Collection c)</code>\uFF1A\u8FD4\u56DE\u96C6\u5408\u91CC\u662F\u5426\u5305\u542B\u96C6\u5408 c \u91CC\u7684\u6240\u6709\u5143\u7D20\u3002</li><li><code>boolean isEmpty()</code>\uFF1A\u8FD4\u56DE\u96C6\u5408\u662F\u5426\u4E3A\u7A7A\u3002\u5F53\u96C6\u5408\u957F\u5EA6\u4E3A 0 \u65F6\u8FD4\u56DE true\uFF0C\u5426\u5219\u8FD4\u56DE false\u3002</li><li><code>Iterator iterator()</code>\uFF1A\u8FD4\u56DE\u4E00\u4E2A Iterator \u5BF9\u8C61\uFF0C\u7528\u4E8E\u904D\u5386\u96C6\u5408\u91CC\u7684\u5143\u7D20\u3002</li><li><code>boolean remove(Object o)</code>\uFF1A\u5220\u9664\u96C6\u5408\u4E2D\u7684\u6307\u5B9A\u5143\u7D20 o\uFF0C\u5F53\u96C6\u5408\u4E2D\u5305\u542B\u4E86\u4E00\u4E2A\u6216\u591A\u4E2A\u5143\u7D20 o \u65F6\uFF0C\u8FD9\u4E9B\u5143\u7D20\u5C06\u88AB\u5220\u9664\uFF0C\u8BE5\u65B9\u6CD5\u5C06\u8FD4\u56DE true\u3002</li><li><code>boolean removeAll(Collection c)</code>\uFF1A\u4ECE\u96C6\u5408\u4E2D\u5220\u9664\u96C6\u5408 c \u91CC\u5305\u542B\u7684\u6240\u6709\u5143\u7D20\uFF08\u76F8\u5F53\u4E8E\u7528\u8C03\u7528\u8BE5\u65B9\u6CD5\u7684\u96C6\u5408\u51CF\u96C6\u5408 c\uFF09\uFF0C\u5982\u679C\u5220\u9664\u4E86\u4E00\u4E2A\u6216\u4E00\u4E2A\u4EE5\u4E0A\u7684\u5143\u7D20\uFF0C\u5219\u8BE5\u65B9\u6CD5\u8FD4\u56DE true\u3002</li><li><code>boolean retainAll(Collection c)</code>\uFF1A\u4ECE\u96C6\u5408\u4E2D\u5220\u9664\u96C6\u5408 c \u91CC\u4E0D\u5305\u542B\u7684\u5143\u7D20\uFF08\u76F8\u5F53\u4E8E\u628A\u8C03\u7528\u8BE5\u65B9\u6CD5\u7684\u96C6\u5408\u53D8\u6210\u8BE5\u96C6\u5408\u548C\u96C6\u5408 c \u7684\u4EA4\u96C6\uFF09\uFF0C\u5982\u679C\u8BE5\u64CD\u4F5C\u6539\u53D8\u4E86\u8C03\u7528\u8BE5\u65B9\u6CD5\u7684\u96C6\u5408\uFF0C\u5219\u8BE5\u65B9\u6CD5\u8FD4\u56DE true\u3002</li><li><code>int size()</code>\uFF1A\u8BE5\u65B9\u6CD5\u8FD4\u56DE\u96C6\u5408\u91CC\u5143\u7D20\u7684\u4E2A\u6570\u3002</li><li><code>Object[] toArray()</code>\uFF1A\u8BE5\u65B9\u6CD5\u628A\u96C6\u5408\u8F6C\u6362\u6210\u4E00\u4E2A\u6570\u7EC4\uFF0C\u6240\u6709\u7684\u96C6\u5408\u5143\u7D20\u53D8\u6210\u5BF9\u5E94\u7684\u6570\u7EC4\u5143\u7D20\u3002</li></ol><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CollectionTest</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Collection</span> c <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u6DFB\u52A0\u5143\u7D20</span>
        c<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;\u5B59\u609F\u7A7A&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u867D\u7136\u96C6\u5408\u91CC\u4E0D\u80FD\u653E\u57FA\u672C\u7C7B\u578B\u7684\u503C\uFF0C\u4F46Java\u652F\u6301\u81EA\u52A8\u88C5\u7BB1</span>
        c<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;c\u96C6\u5408\u7684\u5143\u7D20\u4E2A\u6570\u4E3A:&quot;</span> <span class="token operator">+</span> c<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u5220\u9664\u6307\u5B9A\u5143\u7D20</span>
        c<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;c\u96C6\u5408\u7684\u5143\u7D20\u4E2A\u6570\u4E3A:&quot;</span> <span class="token operator">+</span> c<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u5224\u65AD\u662F\u5426\u5305\u542B\u6307\u5B9A\u5B57\u7B26\u4E32</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;c\u96C6\u5408\u662F\u5426\u5305\u542B\\&quot;\u5B59\u609F\u7A7A\\&quot;\u5B57\u7B26\u4E32:&quot;</span> <span class="token operator">+</span> c<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">&quot;\u5B59\u609F\u7A7A&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        c<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;\u8F7B\u91CF\u7EA7Java EE\u4F01\u4E1A\u5E94\u7528\u5B9E\u6218&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;c\u96C6\u5408\u7684\u5143\u7D20\uFF1A&quot;</span> <span class="token operator">+</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Collection</span> books <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        books<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;\u8F7B\u91CF\u7EA7Java EE\u4F01\u4E1A\u5E94\u7528\u5B9E\u6218&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        books<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;\u75AF\u72C2Java\u8BB2\u4E49&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;c\u96C6\u5408\u662F\u5426\u5B8C\u5168\u5305\u542Bbooks\u96C6\u5408\uFF1F&quot;</span> <span class="token operator">+</span> c<span class="token punctuation">.</span><span class="token function">containsAll</span><span class="token punctuation">(</span>books<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u7528c\u96C6\u5408\u51CF\u53BBbooks\u96C6\u5408\u91CC\u7684\u5143\u7D20</span>
        c<span class="token punctuation">.</span><span class="token function">removeAll</span><span class="token punctuation">(</span>books<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;c\u96C6\u5408\u7684\u5143\u7D20\uFF1A&quot;</span> <span class="token operator">+</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u5220\u9664c\u96C6\u5408\u91CC\u7684\u6240\u6709\u5143\u7D20</span>
        c<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;c\u96C6\u5408\u7684\u5143\u7D20\uFF1A&quot;</span> <span class="token operator">+</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// books\u96C6\u5408\u91CC\u53EA\u5269\u4E0Bc\u96C6\u5408\u91CC\u4E5F\u5305\u542B\u7684\u5143\u7D20</span>
        books<span class="token punctuation">.</span><span class="token function">retainAll</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;books\u96C6\u5408\u7684\u5143\u7D20:&quot;</span> <span class="token operator">+</span> books<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/*
    c\u96C6\u5408\u7684\u5143\u7D20\u4E2A\u6570\u4E3A:2
    c\u96C6\u5408\u7684\u5143\u7D20\u4E2A\u6570\u4E3A:1
    c\u96C6\u5408\u662F\u5426\u5305\u542B&quot;\u5B59\u609F\u7A7A&quot;\u5B57\u7B26\u4E32:true
    c\u96C6\u5408\u7684\u5143\u7D20\uFF1A[\u5B59\u609F\u7A7A, \u8F7B\u91CF\u7EA7Java EE\u4F01\u4E1A\u5E94\u7528\u5B9E\u6218]
    c\u96C6\u5408\u662F\u5426\u5B8C\u5168\u5305\u542Bbooks\u96C6\u5408\uFF1Ffalse
    c\u96C6\u5408\u7684\u5143\u7D20\uFF1A[\u5B59\u609F\u7A7A]
    c\u96C6\u5408\u7684\u5143\u7D20\uFF1A[]
    books\u96C6\u5408\u7684\u5143\u7D20:[]
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u4F7F\u7528-iterator-\u63A5\u53E3\u904D\u5386\u96C6\u5408\u5143\u7D20" tabindex="-1"><a class="header-anchor" href="#\u4F7F\u7528-iterator-\u63A5\u53E3\u904D\u5386\u96C6\u5408\u5143\u7D20" aria-hidden="true">#</a> \u4F7F\u7528 Iterator \u63A5\u53E3\u904D\u5386\u96C6\u5408\u5143\u7D20</h3><p>Collection \u7CFB\u5217\u96C6\u5408\u3001Map \u7CFB\u5217\u96C6\u5408\u4E3B\u8981\u7528\u4E8E\u76DB\u88C5\u5176\u4ED6\u5BF9\u8C61\uFF0C\u800C Iterator \u5219\u4E3B\u8981\u7528\u4E8E\u904D\u5386\uFF08\u5373\u8FED\u4EE3\u8BBF\u95EE\uFF09Collection \u96C6\u5408\u4E2D\u7684\u5143\u7D20\uFF0CIterator \u5BF9\u8C61\u4E5F\u88AB\u79F0\u4E3A\u8FED\u4EE3\u5668\u3002</p><p>Iterator \u63A5\u53E3\u9690\u85CF\u4E86\u5404\u79CD Collection \u5B9E\u73B0\u7C7B\u7684\u5E95\u5C42\u7EC6\u8282\uFF0C\u5411\u5E94\u7528\u7A0B\u5E8F\u63D0\u4F9B\u4E86\u904D\u5386 Collection \u96C6\u5408\u5143\u7D20\u7684\u7EDF\u4E00\u7F16\u7A0B\u63A5\u53E3\u3002</p><ol><li><code>boolean hasNext()</code>\uFF1A\u5982\u679C\u88AB\u8FED\u4EE3\u7684\u96C6\u5408\u5143\u7D20\u8FD8\u6CA1\u6709\u88AB\u904D\u5386\uFF0C\u5219\u8FD4\u56DE true\u3002</li><li><code>Object next()</code>\uFF1A\u8FD4\u56DE\u96C6\u5408\u91CC\u7684\u4E0B\u4E00\u4E2A\u5143\u7D20\u3002</li><li><code>void remove()</code>\uFF1A\u5220\u9664\u96C6\u5408\u91CC\u4E0A\u4E00\u6B21 next \u65B9\u6CD5\u8FD4\u56DE\u7684\u5143\u7D20\u3002</li></ol><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">IteratorTest</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// \u521B\u5EFA\u4E00\u4E2A\u96C6\u5408</span>
        <span class="token class-name">Collection</span> books <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        books<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;\u8F7B\u91CF\u7EA7Java EE\u4F01\u4E1A\u5E94\u7528\u5B9E\u6218&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        books<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;\u75AF\u72C2Java\u8BB2\u4E49&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        books<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;\u75AF\u72C2Android\u8BB2\u4E49&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u83B7\u53D6books\u96C6\u5408\u5BF9\u5E94\u7684\u8FED\u4EE3\u5668</span>
        <span class="token class-name">Iterator</span> it <span class="token operator">=</span> books<span class="token punctuation">.</span><span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>it<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// it.next()\u65B9\u6CD5\u8FD4\u56DE\u7684\u6570\u636E\u7C7B\u578B\u662FObject\u7C7B\u578B</span>
            <span class="token comment">// \u9700\u8981\u5F3A\u5236\u7C7B\u578B\u8F6C\u6362</span>
            <span class="token class-name">String</span> book <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span>it<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>book<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>book<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">&quot;\u75AF\u72C2Java\u8BB2\u4E49&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment">// \u4ECE\u96C6\u5408\u4E2D\u5220\u9664\u4E0A\u4E00\u6B21next\u65B9\u6CD5\u8FD4\u56DE\u7684\u5143\u7D20</span>
                it<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token comment">// \u2460\u5BF9book\u53D8\u91CF\u8D4B\u503C\uFF0C\u4E0D\u4F1A\u6539\u53D8\u96C6\u5408\u5143\u7D20\u672C\u8EAB</span>
            book <span class="token operator">=</span> <span class="token string">&quot;\u6D4B\u8BD5\u5B57\u7B26\u4E32&quot;</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>books<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container tip"><p class="custom-container-title">\u63D0\u793A</p><p>Iterator \u5FC5\u987B\u4F9D\u9644\u4E8E Collection \u5BF9\u8C61\uFF0C\u82E5\u6709\u4E00\u4E2A Iterator \u5BF9\u8C61\uFF0C\u5219\u5FC5\u7136\u6709\u4E00\u4E2A\u4E0E\u4E4B\u5173\u8054\u7684 Collection \u5BF9\u8C61\u3002Iterator \u63D0\u4F9B\u4E86\u4E24\u4E2A\u65B9\u6CD5\u6765\u8FED\u4EE3\u8BBF\u95EE Collection \u96C6\u5408\u91CC\u7684\u5143\u7D20\uFF0C\u5E76\u53EF\u901A\u8FC7 <code>remove()</code>\u65B9\u6CD5\u6765\u5220\u9664\u96C6\u5408\u4E2D\u4E0A\u4E00\u6B21 <code>next()</code>\u65B9\u6CD5\u8FD4\u56DE\u7684\u96C6\u5408\u5143\u7D20\u3002</p></div><p>\u5F53\u4F7F\u7528 Iterator \u5BF9\u96C6\u5408\u5143\u7D20\u8FDB\u884C\u8FED\u4EE3\u65F6\uFF0CIterator \u5E76\u4E0D\u662F\u628A\u96C6\u5408\u5143\u7D20\u672C\u8EAB\u4F20\u7ED9\u4E86\u8FED\u4EE3\u53D8\u91CF\uFF0C\u800C\u662F\u628A\u96C6\u5408\u5143\u7D20\u7684\u503C\u4F20\u7ED9\u4E86\u8FED\u4EE3\u53D8\u91CF\uFF0C\u6240\u4EE5\u4FEE\u6539\u8FED\u4EE3\u53D8\u91CF\u7684\u503C\u5BF9\u96C6\u5408\u5143\u7D20\u672C\u8EAB\u6CA1\u6709\u4EFB\u4F55\u5F71\u54CD\u3002</p><p>\u5F53\u4F7F\u7528 Iterator \u8FED\u4EE3\u8BBF\u95EE Collection \u96C6\u5408\u5143\u7D20\u65F6\uFF0CCollection \u96C6\u5408\u91CC\u7684\u5143\u7D20\u4E0D\u80FD\u88AB\u6539\u53D8\uFF0C\u53EA\u6709\u901A\u8FC7 Iterator \u7684 remove \u65B9\u6CD5\u5220\u9664\u4E0A\u4E00\u6B21 next \u65B9\u6CD5\u8FD4\u56DE\u7684\u96C6\u5408\u5143\u7D20\u624D\u53EF\u4EE5\uFF1B\u5426\u5219\u5C06\u4F1A\u5F15\u53D1 <code>java.util.Concurrent ModificationException</code> \u5F02\u5E38\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">IteratorErrorTest</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// \u521B\u5EFA\u4E00\u4E2A\u96C6\u5408</span>
        <span class="token class-name">Collection</span> books <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        books<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;\u8F7B\u91CF\u7EA7Java EE\u4F01\u4E1A\u5E94\u7528\u5B9E\u6218&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        books<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;\u75AF\u72C2Java\u8BB2\u4E49&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        books<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;\u75AF\u72C2Android\u8BB2\u4E49&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u83B7\u53D6books\u96C6\u5408\u5BF9\u5E94\u7684\u8FED\u4EE3\u5668</span>
        <span class="token class-name">Iterator</span> it <span class="token operator">=</span> books<span class="token punctuation">.</span><span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>it<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">String</span> book <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span>it<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>book<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>book<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">&quot;\u75AF\u72C2Android\u8BB2\u4E49&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment">// \u4F7F\u7528Iterator\u8FED\u4EE3\u8FC7\u7A0B\u4E2D\uFF0C\u4E0D\u53EF\u4FEE\u6539\u96C6\u5408\u5143\u7D20\uFF0C\u4E0B\u9762\u4EE3\u7801\u5F15\u53D1\u5F02\u5E38</span>
                books<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>book<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Iterator \u8FED\u4EE3\u5668\u91C7\u7528\u7684\u662F\u5FEB\u901F\u5931\u8D25\uFF08fail-fast\uFF09\u673A\u5236\uFF0C\u4E00\u65E6\u5728\u8FED\u4EE3\u8FC7\u7A0B\u4E2D\u68C0\u6D4B\u5230\u8BE5\u96C6\u5408\u5DF2\u7ECF\u88AB\u4FEE\u6539\uFF08\u901A\u5E38\u662F\u7A0B\u5E8F\u4E2D\u7684\u5176\u4ED6\u7EBF\u7A0B\u4FEE\u6539\uFF09\uFF0C\u7A0B\u5E8F\u7ACB\u5373\u5F15\u53D1 <code>ConcurrentModificationException</code> \u5F02\u5E38\uFF0C\u800C\u4E0D\u662F\u663E\u793A\u4FEE\u6539\u540E\u7684\u7ED3\u679C\uFF0C\u8FD9\u6837\u53EF\u4EE5\u907F\u514D\u5171\u4EAB\u8D44\u6E90\u800C\u5F15\u53D1\u7684\u6F5C\u5728\u95EE\u9898\u3002</p><h3 id="\u4F7F\u7528-foreach-\u5FAA\u73AF\u904D\u5386\u96C6\u5408\u5143\u7D20" tabindex="-1"><a class="header-anchor" href="#\u4F7F\u7528-foreach-\u5FAA\u73AF\u904D\u5386\u96C6\u5408\u5143\u7D20" aria-hidden="true">#</a> \u4F7F\u7528 foreach \u5FAA\u73AF\u904D\u5386\u96C6\u5408\u5143\u7D20</h3><p>\u9664\u4E86\u53EF\u4EE5\u4F7F\u7528 Iterator \u63A5\u53E3\u8FED\u4EE3\u8BBF\u95EE Collection \u96C6\u5408\u91CC\u7684\u5143\u7D20\u4E4B\u5916\uFF0C\u4F7F\u7528 Java 5 \u63D0\u4F9B\u7684 foreach \u5FAA\u73AF\u8FED\u4EE3\u8BBF\u95EE\u96C6\u5408\u5143\u7D20\u66F4\u52A0\u4FBF\u6377\uFF0C\u5982\u4E0B\u7A0B\u5E8F\u793A\u8303\u4E86\u4F7F\u7528 foreach \u5FAA\u73AF\u6765\u8FED\u4EE3\u8BBF\u95EE\u96C6\u5408\u5143\u7D20\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ForeachTest</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// \u521B\u5EFA\u4E00\u4E2A\u96C6\u5408</span>
        <span class="token class-name">Collection</span> books <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        books<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">&quot;\u8F7B\u91CF\u7EA7Java EE\u4F01\u4E1A\u5E94\u7528\u5B9E\u6218&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        books<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">&quot;\u75AF\u72C2Java\u8BB2\u4E49&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        books<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">&quot;\u75AF\u72C2Android\u8BB2\u4E49&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Object</span> obj <span class="token operator">:</span> books<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// \u6B64\u5904\u7684book\u53D8\u91CF\u4E5F\u4E0D\u662F\u96C6\u5408\u5143\u7D20\u672C\u8EAB</span>
            <span class="token class-name">String</span> book <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span>obj<span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>book<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>book<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">&quot;\u75AF\u72C2Android\u8BB2\u4E49&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment">// \u2460\u4E0B\u9762\u4EE3\u7801\u4F1A\u5F15\u53D1ConcurrentModificationException\u5F02\u5E38</span>
                books<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>book<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>books<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>foreach \u5FAA\u73AF\u4E2D\u7684\u8FED\u4EE3\u53D8\u91CF\u4E5F\u4E0D\u662F\u96C6\u5408\u5143\u7D20\u672C\u8EAB\uFF0C\u7CFB\u7EDF\u53EA\u662F\u4F9D\u6B21\u628A\u96C6\u5408\u5143\u7D20\u7684\u503C\u8D4B\u7ED9\u8FED\u4EE3\u53D8\u91CF\uFF0C\u56E0\u6B64\u5728 foreach \u5FAA\u73AF\u4E2D\u4FEE\u6539\u8FED\u4EE3\u53D8\u91CF\u7684\u503C\u4E5F\u6CA1\u6709\u4EFB\u4F55\u5B9E\u9645\u610F\u4E49\u3002</p><p>\u540C\u6837\uFF0C\u5F53\u4F7F\u7528 foreach \u5FAA\u73AF\u8FED\u4EE3\u8BBF\u95EE\u96C6\u5408\u5143\u7D20\u65F6\uFF0C\u8BE5\u96C6\u5408\u4E5F\u4E0D\u80FD\u88AB\u6539\u53D8\uFF0C\u5426\u5219\u5C06\u5F15\u53D1 <code>Concurrent ModificationException</code> \u5F02\u5E38\u3002</p><h2 id="set-\u96C6\u5408" tabindex="-1"><a class="header-anchor" href="#set-\u96C6\u5408" aria-hidden="true">#</a> Set \u96C6\u5408</h2><p>Set \u96C6\u5408\u4E0E Collection \u57FA\u672C\u4E0A\u5B8C\u5168\u4E00\u6837\uFF0C\u5B83\u6CA1\u6709\u63D0\u4F9B\u4EFB\u4F55\u989D\u5916\u7684\u65B9\u6CD5\u3002\u5B9E\u9645\u4E0A Set \u5C31\u662F Collection\uFF0C\u53EA\u662F\u884C\u4E3A\u7565\u6709\u4E0D\u540C\uFF08Set \u4E0D\u5141\u8BB8\u5305\u542B\u91CD\u590D\u5143\u7D20\uFF09\u3002</p><p>Set \u5224\u65AD\u4E24\u4E2A\u5BF9\u8C61\u76F8\u540C\u4E0D\u662F\u4F7F\u7528==\u8FD0\u7B97\u7B26\uFF0C\u800C\u662F\u6839\u636E equals \u65B9\u6CD5\u3002\u4E5F\u5C31\u662F\u8BF4\uFF0C\u53EA\u8981\u4E24\u4E2A\u5BF9\u8C61\u7528 equals \u65B9\u6CD5\u6BD4\u8F83\u8FD4\u56DE true\uFF0CSet \u5C31\u4E0D\u4F1A\u63A5\u53D7\u8FD9\u4E24\u4E2A\u5BF9\u8C61\uFF1B\u53CD\u4E4B\uFF0C\u53EA\u8981\u4E24\u4E2A\u5BF9\u8C61\u7528 equals \u65B9\u6CD5\u6BD4\u8F83\u8FD4\u56DE false\uFF0CSet \u5C31\u4F1A\u63A5\u53D7\u8FD9\u4E24\u4E2A\u5BF9\u8C61\uFF08\u751A\u81F3\u8FD9\u4E24\u4E2A\u5BF9\u8C61\u662F\u540C\u4E00\u4E2A\u5BF9\u8C61\uFF0CSet \u4E5F\u53EF\u628A\u5B83\u4EEC\u5F53\u6210\u4E24\u4E2A\u5BF9\u8C61\u5904\u7406\uFF0C\u5728\u540E\u9762\u7A0B\u5E8F\u4E2D\u53EF\u4EE5\u770B\u5230\u8FD9\u79CD\u6781\u7AEF\u7684\u60C5\u51B5\uFF09\u3002\u4E0B\u9762\u662F\u4F7F\u7528\u666E\u901A Set \u7684\u793A\u4F8B\u7A0B\u5E8F\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SetTest</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Set</span> books <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u6DFB\u52A0\u4E00\u4E2A\u5B57\u7B26\u4E32\u5BF9\u8C61</span>
        books<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">&quot;\u75AF\u72C2Java\u8BB2\u4E49&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u518D\u6B21\u6DFB\u52A0\u4E00\u4E2A\u5B57\u7B26\u4E32\u5BF9\u8C61</span>
        <span class="token comment">// \u56E0\u4E3A\u4E24\u4E2A\u5B57\u7B26\u4E32\u5BF9\u8C61\u901A\u8FC7equals\u65B9\u6CD5\u6BD4\u8F83\u76F8\u7B49</span>
        <span class="token comment">// \u6240\u4EE5\u6DFB\u52A0\u5931\u8D25\uFF0C\u8FD4\u56DEfalse</span>
        <span class="token keyword">boolean</span> result <span class="token operator">=</span> books<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">&quot;\u75AF\u72C2Java\u8BB2\u4E49&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u4ECE\u4E0B\u9762\u8F93\u51FA\u770B\u5230\u96C6\u5408\u53EA\u6709\u4E00\u4E2A\u5143\u7D20</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>result <span class="token operator">+</span> <span class="token string">&quot;--&gt;&quot;</span> <span class="token operator">+</span> books<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="hashset-\u7C7B" tabindex="-1"><a class="header-anchor" href="#hashset-\u7C7B" aria-hidden="true">#</a> HashSet \u7C7B</h3><p>HashSet \u662F Set \u63A5\u53E3\u7684\u5178\u578B\u5B9E\u73B0\uFF0C\u5927\u591A\u6570\u65F6\u5019\u4F7F\u7528 Set \u96C6\u5408\u65F6\u5C31\u662F\u4F7F\u7528\u8FD9\u4E2A\u5B9E\u73B0\u7C7B\u3002HashSet \u6309 Hash \u7B97\u6CD5\u6765\u5B58\u50A8\u96C6\u5408\u4E2D\u7684\u5143\u7D20\uFF0C\u56E0\u6B64\u5177\u6709\u5F88\u597D\u7684\u5B58\u53D6\u548C\u67E5\u627E\u6027\u80FD\u3002</p><p>HashSet \u5177\u6709\u4EE5\u4E0B\u7279\u70B9\u3002</p><ol><li>\u4E0D\u80FD\u4FDD\u8BC1\u5143\u7D20\u7684\u6392\u5217\u987A\u5E8F\uFF0C\u987A\u5E8F\u6709\u53EF\u80FD\u53D1\u751F\u53D8\u5316\u3002</li><li>HashSet \u4E0D\u662F\u540C\u6B65\u7684\uFF0C\u5982\u679C\u591A\u4E2A\u7EBF\u7A0B\u540C\u65F6\u8BBF\u95EE\u4E00\u4E2A HashSet\uFF0C\u5047\u8BBE\u6709\u4E24\u4E2A\u6216\u8005\u4E24\u4E2A\u4EE5\u4E0A\u7EBF\u7A0B\u540C\u65F6\u4FEE\u6539\u4E86 HashSet \u96C6\u5408\u65F6\uFF0C\u5219\u5FC5\u987B\u901A\u8FC7\u4EE3\u7801\u6765\u4FDD\u8BC1\u5176\u540C\u6B65\u3002</li><li>\u96C6\u5408\u5143\u7D20\u503C\u53EF\u4EE5\u662F null\u3002</li></ol><p>\u5F53\u5411 HashSet \u96C6\u5408\u4E2D\u5B58\u5165\u4E00\u4E2A\u5143\u7D20\u65F6\uFF0CHashSet \u4F1A\u8C03\u7528\u8BE5\u5BF9\u8C61\u7684 <code>hashCode()</code>\u65B9\u6CD5\u6765\u5F97\u5230\u8BE5\u5BF9\u8C61\u7684 hashCode \u503C\uFF0C\u7136\u540E\u6839\u636E\u8BE5 HashCode \u503C\u51B3\u5B9A\u8BE5\u5BF9\u8C61\u5728 HashSet \u4E2D\u7684\u5B58\u50A8\u4F4D\u7F6E\u3002</p><p>\u5982\u679C\u6709\u4E24\u4E2A\u5143\u7D20\u901A\u8FC7 <code>equals()</code>\u65B9\u6CD5\u6BD4\u8F83\u8FD4\u56DE true\uFF0C\u4F46\u5B83\u4EEC\u7684 <code>hashCode()</code>\u65B9\u6CD5\u8FD4\u56DE\u503C\u4E0D\u76F8\u7B49\uFF0CHashSet \u5C06\u4F1A\u628A\u5B83\u4EEC\u5B58\u50A8\u5728\u4E0D\u540C\u7684\u4F4D\u7F6E\uFF0C\u4F9D\u7136\u53EF\u4EE5\u6DFB\u52A0\u6210\u529F\u3002</p><p>\u7B80\u5355\u5730\u8BF4\uFF0CHashSet \u96C6\u5408\u5224\u65AD\u4E24\u4E2A\u5143\u7D20\u76F8\u7B49\u7684\u6807\u51C6\u662F\u4E24\u4E2A\u5BF9\u8C61\u901A\u8FC7 <code>equals()</code>\u65B9\u6CD5\u6BD4\u8F83\u76F8\u7B49\uFF0C\u5E76\u4E14\u4E24\u4E2A\u5BF9\u8C61\u7684 <code>hashCode()</code>\u65B9\u6CD5\u8FD4\u56DE\u503C\u4E5F\u76F8\u7B49\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// \u7C7BA\u7684equals()\u65B9\u6CD5\u603B\u662F\u8FD4\u56DEtrue\uFF0C\u4F46\u6CA1\u6709\u91CD\u5199\u5176hashCode()\u65B9\u6CD5</span>
<span class="token keyword">class</span> <span class="token class-name">A</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">equals</span><span class="token punctuation">(</span><span class="token class-name">Object</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// \u7C7BB\u7684hashCode()\u65B9\u6CD5\u603B\u662F\u8FD4\u56DE1\uFF0C\u4F46\u6CA1\u6709\u91CD\u5199\u5176equals()\u65B9\u6CD5</span>
<span class="token keyword">class</span> <span class="token class-name">B</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// \u7C7BC\u7684hashCode()\u65B9\u6CD5\u603B\u662F\u8FD4\u56DE2\uFF0C\u4E14\u91CD\u5199\u4E86\u5176equals()\u65B9\u6CD5</span>
<span class="token keyword">class</span> <span class="token class-name">C</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token number">2</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">equals</span><span class="token punctuation">(</span><span class="token class-name">Object</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HashSetTest</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">HashSet</span> books <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u5206\u522B\u5411books\u96C6\u5408\u4E2D\u6DFB\u52A0\u4E24\u4E2AA\u5BF9\u8C61\u3001\u4E24\u4E2AB\u5BF9\u8C61\u3001\u4E24\u4E2AC\u5BF9\u8C61</span>
        books<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">A</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        books<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">A</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        books<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">B</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        books<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">B</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        books<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">C</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        books<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">C</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>books<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/*
    [CollectionDemo.B@1, CollectionDemo.B@1, CollectionDemo.C@2, CollectionDemo.A@4554617c, CollectionDemo.A@1b6d3586]
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4E0A\u9762\u7A0B\u5E8F\u4E2D\u5411 books \u96C6\u5408\u4E2D\u5206\u522B\u6DFB\u52A0\u4E86\u4E24\u4E2A A \u5BF9\u8C61\u3001\u4E24\u4E2A B \u5BF9\u8C61\u548C\u4E24\u4E2A C \u5BF9\u8C61\uFF0C\u5176\u4E2D C \u7C7B\u91CD\u5199\u4E86 <code>equals()</code>\u65B9\u6CD5\u603B\u662F\u8FD4\u56DE true\uFF0C<code>hashCode()</code>\u65B9\u6CD5\u603B\u662F\u8FD4\u56DE 2\uFF0C\u8FD9\u5C06\u5BFC\u81F4 HashSet \u628A\u4E24\u4E2A C \u5BF9\u8C61\u5F53\u6210\u540C\u4E00\u4E2A\u5BF9\u8C61\u3002</p><div class="custom-container tip"><p class="custom-container-title">\u63D0\u793A</p><p>\u5F53\u628A\u4E00\u4E2A\u5BF9\u8C61\u653E\u5165 HashSet \u4E2D\u65F6\uFF0C\u5982\u679C\u9700\u8981\u91CD\u5199\u8BE5\u5BF9\u8C61\u5BF9\u5E94\u7C7B\u7684 <code>equals()</code>\u65B9\u6CD5\uFF0C\u5219\u4E5F\u5E94\u8BE5\u91CD\u5199\u5176 <code>hashCode()</code>\u65B9\u6CD5\u3002\u5176\u89C4\u5219\u662F\uFF1A\u5982\u679C\u4E24\u4E2A\u5BF9\u8C61\u901A\u8FC7 <code>equals()</code>\u65B9\u6CD5\u6BD4\u8F83\u8FD4\u56DE true\uFF0C\u8FD9\u4E24\u4E2A\u5BF9\u8C61\u7684 hashCode \u503C\u4E5F\u5E94\u8BE5\u76F8\u540C\u3002</p></div><p>\u5982\u679C\u4E24\u4E2A\u5BF9\u8C61\u901A\u8FC7 <code>equals()</code>\u65B9\u6CD5\u6BD4\u8F83\u8FD4\u56DE true\uFF0C\u4F46\u8FD9\u4E24\u4E2A\u5BF9\u8C61\u7684 <code>hashCode()</code>\u65B9\u6CD5\u8FD4\u56DE\u4E0D\u540C\u7684 hashCode \u503C\u65F6\uFF0C\u8FD9\u5C06\u5BFC\u81F4 HashSet \u4F1A\u628A\u8FD9\u4E24\u4E2A\u5BF9\u8C61\u4FDD\u5B58\u5728 Hash \u8868\u7684\u4E0D\u540C\u4F4D\u7F6E\uFF0C\u4ECE\u800C\u4F7F\u4E24\u4E2A\u5BF9\u8C61\u90FD\u53EF\u4EE5\u6DFB\u52A0\u6210\u529F\uFF0C\u8FD9\u5C31\u4E0E Set \u96C6\u5408\u7684\u89C4\u5219\u6709\u4E9B\u51FA\u5165\u4E86\u3002</p><p>\u5982\u679C\u4E24\u4E2A\u5BF9\u8C61\u7684 <code>hashCode()</code>\u65B9\u6CD5\u8FD4\u56DE\u7684 hashCode \u503C\u76F8\u540C\uFF0C\u4F46\u5B83\u4EEC\u901A\u8FC7 <code>equals()</code>\u65B9\u6CD5\u6BD4\u8F83\u8FD4\u56DE false \u65F6\u5C06\u66F4\u9EBB\u70E6\uFF1A\u56E0\u4E3A\u4E24\u4E2A\u5BF9\u8C61\u7684 hashCode \u503C\u76F8\u540C\uFF0CHashSet \u5C06\u8BD5\u56FE\u628A\u5B83\u4EEC\u4FDD\u5B58\u5728\u540C\u4E00\u4E2A\u4F4D\u7F6E\uFF0C\u4F46\u53C8\u4E0D\u884C\uFF08\u5426\u5219\u5C06\u53EA\u5269\u4E0B\u4E00\u4E2A\u5BF9\u8C61\uFF09\uFF0C\u6240\u4EE5\u5B9E\u9645\u4E0A\u4F1A\u5728\u8FD9\u4E2A\u4F4D\u7F6E\u7528\u94FE\u5F0F\u7ED3\u6784\u6765\u4FDD\u5B58\u591A\u4E2A\u5BF9\u8C61\uFF1B\u800C HashSet \u8BBF\u95EE\u96C6\u5408\u5143\u7D20\u65F6\u4E5F\u662F\u6839\u636E\u5143\u7D20\u7684 hashCode \u503C\u6765\u5FEB\u901F\u5B9A\u4F4D\u7684\uFF0C\u5982\u679C HashSet \u4E2D\u4E24\u4E2A\u4EE5\u4E0A\u7684\u5143\u7D20\u5177\u6709\u76F8\u540C\u7684 hashCode \u503C\uFF0C\u5C06\u4F1A\u5BFC\u81F4\u6027\u80FD\u4E0B\u964D\u3002</p><div class="custom-container info"><p class="custom-container-title">\u76F8\u5173\u4FE1\u606F</p><p>HashSet \u4E2D\u6BCF\u4E2A\u80FD\u5B58\u50A8\u5143\u7D20\u7684\u201C\u69FD\u4F4D\u201D\uFF08slot\uFF09\u901A\u5E38\u79F0\u4E3A\u201C\u6876\u201D\uFF08bucket\uFF09\uFF0C\u5982\u679C\u6709\u591A\u4E2A\u5143\u7D20\u7684 hashCode \u503C\u76F8\u540C\uFF0C\u4F46\u5B83\u4EEC\u901A\u8FC7 <code>equals()</code>\u65B9\u6CD5\u6BD4\u8F83\u8FD4\u56DE false\uFF0C\u5C31\u9700\u8981\u5728\u4E00\u4E2A\u201C\u6876\u201D\u91CC\u653E\u591A\u4E2A\u5143\u7D20\uFF0C\u8FD9\u6837\u4F1A\u5BFC\u81F4\u6027\u80FD\u4E0B\u964D\u3002</p></div><p>\u91CD\u5199 <code>hashCode()</code>\u65B9\u6CD5\u7684\u57FA\u672C\u89C4\u5219\u3002</p><ol><li>\u5728\u7A0B\u5E8F\u8FD0\u884C\u8FC7\u7A0B\u4E2D\uFF0C\u540C\u4E00\u4E2A\u5BF9\u8C61\u591A\u6B21\u8C03\u7528 <code>hashCode()</code>\u65B9\u6CD5\u5E94\u8BE5\u8FD4\u56DE\u76F8\u540C\u7684\u503C\u3002</li><li>\u5F53\u4E24\u4E2A\u5BF9\u8C61\u901A\u8FC7 <code>equals()</code>\u65B9\u6CD5\u6BD4\u8F83\u8FD4\u56DE true \u65F6\uFF0C\u8FD9\u4E24\u4E2A\u5BF9\u8C61\u7684 <code>hashCode()</code>\u65B9\u6CD5\u5E94\u8FD4\u56DE\u76F8\u7B49\u7684\u503C\u3002</li><li>\u5BF9\u8C61\u4E2D\u7528\u4F5C <code>equals()</code>\u65B9\u6CD5\u6BD4\u8F83\u6807\u51C6\u7684 Field\uFF0C\u90FD\u5E94\u8BE5\u7528\u6765\u8BA1\u7B97 hashCode \u503C\u3002</li></ol><p>\u91CD\u5199 <code>hashCode()</code>\u65B9\u6CD5\u7684\u4E00\u822C\u89C4\u5219\u3002</p><ol><li><p>\u628A\u5BF9\u8C61\u5185\u6BCF\u4E2A\u6709\u610F\u4E49\u7684 Field\uFF08\u5373\u6BCF\u4E2A\u7528\u505A <code>equals()</code>\u65B9\u6CD5\u6BD4\u8F83\u6807\u51C6\u7684 Field\uFF09\u8BA1\u7B97\u51FA\u4E00\u4E2A int \u7C7B\u578B\u7684 hashCode \u503C\u3002</p><p><img src="https://gcore.jsdelivr.net/gh/SurplusFate/guide_img@main/img/202208111041736.jpeg" alt="img"></p></li><li><p>\u7528\u7B2C 1 \u6B65\u8BA1\u7B97\u51FA\u6765\u7684\u591A\u4E2A hashCode \u503C\u7EC4\u5408\u8BA1\u7B97\u51FA\u4E00\u4E2A hashCode \u503C\u8FD4\u56DE\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">return</span> f1<span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span>f2<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u4E3A\u4E86\u907F\u514D\u76F4\u63A5\u76F8\u52A0\u4EA7\u751F\u5076\u7136\u76F8\u7B49\uFF08\u4E24\u4E2A\u5BF9\u8C61\u7684 f1\u3001f2 Field \u5E76\u4E0D\u76F8\u7B49\uFF0C\u4F46\u5B83\u4EEC\u7684\u548C\u6070\u597D\u76F8\u7B49\uFF09\uFF0C\u53EF\u4EE5\u901A\u8FC7\u4E3A\u5404 Field \u4E58\u4EE5\u4EFB\u610F\u4E00\u4E2A\u8D28\u6570\u540E\u518D\u76F8\u52A0\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">return</span> f1<span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">17</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span>f2 <span class="token operator">*</span> <span class="token number">13</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u5982\u679C\u5411 HashSet \u4E2D\u6DFB\u52A0\u4E00\u4E2A\u53EF\u53D8\u5BF9\u8C61\u540E\uFF0C\u540E\u9762\u7A0B\u5E8F\u4FEE\u6539\u4E86\u8BE5\u53EF\u53D8\u5BF9\u8C61\u7684 Field\uFF0C\u5219\u53EF\u80FD\u5BFC\u81F4\u5B83\u4E0E\u96C6\u5408\u4E2D\u7684\u5176\u4ED6\u5143\u7D20\u76F8\u540C\uFF0C\u8FD9\u5C31\u6709\u53EF\u80FD\u5BFC\u81F4 HashSet \u4E2D\u5305\u542B\u4E24\u4E2A\u76F8\u540C\u7684\u5BF9\u8C61\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">R</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> count<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">R</span><span class="token punctuation">(</span><span class="token keyword">int</span> count<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>count <span class="token operator">=</span> count<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;R[count:&quot;</span> <span class="token operator">+</span> count <span class="token operator">+</span> <span class="token string">&quot;]&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">equals</span><span class="token punctuation">(</span><span class="token class-name">Object</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token operator">==</span> obj<span class="token punctuation">)</span>
            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>obj <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> obj<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">R</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">R</span> r <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">)</span>obj<span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>r<span class="token punctuation">.</span>count <span class="token operator">==</span> <span class="token keyword">this</span><span class="token punctuation">.</span>count<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>count<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HashSetTest2</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">HashSet</span> hs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        hs<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">R</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        hs<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">R</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        hs<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">R</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        hs<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">R</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u6253\u5370HashSet\u96C6\u5408\uFF0C\u96C6\u5408\u5143\u7D20\u6CA1\u6709\u91CD\u590D</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>hs<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u53D6\u51FA\u7B2C\u4E00\u4E2A\u5143\u7D20</span>
        <span class="token class-name">Iterator</span> it <span class="token operator">=</span> hs<span class="token punctuation">.</span><span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">R</span> first <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">)</span>it<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u2460\u4E3A\u7B2C\u4E00\u4E2A\u5143\u7D20\u7684count\u5B9E\u4F8B\u53D8\u91CF\u8D4B\u503C</span>
        first<span class="token punctuation">.</span>count <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">;</span>
        <span class="token comment">// \u518D\u6B21\u8F93\u51FAHashSet\u96C6\u5408\uFF0C\u96C6\u5408\u5143\u7D20\u6709\u91CD\u590D\u5143\u7D20</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>hs<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u2461\u5220\u9664count\u4E3A-3\u7684R\u5BF9\u8C61</span>
        hs<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">R</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u53EF\u4EE5\u770B\u5230\u88AB\u5220\u9664\u4E86\u4E00\u4E2AR\u5143\u7D20</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>hs<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u8F93\u51FAfalse</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;hs\u662F\u5426\u5305\u542Bcount\u4E3A-3\u7684R\u5BF9\u8C61\uFF1F&quot;</span> <span class="token operator">+</span> hs<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">R</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u8F93\u51FAfalse</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;hs\u662F\u5426\u5305\u542Bcount\u4E3A5\u7684R\u5BF9\u8C61\uFF1F&quot;</span> <span class="token operator">+</span> hs<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">R</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/*
    [R[count:-2], R[count:-3], R[count:5], R[count:9]]
    [R[count:-3], R[count:-3], R[count:5], R[count:9]]
    [R[count:-3], R[count:5], R[count:9]]
    hs\u662F\u5426\u5305\u542Bcount\u4E3A-3\u7684R\u5BF9\u8C61\uFF1Ffalse
    hs\u662F\u5426\u5305\u542Bcount\u4E3A5\u7684R\u5BF9\u8C61\uFF1Ftrue
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u6B64\u65F6 HashSet \u4F1A\u6BD4\u8F83\u6DF7\u4E71\uFF1A\u5F53\u8BD5\u56FE\u5220\u9664 count \u4E3A-3 \u7684 R \u5BF9\u8C61\u65F6\uFF0CHashSet \u4F1A\u8BA1\u7B97\u51FA\u8BE5\u5BF9\u8C61\u7684 hashCode \u503C\uFF0C\u4ECE\u800C\u627E\u51FA\u8BE5\u5BF9\u8C61\u5728\u96C6\u5408\u4E2D\u7684\u4FDD\u5B58\u4F4D\u7F6E\uFF0C\u7136\u540E\u628A\u6B64\u5904\u7684\u5BF9\u8C61\u4E0E count \u4E3A-3 \u7684 R \u5BF9\u8C61\u901A\u8FC7 <code>equals()</code>\u65B9\u6CD5\u8FDB\u884C\u6BD4\u8F83\uFF0C\u5982\u679C\u76F8\u7B49\u5219\u5220\u9664\u8BE5\u5BF9\u8C61\u2014\u2014HashSet \u53EA\u6709\u7B2C\u4E09\u4E2A\u5143\u7D20\u624D\u6EE1\u8DB3\u8BE5\u6761\u4EF6\uFF08\u7B2C\u4E00\u4E2A\u5143\u7D20\u5B9E\u9645\u4E0A\u4FDD\u5B58\u5728 count \u4E3A 5 \u7684 R \u5BF9\u8C61\u5BF9\u5E94\u7684\u4F4D\u7F6E\uFF09\uFF0C\u6240\u4EE5\u7B2C\u4E09\u4E2A\u5143\u7D20\u88AB\u5220\u9664\u3002\u81F3\u4E8E\u7B2C\u4E00\u4E2A count \u4E3A-3 \u7684 R \u5BF9\u8C61\uFF0C\u5B83\u4FDD\u5B58\u5728 count \u4E3A 5 \u7684 R \u5BF9\u8C61\u5BF9\u5E94\u7684\u4F4D\u7F6E\uFF0C\u4F46\u4F7F\u7528 <code>equals()</code>\u65B9\u6CD5\u62FF\u5B83\u548C count \u4E3A 5 \u7684 R \u5BF9\u8C61\u6BD4\u8F83\u65F6\u53C8\u8FD4\u56DE false\u2014\u2014\u8FD9\u5C06\u5BFC\u81F4 HashSet \u4E0D\u53EF\u80FD\u51C6\u786E\u8BBF\u95EE\u8BE5\u5143\u7D20\u3002</p></li></ol><h3 id="linkedhashset-\u7C7B" tabindex="-1"><a class="header-anchor" href="#linkedhashset-\u7C7B" aria-hidden="true">#</a> LinkedHashSet \u7C7B</h3><p>HashSet \u8FD8\u6709\u4E00\u4E2A\u5B50\u7C7B LinkedHashSet\uFF0CLinkedHashSet \u96C6\u5408\u4E5F\u662F\u6839\u636E\u5143\u7D20\u7684 hashCode \u503C\u6765\u51B3\u5B9A\u5143\u7D20\u7684\u5B58\u50A8\u4F4D\u7F6E\uFF0C\u4F46\u5B83\u540C\u65F6\u4F7F\u7528\u94FE\u8868\u7EF4\u62A4\u5143\u7D20\u7684\u6B21\u5E8F\uFF0C\u8FD9\u6837\u4F7F\u5F97\u5143\u7D20\u770B\u8D77\u6765\u662F\u4EE5\u63D2\u5165\u7684\u987A\u5E8F\u4FDD\u5B58\u7684\u3002\u4E5F\u5C31\u662F\u8BF4\uFF0C\u5F53\u904D\u5386 LinkedHashSet \u96C6\u5408\u91CC\u7684\u5143\u7D20\u65F6\uFF0CLinkedHashSet \u5C06\u4F1A\u6309\u5143\u7D20\u7684\u6DFB\u52A0\u987A\u5E8F\u6765\u8BBF\u95EE\u96C6\u5408\u91CC\u7684\u5143\u7D20\u3002</p><p>LinkedHashSet \u9700\u8981\u7EF4\u62A4\u5143\u7D20\u7684\u63D2\u5165\u987A\u5E8F\uFF0C\u56E0\u6B64\u6027\u80FD\u7565\u4F4E\u4E8E HashSet \u7684\u6027\u80FD\uFF0C\u4F46\u5728\u8FED\u4EE3\u8BBF\u95EE Set \u91CC\u7684\u5168\u90E8\u5143\u7D20\u65F6\u5C06\u6709\u5F88\u597D\u7684\u6027\u80FD\uFF0C\u56E0\u4E3A\u5B83\u4EE5\u94FE\u8868\u6765\u7EF4\u62A4\u5185\u90E8\u987A\u5E8F\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LinkedHashSetTest</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">LinkedHashSet</span> books <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LinkedHashSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        books<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;\u75AF\u72C2Java\u8BB2\u4E49&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        books<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;\u8F7B\u91CF\u7EA7Java EE\u4F01\u4E1A\u5E94\u7528\u5B9E\u6218&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>books<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u5220\u9664 \u75AF\u72C2Java\u8BB2\u4E49</span>
        books<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">&quot;\u75AF\u72C2Java\u8BB2\u4E49&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u91CD\u65B0\u6DFB\u52A0 \u75AF\u72C2Java\u8BB2\u4E49</span>
        books<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;\u75AF\u72C2Java\u8BB2\u4E49&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>books<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/*
    [\u75AF\u72C2Java\u8BB2\u4E49, \u8F7B\u91CF\u7EA7Java EE\u4F01\u4E1A\u5E94\u7528\u5B9E\u6218]
    [\u8F7B\u91CF\u7EA7Java EE\u4F01\u4E1A\u5E94\u7528\u5B9E\u6218, \u75AF\u72C2Java\u8BB2\u4E49]
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container tip"><p class="custom-container-title">\u63D0\u793A</p><p>\u867D\u7136 LinkedHashSet \u4F7F\u7528\u4E86\u94FE\u8868\u8BB0\u5F55\u96C6\u5408\u5143\u7D20\u7684\u6DFB\u52A0\u987A\u5E8F\uFF0C\u4F46 LinkedHashSet \u4F9D\u7136\u662F HashSet\uFF0C\u56E0\u6B64\u5B83\u4F9D\u7136\u4E0D\u5141\u8BB8\u96C6\u5408\u5143\u7D20\u91CD\u590D\u3002</p></div><h3 id="treeset-\u7C7B" tabindex="-1"><a class="header-anchor" href="#treeset-\u7C7B" aria-hidden="true">#</a> TreeSet \u7C7B</h3><p>TreeSet \u662F SortedSet \u63A5\u53E3\u7684\u5B9E\u73B0\u7C7B\uFF0C\u6B63\u5982 SortedSet \u540D\u5B57\u6240\u6697\u793A\u7684\uFF0CTreeSet \u53EF\u4EE5\u786E\u4FDD\u96C6\u5408\u5143\u7D20\u5904\u4E8E\u6392\u5E8F\u72B6\u6001\u3002\u4E0E HashSet \u96C6\u5408\u76F8\u6BD4\uFF0CTreeSet \u8FD8\u63D0\u4F9B\u4E86\u5982\u4E0B\u51E0\u4E2A\u989D\u5916\u7684\u65B9\u6CD5\u3002</p><ol><li><code>Comparator comparator()</code>\uFF1A\u5982\u679C TreeSet \u91C7\u7528\u4E86\u5B9A\u5236\u6392\u5E8F\uFF0C\u5219\u8BE5\u65B9\u6CD5\u8FD4\u56DE\u5B9A\u5236\u6392\u5E8F\u6240\u4F7F\u7528\u7684 Comparator\uFF1B\u5982\u679C TreeSet \u91C7\u7528\u4E86\u81EA\u7136\u6392\u5E8F\uFF0C\u5219\u8FD4\u56DE null\u3002</li><li><code>Object first()</code>\uFF1A\u8FD4\u56DE\u96C6\u5408\u4E2D\u7684\u7B2C\u4E00\u4E2A\u5143\u7D20\u3002</li><li><code>Object last()</code>\uFF1A\u8FD4\u56DE\u96C6\u5408\u4E2D\u7684\u6700\u540E\u4E00\u4E2A\u5143\u7D20\u3002</li><li><code>Object lower(Object e)</code>\uFF1A\u8FD4\u56DE\u96C6\u5408\u4E2D\u4F4D\u4E8E\u6307\u5B9A\u5143\u7D20\u4E4B\u524D\u7684\u5143\u7D20\uFF08\u5373\u5C0F\u4E8E\u6307\u5B9A\u5143\u7D20\u7684\u6700\u5927\u5143\u7D20\uFF0C\u53C2\u8003\u5143\u7D20\u4E0D\u9700\u8981\u662F TreeSet \u96C6\u5408\u91CC\u7684\u5143\u7D20\uFF09\u3002</li><li><code>Object higher (Object e)</code>\uFF1A\u8FD4\u56DE\u96C6\u5408\u4E2D\u4F4D\u4E8E\u6307\u5B9A\u5143\u7D20\u4E4B\u540E\u7684\u5143\u7D20\uFF08\u5373\u5927\u4E8E\u6307\u5B9A\u5143\u7D20\u7684\u6700\u5C0F\u5143\u7D20\uFF0C\u53C2\u8003\u5143\u7D20\u4E0D\u9700\u8981\u662F TreeSet \u96C6\u5408\u91CC\u7684\u5143\u7D20\uFF09\u3002</li><li><code>SortedSet subSet(fromElement, toElement)</code>\uFF1A\u8FD4\u56DE\u6B64 Set \u7684\u5B50\u96C6\u5408\uFF0C\u8303\u56F4\u4ECE fromElement\uFF08\u5305\u542B\uFF09\u5230 toElement\uFF08\u4E0D\u5305\u542B\uFF09\u3002</li><li><code>SortedSet headSet(toElement)</code>\uFF1A\u8FD4\u56DE\u6B64 Set \u7684\u5B50\u96C6\uFF0C\u7531\u5C0F\u4E8E toElement \u7684\u5143\u7D20\u7EC4\u6210\u3002</li><li><code>SortedSet tailSet(fromElement)</code>\uFF1A\u8FD4\u56DE\u6B64 Set \u7684\u5B50\u96C6\uFF0C\u7531\u5927\u4E8E\u6216\u7B49\u4E8E fromElement \u7684\u5143\u7D20\u7EC4\u6210\u3002</li></ol><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TreeSetTest</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">TreeSet</span> nums <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TreeSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u5411TreeSet\u4E2D\u6DFB\u52A0\u56DB\u4E2AInteger\u5BF9\u8C61</span>
        nums<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        nums<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        nums<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        nums<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u8F93\u51FA\u96C6\u5408\u5143\u7D20\uFF0C\u770B\u5230\u96C6\u5408\u5143\u7D20\u5DF2\u7ECF\u5904\u4E8E\u6392\u5E8F\u72B6\u6001</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u8F93\u51FA\u96C6\u5408\u91CC\u7684\u7B2C\u4E00\u4E2A\u5143\u7D20</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>nums<span class="token punctuation">.</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u8F93\u51FA\u96C6\u5408\u91CC\u7684\u6700\u540E\u4E00\u4E2A\u5143\u7D20</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>nums<span class="token punctuation">.</span><span class="token function">last</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u8FD4\u56DE\u5C0F\u4E8E4\u7684\u5B50\u96C6\uFF0C\u4E0D\u5305\u542B4</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>nums<span class="token punctuation">.</span><span class="token function">headSet</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u8FD4\u56DE\u5927\u4E8E5\u7684\u5B50\u96C6\uFF0C\u5982\u679CSet\u4E2D\u5305\u542B5\uFF0C\u5B50\u96C6\u4E2D\u4E5F\u5305\u542B5</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>nums<span class="token punctuation">.</span><span class="token function">tailSet</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u8FD4\u56DE\u5927\u4E8E\u7B49\u4E8E-3\u3001\u5C0F\u4E8E4\u7684\u5B50\u96C6</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>nums<span class="token punctuation">.</span><span class="token function">subSet</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/*
    [-9, 2, 5, 10]
    -9
    10
    [-9, 2]
    [5, 10]
    [2]
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4E0E HashSet \u96C6\u5408\u91C7\u7528 hash \u7B97\u6CD5\u6765\u51B3\u5B9A\u5143\u7D20\u7684\u5B58\u50A8\u4F4D\u7F6E\u4E0D\u540C\uFF0CTreeSet \u91C7\u7528\u7EA2\u9ED1\u6811\u7684\u6570\u636E\u7ED3\u6784\u6765\u5B58\u50A8\u96C6\u5408\u5143\u7D20\u3002TreeSet \u652F\u6301\u4E24\u79CD\u6392\u5E8F\u65B9\u6CD5\uFF1A\u81EA\u7136\u6392\u5E8F\u548C\u5B9A\u5236\u6392\u5E8F\u3002\u5728\u9ED8\u8BA4\u60C5\u51B5\u4E0B\uFF0CTreeSet \u91C7\u7528\u81EA\u7136\u6392\u5E8F\u3002</p><p><strong>1. \u81EA\u7136\u6392\u5E8F\u81EA\u7136\u6392\u5E8F\uFF1A</strong></p><p>TreeSet \u4F1A\u8C03\u7528\u96C6\u5408\u5143\u7D20\u7684 <code>compareTo(Object obj)</code>\u65B9\u6CD5\u6765\u6BD4\u8F83\u5143\u7D20\u4E4B\u95F4\u7684\u5927\u5C0F\u5173\u7CFB\uFF0C\u7136\u540E\u5C06\u96C6\u5408\u5143\u7D20\u6309\u5347\u5E8F\u6392\u5217\uFF0C\u8FD9\u79CD\u65B9\u5F0F\u5C31\u662F\u81EA\u7136\u6392\u5E8F\u3002</p><p>Java \u63D0\u4F9B\u4E86\u4E00\u4E2A Comparable \u63A5\u53E3\uFF0C\u8BE5\u63A5\u53E3\u91CC\u5B9A\u4E49\u4E86\u4E00\u4E2A <code>compareTo(Object obj)</code>\u65B9\u6CD5\uFF0C\u8BE5\u65B9\u6CD5\u8FD4\u56DE\u4E00\u4E2A\u6574\u6570\u503C\uFF0C\u5B9E\u73B0\u8BE5\u63A5\u53E3\u7684\u7C7B\u5FC5\u987B\u5B9E\u73B0\u8BE5\u65B9\u6CD5\uFF0C\u5B9E\u73B0\u4E86\u8BE5\u63A5\u53E3\u7684\u7C7B\u7684\u5BF9\u8C61\u5C31\u53EF\u4EE5\u6BD4\u8F83\u5927\u5C0F\u3002</p><p>\u5F53\u4E00\u4E2A\u5BF9\u8C61\u8C03\u7528\u8BE5\u65B9\u6CD5\u4E0E\u53E6\u4E00\u4E2A\u5BF9\u8C61\u8FDB\u884C\u6BD4\u8F83\u65F6\uFF0C\u4F8B\u5982 <code>obj1.compareTo(obj2)</code>\uFF0C\u5982\u679C\u8BE5\u65B9\u6CD5\u8FD4\u56DE 0\uFF0C\u5219\u8868\u660E\u8FD9\u4E24\u4E2A\u5BF9\u8C61\u76F8\u7B49\uFF1B\u5982\u679C\u8BE5\u65B9\u6CD5\u8FD4\u56DE\u4E00\u4E2A\u6B63\u6574\u6570\uFF0C\u5219\u8868\u660E obj1 \u5927\u4E8E obj2\uFF1B\u5982\u679C\u8BE5\u65B9\u6CD5\u8FD4\u56DE\u4E00\u4E2A\u8D1F\u6574\u6570\uFF0C\u5219\u8868\u660E obj1 \u5C0F\u4E8E obj2\u3002</p><p>Java \u7684\u4E00\u4E9B\u5E38\u7528\u7C7B\u5DF2\u7ECF\u5B9E\u73B0\u4E86 Comparable \u63A5\u53E3\uFF0C\u5E76\u63D0\u4F9B\u4E86\u6BD4\u8F83\u5927\u5C0F\u7684\u6807\u51C6\u3002</p><ol><li>BigDecimal\u3001BigInteger \u4EE5\u53CA\u6240\u6709\u7684\u6570\u503C\u578B\u5BF9\u5E94\u7684\u5305\u88C5\u7C7B\uFF1A\u6309\u5B83\u4EEC\u5BF9\u5E94\u7684\u6570\u503C\u5927\u5C0F\u8FDB\u884C\u6BD4\u8F83\u3002</li><li>Character\uFF1A\u6309\u5B57\u7B26\u7684 UNICODE \u503C\u8FDB\u884C\u6BD4\u8F83\u3002</li><li>Boolean\uFF1Atrue \u5BF9\u5E94\u7684\u5305\u88C5\u7C7B\u5B9E\u4F8B\u5927\u4E8E false \u5BF9\u5E94\u7684\u5305\u88C5\u7C7B\u5B9E\u4F8B\u3002</li><li>String\uFF1A\u6309\u5B57\u7B26\u4E32\u4E2D\u5B57\u7B26\u7684 UNICODE \u503C\u8FDB\u884C\u6BD4\u8F83\u3002</li><li>Date\u3001Time\uFF1A\u540E\u9762\u7684\u65F6\u95F4\u3001\u65E5\u671F\u6BD4\u524D\u9762\u7684\u65F6\u95F4\u3001\u65E5\u671F\u5927\u3002</li></ol><p>\u5982\u679C\u8BD5\u56FE\u628A\u4E00\u4E2A\u5BF9\u8C61\u6DFB\u52A0\u5230 TreeSet \u65F6\uFF0C\u5219\u8BE5\u5BF9\u8C61\u7684\u7C7B\u5FC5\u987B\u5B9E\u73B0 Comparable \u63A5\u53E3\uFF0C\u5426\u5219\u7A0B\u5E8F\u5C06\u4F1A\u629B\u51FA\u5F02\u5E38\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Err</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TreeSetErrorTest</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">TreeSet</span> ts <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TreeSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u2460\u5411TreeSet\u96C6\u5408\u4E2D\u6DFB\u52A0\u4E24\u4E2AErr\u5BF9\u8C61</span>
        ts<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Err</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ts<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Err</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u6DFB\u52A0\u7B2C\u4E00\u4E2A\u5BF9\u8C61\u65F6\uFF0CTreeSet \u91CC\u6CA1\u6709\u4EFB\u4F55\u5143\u7D20\uFF0C\u6240\u4EE5\u4E0D\u4F1A\u51FA\u73B0\u4EFB\u4F55\u95EE\u9898\uFF1B\u5F53\u6DFB\u52A0\u7B2C\u4E8C\u4E2A Err \u5BF9\u8C61\u65F6\uFF0CTreeSet \u5C31\u4F1A\u8C03\u7528\u8BE5\u5BF9\u8C61\u7684 <code>compareTo(Object obj)</code>\u65B9\u6CD5\u4E0E\u96C6\u5408\u4E2D\u7684\u5176\u4ED6\u5143\u7D20\u8FDB\u884C\u6BD4\u8F83\u2014\u2014\u5982\u679C\u5176\u5BF9\u5E94\u7684\u7C7B\u6CA1\u6709\u5B9E\u73B0 Comparable \u63A5\u53E3\uFF0C\u5219\u4F1A\u5F15\u53D1 <code>ClassCastException</code> \u5F02\u5E38\u3002</p><div class="custom-container tip"><p class="custom-container-title">\u63D0\u793A</p><p>\u5411 TreeSet \u96C6\u5408\u4E2D\u6DFB\u52A0\u5143\u7D20\u65F6\uFF0C\u53EA\u6709\u7B2C\u4E00\u4E2A\u5143\u7D20\u65E0\u987B\u5B9E\u73B0 Comparable \u63A5\u53E3\uFF0C\u540E\u9762\u6DFB\u52A0\u7684\u6240\u6709\u5143\u7D20\u90FD\u5FC5\u987B\u5B9E\u73B0 Comparable \u63A5\u53E3\u3002\u5F53\u7136\u8FD9\u4E5F\u4E0D\u662F\u4E00\u79CD\u597D\u505A\u6CD5\uFF0C\u5F53\u8BD5\u56FE\u4ECE TreeSet \u4E2D\u53D6\u51FA\u5143\u7D20\u65F6\uFF0C\u4F9D\u7136\u4F1A\u5F15\u53D1 <code>ClassCastException</code> \u5F02\u5E38\u3002</p></div><p>\u5927\u90E8\u5206\u7C7B\u5728\u5B9E\u73B0 <code>compareTo(Object obj)</code>\u65B9\u6CD5\u65F6\uFF0C\u90FD\u9700\u8981\u5C06\u88AB\u6BD4\u8F83\u5BF9\u8C61 obj \u5F3A\u5236\u7C7B\u578B\u8F6C\u6362\u6210\u76F8\u540C\u7C7B\u578B\uFF0C\u56E0\u4E3A\u53EA\u6709\u76F8\u540C\u7C7B\u7684\u4E24\u4E2A\u5B9E\u4F8B\u624D\u4F1A\u6BD4\u8F83\u5927\u5C0F\u3002\u5F53\u8BD5\u56FE\u628A\u4E00\u4E2A\u5BF9\u8C61\u6DFB\u52A0\u5230 TreeSet \u96C6\u5408\u65F6\uFF0CTreeSet \u4F1A\u8C03\u7528\u8BE5\u5BF9\u8C61\u7684 <code>compareTo(Object obj)</code>\u65B9\u6CD5\u4E0E\u96C6\u5408\u4E2D\u7684\u5176\u4ED6\u5143\u7D20\u8FDB\u884C\u6BD4\u8F83\u2014\u2014\u8FD9\u5C31\u8981\u6C42\u96C6\u5408\u4E2D\u7684\u5176\u4ED6\u5143\u7D20\u4E0E\u8BE5\u5143\u7D20\u662F\u540C\u4E00\u4E2A\u7C7B\u7684\u5B9E\u4F8B\u3002\u4E5F\u5C31\u662F\u8BF4\uFF0C\u5411 TreeSet \u4E2D\u6DFB\u52A0\u7684\u5E94\u8BE5\u662F\u540C\u4E00\u4E2A\u7C7B\u7684\u5BF9\u8C61\uFF0C\u5426\u5219\u4E5F\u4F1A\u5F15\u53D1 <code>ClassCastException</code> \u5F02\u5E38\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TreeSetErrorTest2</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">TreeSet</span> ts <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TreeSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u2460\u5411TreeSet\u96C6\u5408\u4E2D\u6DFB\u52A0\u4E24\u4E2A\u5BF9\u8C61</span>
        ts<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">&quot;Struts\u6743\u5A01\u6307\u5357&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ts<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5982\u679C\u5411 TreeSet \u4E2D\u6DFB\u52A0\u7684\u5BF9\u8C61\u662F\u7A0B\u5E8F\u5458\u81EA\u5B9A\u4E49\u7C7B\u7684\u5BF9\u8C61\uFF0C\u5219\u53EF\u4EE5\u5411 TreeSet \u4E2D\u6DFB\u52A0\u591A\u79CD\u7C7B\u578B\u7684\u5BF9\u8C61\uFF0C\u524D\u63D0\u662F\u7528\u6237\u81EA\u5B9A\u4E49\u7C7B\u5B9E\u73B0\u4E86 Comparable \u63A5\u53E3\uFF0C\u5B9E\u73B0\u8BE5\u63A5\u53E3\u65F6\u5B9E\u73B0\u7684 <code>compareTo(Object obj)</code>\u65B9\u6CD5\u6CA1\u6709\u8FDB\u884C\u5F3A\u5236\u7C7B\u578B\u8F6C\u6362\u3002\u4F46\u5F53\u8BD5\u56FE\u53D6\u51FA TreeSet \u91CC\u7684\u96C6\u5408\u6570\u636E\u65F6\uFF0C\u4E0D\u540C\u7C7B\u578B\u7684\u5143\u7D20\u4F9D\u7136\u4F1A\u53D1\u751F <code>ClassCastException</code> \u5F02\u5E38\u3002</p><p>\u5F53\u628A\u4E00\u4E2A\u5BF9\u8C61\u52A0\u5165 TreeSet \u96C6\u5408\u4E2D\u65F6\uFF0CTreeSet \u8C03\u7528\u8BE5\u5BF9\u8C61\u7684 <code>compareTo(Object obj)</code>\u65B9\u6CD5\u4E0E\u5BB9\u5668\u4E2D\u7684\u5176\u4ED6\u5BF9\u8C61\u6BD4\u8F83\u5927\u5C0F\uFF0C\u7136\u540E\u6839\u636E\u7EA2\u9ED1\u6811\u7ED3\u6784\u627E\u5230\u5B83\u7684\u5B58\u50A8\u4F4D\u7F6E\u3002\u5982\u679C\u4E24\u4E2A\u5BF9\u8C61\u901A\u8FC7 <code>compareTo(Object obj)</code>\u65B9\u6CD5\u6BD4\u8F83\u76F8\u7B49\uFF0C\u65B0\u5BF9\u8C61\u5C06\u65E0\u6CD5\u6DFB\u52A0\u5230 TreeSet \u96C6\u5408\u4E2D\u3002</p><p>\u5BF9\u4E8E TreeSet \u96C6\u5408\u800C\u8A00\uFF0C\u5B83\u5224\u65AD\u4E24\u4E2A\u5BF9\u8C61\u662F\u5426\u76F8\u7B49\u7684\u552F\u4E00\u6807\u51C6\u662F\uFF1A\u4E24\u4E2A\u5BF9\u8C61\u901A\u8FC7 <code>compareTo(Object obj)</code>\u65B9\u6CD5\u6BD4\u8F83\u662F\u5426\u8FD4\u56DE 0\u2014\u2014\u5982\u679C\u901A\u8FC7 <code>compareTo(Object obj)</code>\u65B9\u6CD5\u6BD4\u8F83\u8FD4\u56DE 0\uFF0CTreeSet \u5219\u4F1A\u8BA4\u4E3A\u5B83\u4EEC\u76F8\u7B49\uFF1B\u5426\u5219\u5C31\u8BA4\u4E3A\u5B83\u4EEC\u4E0D\u76F8\u7B49\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Z</span> <span class="token keyword">implements</span> <span class="token class-name">Comparable</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> age<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">Z</span><span class="token punctuation">(</span><span class="token keyword">int</span> age<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// \u91CD\u5199equals()\u65B9\u6CD5\uFF0C\u603B\u662F\u8FD4\u56DEtrue</span>
    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">equals</span><span class="token punctuation">(</span><span class="token class-name">Object</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// \u91CD\u5199\u4E86compareTo(Object obj)\u65B9\u6CD5\uFF0C\u603B\u662F\u8FD4\u56DE\u6B63\u6574\u6570</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">compareTo</span><span class="token punctuation">(</span><span class="token class-name">Object</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TreeSetTest2</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">TreeSet</span> set <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TreeSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Z</span> z1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Z</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        set<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>z1<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u2460\u8F93\u51FAtrue\uFF0C\u8868\u660E\u6DFB\u52A0\u6210\u529F</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>set<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>z1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u4E0B\u9762\u8F93\u51FAset\u96C6\u5408\uFF0C\u5C06\u770B\u5230\u6709\u4E24\u4E2A\u5143\u7D20</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>set<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u4FEE\u6539set\u96C6\u5408\u7684\u7B2C\u4E00\u4E2A\u5143\u7D20\u7684age\u53D8\u91CF</span>
        <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">Z</span><span class="token punctuation">)</span><span class="token punctuation">(</span>set<span class="token punctuation">.</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">9</span><span class="token punctuation">;</span>
        <span class="token comment">// \u8F93\u51FAset\u96C6\u5408\u7684\u6700\u540E\u4E00\u4E2A\u5143\u7D20\u7684age\u53D8\u91CF\uFF0C\u5C06\u770B\u5230\u4E5F\u53D8\u6210\u4E869</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">Z</span><span class="token punctuation">)</span><span class="token punctuation">(</span>set<span class="token punctuation">.</span><span class="token function">last</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u7A0B\u5E8F\u4E2D \u2460 \u4EE3\u7801\u884C\u628A\u540C\u4E00\u4E2A\u5BF9\u8C61\u518D\u6B21\u6DFB\u52A0\u5230 TreeSet \u96C6\u5408\u4E2D\uFF0C\u56E0\u4E3A z1 \u5BF9\u8C61\u7684 <code>compareTo(Object obj)</code>\u65B9\u6CD5\u603B\u662F\u8FD4\u56DE 1\uFF0C\u867D\u7136\u5B83\u7684 <code>equals()</code>\u65B9\u6CD5\u603B\u662F\u8FD4\u56DE true\uFF0C\u4F46 TreeSet \u4F1A\u8BA4\u4E3A z1 \u5BF9\u8C61\u548C\u5B83\u81EA\u5DF1\u4E5F\u4E0D\u76F8\u7B49\uFF0C\u56E0\u6B64 TreeSet \u53EF\u4EE5\u6DFB\u52A0\u4E24\u4E2A z1 \u5BF9\u8C61\u3002</p><p><img src="https://gcore.jsdelivr.net/gh/SurplusFate/guide_img@main/img/202208111120994.jpeg" alt="img"></p><p>\u4ECE\u56FE\u4E2D\u53EF\u4EE5\u770B\u5230 TreeSet \u5BF9\u8C61\u4FDD\u5B58\u7684\u4E24\u4E2A\u5143\u7D20\u5F15\u7528\uFF0C\u5B9E\u9645\u4E0A\u662F\u540C\u4E00\u4E2A\u5143\u7D20\u3002\u6240\u4EE5\u5F53\u4FEE\u6539 TreeSet \u96C6\u5408\u91CC\u7B2C\u4E00\u4E2A\u5143\u7D20\u7684 age \u53D8\u91CF\u540E\uFF0C\u8BE5 TreeSet \u96C6\u5408\u91CC\u6700\u540E\u4E00\u4E2A\u5143\u7D20\u7684 age \u53D8\u91CF\u4E5F\u968F\u4E4B\u6539\u53D8\u4E86\u3002</p><p>\u5F53\u9700\u8981\u628A\u4E00\u4E2A\u5BF9\u8C61\u653E\u5165 TreeSet \u4E2D\uFF0C\u91CD\u5199\u8BE5\u5BF9\u8C61\u5BF9\u5E94\u7C7B\u7684 equals()\u65B9\u6CD5\u65F6\uFF0C\u5E94\u4FDD\u8BC1\u8BE5\u65B9\u6CD5\u4E0E <code>compareTo(Object obj)</code>\u65B9\u6CD5\u6709\u4E00\u81F4\u7684\u7ED3\u679C\uFF0C\u5176\u89C4\u5219\u662F\uFF1A\u5982\u679C\u4E24\u4E2A\u5BF9\u8C61\u901A\u8FC7 <code>equals()</code>\u65B9\u6CD5\u6BD4\u8F83\u8FD4\u56DE true \u65F6\uFF0C\u8FD9\u4E24\u4E2A\u5BF9\u8C61\u901A\u8FC7 <code>compareTo(Object obj)</code>\u65B9\u6CD5\u6BD4\u8F83\u5E94\u8FD4\u56DE 0\u3002</p><p>\u5982\u679C\u4E24\u4E2A\u5BF9\u8C61\u901A\u8FC7 <code>compareTo(Object obj)</code>\u65B9\u6CD5\u6BD4\u8F83\u8FD4\u56DE 0 \u65F6\uFF0C\u4F46\u5B83\u4EEC\u901A\u8FC7 <code>equals()</code>\u65B9\u6CD5\u6BD4\u8F83\u8FD4\u56DE false \u5C06\u5F88\u9EBB\u70E6\uFF0C\u56E0\u4E3A\u4E24\u4E2A\u5BF9\u8C61\u901A\u8FC7 <code>compareTo(Object obj)</code>\u65B9\u6CD5\u6BD4\u8F83\u76F8\u7B49\uFF0CTreeSet \u4E0D\u4F1A\u8BA9\u7B2C\u4E8C\u4E2A\u5143\u7D20\u6DFB\u52A0\u8FDB\u53BB\uFF0C\u8FD9\u5C31\u4F1A\u4E0E Set \u96C6\u5408\u7684\u89C4\u5219\u4EA7\u751F\u51B2\u7A81\u3002</p><p>\u5982\u679C\u5411 TreeSet \u4E2D\u6DFB\u52A0\u4E00\u4E2A\u53EF\u53D8\u5BF9\u8C61\u540E\uFF0C\u5E76\u4E14\u540E\u9762\u7A0B\u5E8F\u4FEE\u6539\u4E86\u8BE5\u53EF\u53D8\u5BF9\u8C61\u7684 Field\uFF0C\u8FD9\u5C06\u5BFC\u81F4\u5B83\u4E0E\u5176\u4ED6\u5BF9\u8C61\u7684\u5927\u5C0F\u987A\u5E8F\u53D1\u751F\u4E86\u6539\u53D8\uFF0C\u4F46 TreeSet \u4E0D\u4F1A\u518D\u6B21\u8C03\u6574\u5B83\u4EEC\u7684\u987A\u5E8F\uFF0C\u751A\u81F3\u53EF\u80FD\u5BFC\u81F4 TreeSet \u4E2D\u4FDD\u5B58\u7684\u8FD9\u4E24\u4E2A\u5BF9\u8C61\u901A\u8FC7 <code>compareTo(Object obj)</code>\u65B9\u6CD5\u6BD4\u8F83\u8FD4\u56DE 0\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">R1</span> <span class="token keyword">implements</span> <span class="token class-name">Comparable</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> count<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token function">R1</span><span class="token punctuation">(</span><span class="token keyword">int</span> count<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>count <span class="token operator">=</span> count<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;R1[count:&quot;</span> <span class="token operator">+</span> count <span class="token operator">+</span> <span class="token string">&quot;]&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// \u91CD\u5199equals()\u65B9\u6CD5\uFF0C\u6839\u636Ecount\u6765\u5224\u65AD\u662F\u5426\u76F8\u7B49</span>
    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">equals</span><span class="token punctuation">(</span><span class="token class-name">Object</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token operator">==</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>obj <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> obj<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">Z</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">R1</span> r <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token constant">R1</span><span class="token punctuation">)</span>obj<span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>r<span class="token punctuation">.</span>count <span class="token operator">==</span> <span class="token keyword">this</span><span class="token punctuation">.</span>count<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// \u91CD\u5199compareTo()\u65B9\u6CD5\uFF0C\u6839\u636Ecount\u6765\u6BD4\u8F83\u5927\u5C0F</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">compareTo</span><span class="token punctuation">(</span><span class="token class-name">Object</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">R1</span> r <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token constant">R1</span><span class="token punctuation">)</span>obj<span class="token punctuation">;</span>
        <span class="token keyword">return</span> count <span class="token operator">&gt;</span> r<span class="token punctuation">.</span>count <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> count <span class="token operator">&lt;</span> r<span class="token punctuation">.</span>count <span class="token operator">?</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TreeSetTest3</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">TreeSet</span> ts <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TreeSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ts<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">R1</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ts<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">R1</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ts<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">R1</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ts<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">R1</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u2460\u6253\u5370TreeSet\u96C6\u5408\uFF0C\u96C6\u5408\u5143\u7D20\u662F\u6709\u5E8F\u6392\u5217\u7684</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>ts<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u53D6\u51FA\u7B2C\u4E00\u4E2A\u5143\u7D20</span>
        <span class="token class-name">R1</span> first <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token constant">R1</span><span class="token punctuation">)</span>ts<span class="token punctuation">.</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u5BF9\u7B2C\u4E00\u4E2A\u5143\u7D20\u7684count\u8D4B\u503C</span>
        first<span class="token punctuation">.</span>count <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>
        <span class="token comment">// \u53D6\u51FA\u6700\u540E\u4E00\u4E2A\u5143\u7D20</span>
        <span class="token class-name">R1</span> last <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token constant">R1</span><span class="token punctuation">)</span>ts<span class="token punctuation">.</span><span class="token function">last</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u5BF9\u6700\u540E\u4E00\u4E2A\u5143\u7D20\u7684count\u8D4B\u503C\uFF0C\u4E0E\u7B2C\u4E8C\u4E2A\u5143\u7D20\u7684count\u76F8\u540C</span>
        last<span class="token punctuation">.</span>count <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">;</span>
        <span class="token comment">// \u2461\u518D\u6B21\u8F93\u51FA\u5C06\u770B\u5230TreeSet\u91CC\u7684\u5143\u7D20\u5904\u4E8E\u65E0\u5E8F\u72B6\u6001\uFF0C\u4E14\u6709\u91CD\u590D\u5143\u7D20</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>ts<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u2462\u5220\u9664Field\u88AB\u6539\u53D8\u7684\u5143\u7D20\uFF0C\u5220\u9664\u5931\u8D25</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>ts<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">R1</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>ts<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u2463\u5220\u9664Field\u6CA1\u6709\u6539\u53D8\u7684\u5143\u7D20\uFF0C\u5220\u9664\u6210\u529F</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>ts<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">R1</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>ts<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/*
    [R1[count:-3], R1[count:-2], R1[count:5], R1[count:9]]
    [R1[count:20], R1[count:-2], R1[count:5], R1[count:-2]]
    false
    [R1[count:20], R1[count:-2], R1[count:5], R1[count:-2]]
    true
    [R1[count:20], R1[count:-2], R1[count:-2]]
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4E0A\u9762\u7A0B\u5E8F\u4E2D\u7684 R \u5BF9\u8C61\u5BF9\u5E94\u7684\u7C7B\u6B63\u5E38\u91CD\u5199\u4E86 <code>equals()</code>\u65B9\u6CD5\u548C <code>compareTo()</code>\u65B9\u6CD5\uFF0C\u8FD9\u4E24\u4E2A\u65B9\u6CD5\u90FD\u4EE5 R \u5BF9\u8C61\u7684 count \u5B9E\u4F8B\u53D8\u91CF\u4F5C\u4E3A\u5224\u65AD\u7684\u4F9D\u636E\u3002</p><p>\u5F53\u7A0B\u5E8F\u6267\u884C \u2460 \u884C\u4EE3\u7801\u65F6\uFF0C\u770B\u5230\u7A0B\u5E8F\u8F93\u51FA\u7684 Set \u96C6\u5408\u5143\u7D20\u5904\u4E8E\u6709\u5E8F\u72B6\u6001\uFF1B\u56E0\u4E3A R1 \u7C7B\u662F\u4E00\u4E2A\u53EF\u53D8\u7C7B\uFF0C\u56E0\u6B64\u53EF\u4EE5\u6539\u53D8 R1 \u5BF9\u8C61\u7684 count \u5B9E\u4F8B\u53D8\u91CF\u7684\u503C\uFF0C\u7A0B\u5E8F\u6539\u53D8\u4E86\u8BE5\u96C6\u5408\u91CC\u7B2C\u4E00\u4E2A\u5143\u7D20\u548C\u6700\u540E\u4E00\u4E2A\u5143\u7D20\u7684 count \u5B9E\u4F8B\u53D8\u91CF\u7684\u503C\u3002</p><p>\u5F53\u7A0B\u5E8F\u6267\u884C \u2461 \u884C\u4EE3\u7801\u8F93\u51FA\u65F6\uFF0C\u5C06\u770B\u5230\u8BE5\u96C6\u5408\u5904\u4E8E\u65E0\u5E8F\u72B6\u6001\uFF0C\u800C\u4E14\u96C6\u5408\u4E2D\u5305\u542B\u4E86\u91CD\u590D\u5143\u7D20\u3002</p><p>\u4E00\u65E6\u6539\u53D8\u4E86 TreeSet \u96C6\u5408\u91CC\u53EF\u53D8\u5143\u7D20\u7684 Field\uFF0C\u5F53\u518D\u8BD5\u56FE\u5220\u9664\u8BE5\u5BF9\u8C61\u65F6\uFF0CTreeSet \u4E5F\u4F1A\u5220\u9664\u5931\u8D25\uFF08\u751A\u81F3\u96C6\u5408\u4E2D\u539F\u6709\u7684\u3001Field \u6CA1\u88AB\u4FEE\u6539\u4F46\u4E0E\u4FEE\u6539\u540E\u5143\u7D20\u76F8\u7B49\u7684\u5143\u7D20\u4E5F\u65E0\u6CD5\u5220\u9664\uFF09\uFF0C\u6240\u4EE5\u5728\u4E0A\u9762\u7A0B\u5E8F\u7684 \u2462 \u4EE3\u7801\u5904\uFF0C\u5220\u9664 count \u4E3A-2 \u7684 R1 \u5BF9\u8C61\u65F6\uFF0C\u6CA1\u6709\u4EFB\u4F55\u5143\u7D20\u88AB\u5220\u9664\uFF1B\u7A0B\u5E8F\u6267\u884C \u2463 \u4EE3\u7801\u65F6\uFF0C\u53EF\u4EE5\u770B\u5230\u5220\u9664\u4E86 count \u4E3A 5 \u7684 R1 \u5BF9\u8C61\uFF0C\u8FD9\u8868\u660E TreeSet \u53EF\u4EE5\u5220\u9664\u6CA1\u6709\u88AB\u4FEE\u6539 Field\uFF0C\u4E14\u4E0D\u4E0E\u5176\u4ED6\u88AB\u4FEE\u6539 Field \u7684\u5BF9\u8C61\u91CD\u590D\u7684\u5BF9\u8C61\u3002</p><div class="custom-container tip"><p class="custom-container-title">\u63D0\u793A</p><p>\u5F53\u6267\u884C\u4E86 \u2463 \u4EE3\u7801\u540E\uFF0CTreeSet \u4F1A\u5BF9\u96C6\u5408\u4E2D\u7684\u5143\u7D20\u91CD\u65B0\u7D22\u5F15\uFF08\u4E0D\u662F\u91CD\u65B0\u6392\u5E8F\uFF09\uFF0C\u63A5\u4E0B\u6765\u5C31\u53EF\u4EE5\u5220\u9664 TreeSet \u4E2D\u7684\u6240\u6709\u5143\u7D20\u4E86\uFF0C\u5305\u62EC\u90A3\u4E9B\u88AB\u4FEE\u6539\u8FC7 Field \u7684\u5143\u7D20\u3002\u4E0E HashSet \u7C7B\u4F3C\u7684\u662F\uFF0C\u5982\u679C TreeSet \u4E2D\u5305\u542B\u4E86\u53EF\u53D8\u5BF9\u8C61\uFF0C\u5F53\u53EF\u53D8\u5BF9\u8C61\u7684 Field \u88AB\u4FEE\u6539\u65F6\uFF0CTreeSet \u5728\u5904\u7406\u8FD9\u4E9B\u5BF9\u8C61\u65F6\u5C06\u975E\u5E38\u590D\u6742\uFF0C\u800C\u4E14\u5BB9\u6613\u51FA\u9519\u3002\u4E3A\u4E86\u8BA9\u7A0B\u5E8F\u66F4\u52A0\u5065\u58EE\uFF0C\u63A8\u8350 HashSet \u548C TreeSet \u96C6\u5408\u4E2D\u53EA\u653E\u5165\u4E0D\u53EF\u53D8\u5BF9\u8C61\u3002</p></div><p><strong>2. \u5B9A\u5236\u6392\u5E8F\uFF1A</strong></p><p>TreeSet \u7684\u81EA\u7136\u6392\u5E8F\u662F\u6839\u636E\u96C6\u5408\u5143\u7D20\u7684\u5927\u5C0F\uFF0CTreeSet \u5C06\u5B83\u4EEC\u4EE5\u5347\u5E8F\u6392\u5217\u3002\u5982\u679C\u9700\u8981\u5B9E\u73B0\u5B9A\u5236\u6392\u5E8F\uFF0C\u4F8B\u5982\u4EE5\u964D\u5E8F\u6392\u5217\uFF0C\u5219\u53EF\u4EE5\u901A\u8FC7 Comparator \u63A5\u53E3\u7684\u5E2E\u52A9\u3002\u8BE5\u63A5\u53E3\u91CC\u5305\u542B\u4E00\u4E2A <code>int compare(T o1, T o2)</code>\u65B9\u6CD5\uFF0C\u8BE5\u65B9\u6CD5\u7528\u4E8E\u6BD4\u8F83 o1 \u548C o2 \u7684\u5927\u5C0F\uFF1A\u5982\u679C\u8BE5\u65B9\u6CD5\u8FD4\u56DE\u6B63\u6574\u6570\uFF0C\u5219\u8868\u660E o1 \u5927\u4E8E o2\uFF1B\u5982\u679C\u8BE5\u65B9\u6CD5\u8FD4\u56DE 0\uFF0C\u5219\u8868\u660E o1 \u7B49\u4E8E o2\uFF1B\u5982\u679C\u8BE5\u65B9\u6CD5\u8FD4\u56DE\u8D1F\u6574\u6570\uFF0C\u5219\u8868\u660E o1 \u5C0F\u4E8E o2\u3002</p><p>\u5982\u679C\u9700\u8981\u5B9E\u73B0\u5B9A\u5236\u6392\u5E8F\uFF0C\u5219\u9700\u8981\u5728\u521B\u5EFA TreeSet \u96C6\u5408\u5BF9\u8C61\u65F6\uFF0C\u63D0\u4F9B\u4E00\u4E2A Comparator \u5BF9\u8C61\u4E0E\u8BE5 TreeSet \u96C6\u5408\u5173\u8054\uFF0C\u7531\u8BE5 Comparator \u5BF9\u8C61\u8D1F\u8D23\u96C6\u5408\u5143\u7D20\u7684\u6392\u5E8F\u903B\u8F91\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">M</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> age<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">M</span><span class="token punctuation">(</span><span class="token keyword">int</span> age<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;M[age:&quot;</span> <span class="token operator">+</span> age <span class="token operator">+</span> <span class="token string">&quot;]&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TreeSetTest4</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">TreeSet</span> ts <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TreeSet</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Comparator</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// \u6839\u636EM\u5BF9\u8C61\u7684age\u5C5E\u6027\u6765\u51B3\u5B9A\u5927\u5C0F</span>
            <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">compare</span><span class="token punctuation">(</span><span class="token class-name">Object</span> o1<span class="token punctuation">,</span> <span class="token class-name">Object</span> o2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">M</span> m1 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">M</span><span class="token punctuation">)</span>o1<span class="token punctuation">;</span>
                <span class="token class-name">M</span> m2 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">M</span><span class="token punctuation">)</span>o2<span class="token punctuation">;</span>
                <span class="token keyword">return</span> m1<span class="token punctuation">.</span>age <span class="token operator">&gt;</span> m2<span class="token punctuation">.</span>age <span class="token operator">?</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">:</span> m1<span class="token punctuation">.</span>age <span class="token operator">&lt;</span> m2<span class="token punctuation">.</span>age <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ts<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">M</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ts<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">M</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ts<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">M</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>ts<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/*
 [M[age:9], M[age:5], M[age:-3]]
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container tip"><p class="custom-container-title">\u63D0\u793A</p><p>\u5F53\u901A\u8FC7 Comparator \u5BF9\u8C61\u6765\u5B9E\u73B0 TreeSet \u7684\u5B9A\u5236\u6392\u5E8F\u65F6\uFF0C\u4F9D\u7136\u4E0D\u53EF\u4EE5\u5411 TreeSet \u4E2D\u6DFB\u52A0\u7C7B\u578B\u4E0D\u540C\u7684\u5BF9\u8C61\uFF0C\u5426\u5219\u4F1A\u5F15\u53D1 <code>ClassCastException</code> \u5F02\u5E38\u3002</p><p>\u4F7F\u7528\u5B9A\u5236\u6392\u5E8F\u65F6\uFF0CTreeSet \u5BF9\u96C6\u5408\u5143\u7D20\u6392\u5E8F\u4E0D\u7BA1\u96C6\u5408\u5143\u7D20\u672C\u8EAB\u7684\u5927\u5C0F\uFF0C\u800C\u662F\u7531 Comparator \u5BF9\u8C61\u8D1F\u8D23\u96C6\u5408\u5143\u7D20\u7684\u6392\u5E8F\u89C4\u5219\u3002</p><p>TreeSet \u5224\u65AD\u4E24\u4E2A\u96C6\u5408\u5143\u7D20\u76F8\u7B49\u7684\u6807\u51C6\u662F\uFF1A\u901A\u8FC7 Comparator \u6BD4\u8F83\u4E24\u4E2A\u5143\u7D20\u8FD4\u56DE\u4E86 0\uFF0C\u8FD9\u6837 TreeSet \u4E0D\u4F1A\u628A\u7B2C\u4E8C\u4E2A\u5143\u7D20\u6DFB\u52A0\u5230\u96C6\u5408\u4E2D\u3002</p></div><h3 id="enumset-\u7C7B" tabindex="-1"><a class="header-anchor" href="#enumset-\u7C7B" aria-hidden="true">#</a> EnumSet \u7C7B</h3><p>EnumSet \u662F\u4E00\u4E2A\u4E13\u4E3A\u679A\u4E3E\u7C7B\u8BBE\u8BA1\u7684\u96C6\u5408\u7C7B\uFF0CEnumSet \u4E2D\u7684\u6240\u6709\u5143\u7D20\u90FD\u5FC5\u987B\u662F\u6307\u5B9A\u679A\u4E3E\u7C7B\u578B\u7684\u679A\u4E3E\u503C\uFF0C\u8BE5\u679A\u4E3E\u7C7B\u578B\u5728\u521B\u5EFA EnumSet \u65F6\u663E\u5F0F\u6216\u9690\u5F0F\u5730\u6307\u5B9A\u3002EnumSet \u7684\u96C6\u5408\u5143\u7D20\u4E5F\u662F\u6709\u5E8F\u7684\uFF0CEnumSet \u4EE5\u679A\u4E3E\u503C\u5728 Enum \u7C7B\u5185\u7684\u5B9A\u4E49\u987A\u5E8F\u6765\u51B3\u5B9A\u96C6\u5408\u5143\u7D20\u7684\u987A\u5E8F\u3002</p><p>EnumSet \u5728\u5185\u90E8\u4EE5\u4F4D\u5411\u91CF\u7684\u5F62\u5F0F\u5B58\u50A8\uFF0C\u8FD9\u79CD\u5B58\u50A8\u5F62\u5F0F\u975E\u5E38\u7D27\u51D1\u3001\u9AD8\u6548\uFF0C\u56E0\u6B64 EnumSet \u5BF9\u8C61\u5360\u7528\u5185\u5B58\u5F88\u5C0F\uFF0C\u800C\u4E14\u8FD0\u884C\u6548\u7387\u5F88\u597D\u3002\u5C24\u5176\u662F\u8FDB\u884C\u6279\u91CF\u64CD\u4F5C\uFF08\u5982\u8C03\u7528 containsAll \u548C retainAll \u65B9\u6CD5\uFF09\u65F6\uFF0C\u5982\u679C\u5176\u53C2\u6570\u4E5F\u662F EnumSet \u96C6\u5408\uFF0C\u5219\u8BE5\u6279\u91CF\u64CD\u4F5C\u7684\u6267\u884C\u901F\u5EA6\u4E5F\u975E\u5E38\u5FEB\u3002</p><p>EnumSet \u96C6\u5408\u4E0D\u5141\u8BB8\u52A0\u5165 null \u5143\u7D20\uFF0C\u5982\u679C\u8BD5\u56FE\u63D2\u5165 null \u5143\u7D20\uFF0CEnumSet \u5C06\u629B\u51FA <code>NullPointerException</code> \u5F02\u5E38\u3002\u5982\u679C\u53EA\u662F\u60F3\u5224\u65AD EnumSet \u662F\u5426\u5305\u542B null \u5143\u7D20\u6216\u8BD5\u56FE\u5220\u9664 null \u5143\u7D20\u90FD\u4E0D\u4F1A\u629B\u51FA\u5F02\u5E38\uFF0C\u53EA\u662F\u5220\u9664\u64CD\u4F5C\u5C06\u8FD4\u56DE false\uFF0C\u56E0\u4E3A\u6CA1\u6709\u4EFB\u4F55 null \u5143\u7D20\u88AB\u5220\u9664\u3002</p><p>EnumSet \u7C7B\u6CA1\u6709\u66B4\u9732\u4EFB\u4F55\u6784\u9020\u5668\u6765\u521B\u5EFA\u8BE5\u7C7B\u7684\u5B9E\u4F8B\uFF0C\u7A0B\u5E8F\u5E94\u8BE5\u901A\u8FC7\u5B83\u63D0\u4F9B\u7684 static \u65B9\u6CD5\u6765\u521B\u5EFA EnumSet \u5BF9\u8C61\u3002EnumSet \u7C7B\u5B83\u63D0\u4F9B\u4E86\u5982\u4E0B\u5E38\u7528\u7684 static \u65B9\u6CD5\u6765\u521B\u5EFA EnumSet \u5BF9\u8C61\u3002</p><ol><li><code>static EnumSet allOf(Class elementType)</code>\uFF1A\u521B\u5EFA\u4E00\u4E2A\u5305\u542B\u6307\u5B9A\u679A\u4E3E\u7C7B\u91CC\u6240\u6709\u679A\u4E3E\u503C\u7684 EnumSet \u96C6\u5408\u3002</li><li><code>static EnumSet complementOf(EnumSet s)</code>\uFF1A\u521B\u5EFA\u4E00\u4E2A\u5176\u5143\u7D20\u7C7B\u578B\u4E0E\u6307\u5B9A EnumSet \u91CC\u5143\u7D20\u7C7B\u578B\u76F8\u540C\u7684 EnumSet \u96C6\u5408\uFF0C\u65B0 EnumSet \u96C6\u5408\u5305\u542B\u539F EnumSet \u96C6\u5408\u6240\u4E0D\u5305\u542B\u7684\u3001\u6B64\u679A\u4E3E\u7C7B\u5269\u4E0B\u7684\u679A\u4E3E\u503C\uFF08\u5373\u65B0 EnumSet \u96C6\u5408\u548C\u539F EnumSet \u96C6\u5408\u7684\u96C6\u5408\u5143\u7D20\u52A0\u8D77\u6765\u5C31\u662F\u8BE5\u679A\u4E3E\u7C7B\u7684\u6240\u6709\u679A\u4E3E\u503C\uFF09\u3002</li><li><code>static EnumSet copyOf(Collection c)</code>\uFF1A\u4F7F\u7528\u4E00\u4E2A\u666E\u901A\u96C6\u5408\u6765\u521B\u5EFA EnumSet \u96C6\u5408\u3002</li><li><code>static EnumSet copyOf(EnumSet s)</code>\uFF1A\u521B\u5EFA\u4E00\u4E2A\u4E0E\u6307\u5B9A EnumSet \u5177\u6709\u76F8\u540C\u5143\u7D20\u7C7B\u578B\u3001\u76F8\u540C\u96C6\u5408\u5143\u7D20\u7684 EnumSet \u96C6\u5408\u3002</li><li><code>static EnumSet noneOf(Class elementType)</code>\uFF1A\u521B\u5EFA\u4E00\u4E2A\u5143\u7D20\u7C7B\u578B\u4E3A\u6307\u5B9A\u679A\u4E3E\u7C7B\u578B\u7684\u7A7A EnumSet\u3002</li><li><code>static EnumSet of(E first, E... rest)</code>\uFF1A\u521B\u5EFA\u4E00\u4E2A\u5305\u542B\u4E00\u4E2A\u6216\u591A\u4E2A\u679A\u4E3E\u503C\u7684 EnumSet \u96C6\u5408\uFF0C\u4F20\u5165\u7684\u591A\u4E2A\u679A\u4E3E\u503C\u5FC5\u987B\u5C5E\u4E8E\u540C\u4E00\u4E2A\u679A\u4E3E\u7C7B\u3002</li><li><code>static EnumSet range(E from, E to)</code>\uFF1A\u521B\u5EFA\u4E00\u4E2A\u5305\u542B\u4ECE from \u679A\u4E3E\u503C\u5230 to \u679A\u4E3E\u503C\u8303\u56F4\u5185\u6240\u6709\u679A\u4E3E\u503C\u7684 EnumSet \u96C6\u5408\u3002</li></ol><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">enum</span> <span class="token class-name">Season</span> <span class="token punctuation">{</span>
    <span class="token constant">SPRING</span><span class="token punctuation">,</span> <span class="token constant">SUMMER</span><span class="token punctuation">,</span> <span class="token constant">FALL</span><span class="token punctuation">,</span> <span class="token constant">WINTER</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">EnumSetTest</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// \u521B\u5EFA\u4E00\u4E2AEnumSet\u96C6\u5408\uFF0C\u96C6\u5408\u5143\u7D20\u5C31\u662FSeason\u679A\u4E3E\u7C7B\u7684\u5168\u90E8\u679A\u4E3E\u503C</span>
        <span class="token class-name">EnumSet</span> es1 <span class="token operator">=</span> <span class="token class-name">EnumSet</span><span class="token punctuation">.</span><span class="token function">allOf</span><span class="token punctuation">(</span><span class="token class-name">Season</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u8F93\u51FA[SPRING,SUMMER,FALL,WINTER]</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>es1<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u521B\u5EFA\u4E00\u4E2AEnumSet\u7A7A\u96C6\u5408\uFF0C\u6307\u5B9A\u5176\u96C6\u5408\u5143\u7D20\u662FSeason\u7C7B\u7684\u679A\u4E3E\u503C</span>
        <span class="token class-name">EnumSet</span> es2 <span class="token operator">=</span> <span class="token class-name">EnumSet</span><span class="token punctuation">.</span><span class="token function">noneOf</span><span class="token punctuation">(</span><span class="token class-name">Season</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u8F93\u51FA[]</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>es2<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u624B\u52A8\u6DFB\u52A0\u4E24\u4E2A\u5143\u7D20</span>
        es2<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">Season</span><span class="token punctuation">.</span><span class="token constant">WINTER</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        es2<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">Season</span><span class="token punctuation">.</span><span class="token constant">SPRING</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u8F93\u51FA[SPRING,WINTER]</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>es2<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u4EE5\u6307\u5B9A\u679A\u4E3E\u503C\u521B\u5EFAEnumSet\u96C6\u5408</span>
        <span class="token class-name">EnumSet</span> es3 <span class="token operator">=</span> <span class="token class-name">EnumSet</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token class-name">Season</span><span class="token punctuation">.</span><span class="token constant">SUMMER</span><span class="token punctuation">,</span> <span class="token class-name">Season</span><span class="token punctuation">.</span><span class="token constant">WINTER</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u8F93\u51FA[SUMMER,WINTER]</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>es3<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">EnumSet</span> es4 <span class="token operator">=</span> <span class="token class-name">EnumSet</span><span class="token punctuation">.</span><span class="token function">range</span><span class="token punctuation">(</span><span class="token class-name">Season</span><span class="token punctuation">.</span><span class="token constant">SUMMER</span><span class="token punctuation">,</span> <span class="token class-name">Season</span><span class="token punctuation">.</span><span class="token constant">WINTER</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u8F93\u51FA[SUMMER,FALL,WINTER]</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>es4<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u65B0\u521B\u5EFA\u7684EnumSet\u96C6\u5408\u5143\u7D20\u548Ces4\u96C6\u5408\u5143\u7D20\u6709\u76F8\u540C\u7684\u7C7B\u578B</span>
        <span class="token comment">// es5\u96C6\u5408\u5143\u7D20 + es4\u96C6\u5408\u5143\u7D20=Season\u679A\u4E3E\u7C7B\u7684\u5168\u90E8\u679A\u4E3E\u503C</span>
        <span class="token class-name">EnumSet</span> es5 <span class="token operator">=</span> <span class="token class-name">EnumSet</span><span class="token punctuation">.</span><span class="token function">complementOf</span><span class="token punctuation">(</span>es4<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u8F93\u51FA[SPRING]</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>es5<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4E0A\u9762\u7A0B\u5E8F\u793A\u8303\u4E86 EnumSet \u96C6\u5408\u7684\u5E38\u89C4\u7528\u6CD5\u3002\u9664\u6B64\u4E4B\u5916\uFF0C\u8FD8\u53EF\u4EE5\u590D\u5236\u53E6\u4E00\u4E2A EnumSet \u96C6\u5408\u4E2D\u7684\u6240\u6709\u5143\u7D20\u6765\u521B\u5EFA\u65B0\u7684 EnumSet \u96C6\u5408\uFF0C\u6216\u8005\u590D\u5236\u53E6\u4E00\u4E2A Collection \u96C6\u5408\u4E2D\u7684\u6240\u6709\u5143\u7D20\u6765\u521B\u5EFA\u65B0\u7684 EnumSet \u96C6\u5408\u3002</p><p>\u5F53\u590D\u5236 Collection \u96C6\u5408\u4E2D\u7684\u6240\u6709\u5143\u7D20\u6765\u521B\u5EFA\u65B0\u7684 EnumSet \u96C6\u5408\u65F6\uFF0C\u8981\u6C42 Collection \u96C6\u5408\u4E2D\u7684\u6240\u6709\u5143\u7D20\u5FC5\u987B\u662F\u540C\u4E00\u4E2A\u679A\u4E3E\u7C7B\u7684\u679A\u4E3E\u503C\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">EnumSetTest2</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Collection</span> c <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        c<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        c<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">Season</span><span class="token punctuation">.</span><span class="token constant">FALL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        c<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">Season</span><span class="token punctuation">.</span><span class="token constant">SPRING</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u2460\u590D\u5236Collection\u96C6\u5408\u4E2D\u7684\u6240\u6709\u5143\u7D20\u6765\u521B\u5EFAEnumSet\u96C6\u5408</span>
        <span class="token class-name">EnumSet</span> enumSet <span class="token operator">=</span> <span class="token class-name">EnumSet</span><span class="token punctuation">.</span><span class="token function">copyOf</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u8F93\u51FA[SPRING,FALL]</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>enumSet<span class="token punctuation">)</span><span class="token punctuation">;</span>
        c<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;\u75AF\u72C2Java\u8BB2\u4E49&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        c<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;\u8F7B\u91CF\u7EA7Java EE\u4F01\u4E1A\u5E94\u7528\u5B9E\u6218&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u2461\u4E0B\u9762\u4EE3\u7801\u51FA\u73B0\u5F02\u5E38\uFF1A\u56E0\u4E3Ac\u96C6\u5408\u91CC\u7684\u5143\u7D20\u4E0D\u662F\u5168\u90E8\u90FD\u4E3A\u679A\u4E3E\u503C</span>
        enumSet <span class="token operator">=</span> <span class="token class-name">EnumSet</span><span class="token punctuation">.</span><span class="token function">copyOf</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u5404-set-\u5B9E\u73B0\u7C7B\u7684\u6027\u80FD\u5206\u6790" tabindex="-1"><a class="header-anchor" href="#\u5404-set-\u5B9E\u73B0\u7C7B\u7684\u6027\u80FD\u5206\u6790" aria-hidden="true">#</a> \u5404 Set \u5B9E\u73B0\u7C7B\u7684\u6027\u80FD\u5206\u6790</h3><p>HashSet \u548C TreeSet \u662F Set \u7684\u4E24\u4E2A\u5178\u578B\u5B9E\u73B0\uFF0C\u5230\u5E95\u5982\u4F55\u9009\u62E9 HashSet \u548C TreeSet \u5462\uFF1FHashSet \u7684\u6027\u80FD\u603B\u662F\u6BD4 TreeSet \u597D\uFF08\u7279\u522B\u662F\u6700\u5E38\u7528\u7684\u6DFB\u52A0\u3001\u67E5\u8BE2\u5143\u7D20\u7B49\u64CD\u4F5C\uFF09\uFF0C\u56E0\u4E3A TreeSet \u9700\u8981\u989D\u5916\u7684\u7EA2\u9ED1\u6811\u7B97\u6CD5\u6765\u7EF4\u62A4\u96C6\u5408\u5143\u7D20\u7684\u6B21\u5E8F\u3002\u53EA\u6709\u5F53\u9700\u8981\u4E00\u4E2A\u4FDD\u6301\u6392\u5E8F\u7684 Set \u65F6\uFF0C\u624D\u5E94\u8BE5\u4F7F\u7528 TreeSet\uFF0C\u5426\u5219\u90FD\u5E94\u8BE5\u4F7F\u7528 HashSet\u3002</p><p>HashSet \u8FD8\u6709\u4E00\u4E2A\u5B50\u7C7B\uFF1ALinkedHashSet\uFF0C\u5BF9\u4E8E\u666E\u901A\u7684\u63D2\u5165\u3001\u5220\u9664\u64CD\u4F5C\uFF0CLinkedHashSet \u6BD4 HashSet \u8981\u7565\u5FAE\u6162\u4E00\u70B9\uFF0C\u8FD9\u662F\u7531\u7EF4\u62A4\u94FE\u8868\u6240\u5E26\u6765\u7684\u989D\u5916\u5F00\u9500\u9020\u6210\u7684\uFF1B\u4E0D\u8FC7\uFF0C\u56E0\u4E3A\u6709\u4E86\u94FE\u8868\uFF0C\u904D\u5386 LinkedHashSet \u4F1A\u66F4\u5FEB\u3002</p><p>EnumSet \u662F\u6240\u6709 Set \u5B9E\u73B0\u7C7B\u4E2D\u6027\u80FD\u6700\u597D\u7684\uFF0C\u4F46\u5B83\u53EA\u80FD\u4FDD\u5B58\u540C\u4E00\u4E2A\u679A\u4E3E\u7C7B\u7684\u679A\u4E3E\u503C\u4F5C\u4E3A\u96C6\u5408\u5143\u7D20\u3002</p><p>\u5FC5\u987B\u6307\u51FA\u7684\u662F\uFF0CSet \u7684\u4E09\u4E2A\u5B9E\u73B0\u7C7B HashSet\u3001TreeSet \u548C EnumSet \u90FD\u662F\u7EBF\u7A0B\u4E0D\u5B89\u5168\u7684\u3002\u5982\u679C\u6709\u591A\u4E2A\u7EBF\u7A0B\u540C\u65F6\u8BBF\u95EE\u4E00\u4E2A Set \u96C6\u5408\uFF0C\u5E76\u4E14\u6709\u8D85\u8FC7\u4E00\u4E2A\u7EBF\u7A0B\u4FEE\u6539\u4E86\u8BE5 Set \u96C6\u5408\uFF0C\u5219\u5FC5\u987B\u624B\u52A8\u4FDD\u8BC1\u8BE5 Set \u96C6\u5408\u7684\u540C\u6B65\u6027\u3002\u901A\u5E38\u53EF\u4EE5\u901A\u8FC7 Collections \u5DE5\u5177\u7C7B\u7684 synchronizedSortedSet \u65B9\u6CD5\u6765\u201C\u5305\u88C5\u201D\u8BE5 Set \u96C6\u5408\u3002\u6B64\u64CD\u4F5C\u6700\u597D\u5728\u521B\u5EFA\u65F6\u8FDB\u884C\uFF0C\u4EE5\u9632\u6B62\u5BF9 Set \u96C6\u5408\u7684\u610F\u5916\u975E\u540C\u6B65\u8BBF\u95EE\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">SortedSet</span> s <span class="token operator">=</span> <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">synchronizedSortedSet</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">TreeSet</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="list-\u96C6\u5408" tabindex="-1"><a class="header-anchor" href="#list-\u96C6\u5408" aria-hidden="true">#</a> List \u96C6\u5408</h2><p>List \u96C6\u5408\u4EE3\u8868\u4E00\u4E2A\u5143\u7D20\u6709\u5E8F\u3001\u53EF\u91CD\u590D\u7684\u96C6\u5408\uFF0C\u96C6\u5408\u4E2D\u6BCF\u4E2A\u5143\u7D20\u90FD\u6709\u5176\u5BF9\u5E94\u7684\u987A\u5E8F\u7D22\u5F15\u3002List \u96C6\u5408\u5141\u8BB8\u4F7F\u7528\u91CD\u590D\u5143\u7D20\uFF0C\u53EF\u4EE5\u901A\u8FC7\u7D22\u5F15\u6765\u8BBF\u95EE\u6307\u5B9A\u4F4D\u7F6E\u7684\u96C6\u5408\u5143\u7D20\u3002List \u96C6\u5408\u9ED8\u8BA4\u6309\u5143\u7D20\u7684\u6DFB\u52A0\u987A\u5E8F\u8BBE\u7F6E\u5143\u7D20\u7684\u7D22\u5F15\uFF0C\u4F8B\u5982\u7B2C\u4E00\u6B21\u6DFB\u52A0\u7684\u5143\u7D20\u7D22\u5F15\u4E3A 0\uFF0C\u7B2C\u4E8C\u6B21\u6DFB\u52A0\u7684\u5143\u7D20\u7D22\u5F15\u4E3A 1\u2026\u2026</p><h3 id="list-\u63A5\u53E3\u548C-listiterator-\u63A5\u53E3" tabindex="-1"><a class="header-anchor" href="#list-\u63A5\u53E3\u548C-listiterator-\u63A5\u53E3" aria-hidden="true">#</a> List \u63A5\u53E3\u548C ListIterator \u63A5\u53E3</h3><p>List \u4F5C\u4E3A Collection \u63A5\u53E3\u7684\u5B50\u63A5\u53E3\uFF0C\u5F53\u7136\u53EF\u4EE5\u4F7F\u7528 Collection \u63A5\u53E3\u91CC\u7684\u5168\u90E8\u65B9\u6CD5\u3002\u800C\u4E14\u7531\u4E8E List \u662F\u6709\u5E8F\u96C6\u5408\uFF0C\u56E0\u6B64 List \u96C6\u5408\u91CC\u589E\u52A0\u4E86\u4E00\u4E9B\u6839\u636E\u7D22\u5F15\u6765\u64CD\u4F5C\u96C6\u5408\u5143\u7D20\u7684\u65B9\u6CD5\u3002</p><ol><li><code>void add(int index, Object element)</code>\uFF1A\u5C06\u5143\u7D20 element \u63D2\u5165\u5230 List \u96C6\u5408\u7684 index \u5904\u3002</li><li><code>boolean addAll(int index, Collection c)</code>\uFF1A\u5C06\u96C6\u5408 c \u6240\u5305\u542B\u7684\u6240\u6709\u5143\u7D20\u90FD\u63D2\u5165\u5230 List \u96C6\u5408\u7684 index \u5904\u3002</li><li><code>Object get(int index)</code>\uFF1A\u8FD4\u56DE\u96C6\u5408 index \u7D22\u5F15\u5904\u7684\u5143\u7D20\u3002</li><li><code>int indexOf(Object o)</code>\uFF1A\u8FD4\u56DE\u5BF9\u8C61 o \u5728 List \u96C6\u5408\u4E2D\u7B2C\u4E00\u6B21\u51FA\u73B0\u7684\u4F4D\u7F6E\u7D22\u5F15\u3002</li><li><code>int lastIndexOf(Object o)</code>\uFF1A\u8FD4\u56DE\u5BF9\u8C61 o \u5728 List \u96C6\u5408\u4E2D\u6700\u540E\u4E00\u6B21\u51FA\u73B0\u7684\u4F4D\u7F6E\u7D22\u5F15\u3002</li><li><code>Object remove(int index)</code>\uFF1A\u5220\u9664\u5E76\u8FD4\u56DE index \u7D22\u5F15\u5904\u7684\u5143\u7D20\u3002</li><li><code>Object set(int index, Object element)</code>\uFF1A\u5C06 index \u7D22\u5F15\u5904\u7684\u5143\u7D20\u66FF\u6362\u6210 element \u5BF9\u8C61\uFF0C\u8FD4\u56DE\u65B0\u5143\u7D20\u3002</li><li><code>List subList(int fromIndex, int toIndex)</code>\uFF1A\u8FD4\u56DE\u4ECE\u7D22\u5F15 fromIndex\uFF08\u5305\u542B\uFF09\u5230\u7D22\u5F15 toIndex\uFF08\u4E0D\u5305\u542B\uFF09\u5904\u6240\u6709\u96C6\u5408\u5143\u7D20\u7EC4\u6210\u7684\u5B50\u96C6\u5408\u3002</li></ol><p>\u6240\u6709\u7684 List \u5B9E\u73B0\u7C7B\u90FD\u53EF\u4EE5\u8C03\u7528\u8FD9\u4E9B\u65B9\u6CD5\u6765\u64CD\u4F5C\u96C6\u5408\u5143\u7D20\u3002\u4E0E Set \u96C6\u5408\u76F8\u6BD4\uFF0CList \u589E\u52A0\u4E86\u6839\u636E\u7D22\u5F15\u6765\u63D2\u5165\u3001\u66FF\u6362\u548C\u5220\u9664\u96C6\u5408\u5143\u7D20\u7684\u65B9\u6CD5\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ListTest</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">List</span> books <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u5411books\u96C6\u5408\u4E2D\u6DFB\u52A0\u4E09\u4E2A\u5143\u7D20</span>
        books<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">&quot;\u8F7B\u91CF\u7EA7Java EE\u4F01\u4E1A\u5E94\u7528\u5B9E\u6218&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        books<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">&quot;\u75AF\u72C2Java\u8BB2\u4E49&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        books<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">&quot;\u75AF\u72C2Android\u8BB2\u4E49&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>books<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u5C06\u65B0\u5B57\u7B26\u4E32\u5BF9\u8C61\u63D2\u5165\u5728\u7B2C\u4E8C\u4E2A\u4F4D\u7F6E</span>
        books<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">&quot;\u75AF\u72C2Ajax\u8BB2\u4E49&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> books<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>books<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// \u5220\u9664\u7B2C\u4E09\u4E2A\u5143\u7D20</span>
        books<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>books<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u2460\u5224\u65AD\u6307\u5B9A\u5143\u7D20\u5728List\u96C6\u5408\u4E2D\u7684\u4F4D\u7F6E\uFF1A\u8F93\u51FA1\uFF0C\u8868\u660E\u4F4D\u4E8E\u7B2C\u4E8C\u4F4D</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>books<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">&quot;\u75AF\u72C2Ajax\u8BB2\u4E49&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u5C06\u7B2C\u4E8C\u4E2A\u5143\u7D20\u66FF\u6362\u6210\u65B0\u7684\u5B57\u7B26\u4E32\u5BF9\u8C61</span>
        books<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">&quot;\u75AF\u72C2Java\u8BB2\u4E49&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>books<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u5C06books\u96C6\u5408\u7684\u7B2C\u4E8C\u4E2A\u5143\u7D20\uFF08\u5305\u62EC\uFF09</span>
        <span class="token comment">// \u5230\u7B2C\u4E09\u4E2A\u5143\u7D20\uFF08\u4E0D\u5305\u62EC\uFF09\u622A\u53D6\u6210\u5B50\u96C6\u5408</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>books<span class="token punctuation">.</span><span class="token function">subList</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/*
    [\u8F7B\u91CF\u7EA7Java EE\u4F01\u4E1A\u5E94\u7528\u5B9E\u6218, \u75AF\u72C2Java\u8BB2\u4E49, \u75AF\u72C2Android\u8BB2\u4E49]
    \u8F7B\u91CF\u7EA7Java EE\u4F01\u4E1A\u5E94\u7528\u5B9E\u6218
    \u75AF\u72C2Ajax\u8BB2\u4E49
    \u75AF\u72C2Java\u8BB2\u4E49
    \u75AF\u72C2Android\u8BB2\u4E49
    [\u8F7B\u91CF\u7EA7Java EE\u4F01\u4E1A\u5E94\u7528\u5B9E\u6218, \u75AF\u72C2Ajax\u8BB2\u4E49, \u75AF\u72C2Android\u8BB2\u4E49]
    1
    [\u8F7B\u91CF\u7EA7Java EE\u4F01\u4E1A\u5E94\u7528\u5B9E\u6218, \u75AF\u72C2Java\u8BB2\u4E49, \u75AF\u72C2Android\u8BB2\u4E49]
    [\u75AF\u72C2Java\u8BB2\u4E49]
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u6CE8\u610F \u2460 \u884C\u4EE3\u7801\u5904\uFF0C\u7A0B\u5E8F\u8BD5\u56FE\u8FD4\u56DE\u65B0\u5B57\u7B26\u4E32\u5BF9\u8C61\u5728 List \u96C6\u5408\u4E2D\u7684\u4F4D\u7F6E\uFF0C\u5B9E\u9645\u4E0A List \u96C6\u5408\u4E2D\u5E76\u672A\u5305\u542B\u8BE5\u5B57\u7B26\u4E32\u5BF9\u8C61\u3002\u56E0\u4E3A List \u96C6\u5408\u6DFB\u52A0\u5B57\u7B26\u4E32\u5BF9\u8C61\u65F6\uFF0C\u6DFB\u52A0\u7684\u662F\u901A\u8FC7 new \u5173\u952E\u5B57\u521B\u5EFA\u7684\u65B0\u5B57\u7B26\u4E32\u5BF9\u8C61\uFF0C\u2460 \u884C\u4EE3\u7801\u5904\u4E5F\u662F\u901A\u8FC7 new \u5173\u952E\u5B57\u521B\u5EFA\u7684\u65B0\u5B57\u7B26\u4E32\u5BF9\u8C61\uFF0C\u4E24\u4E2A\u5B57\u7B26\u4E32\u663E\u7136\u4E0D\u662F\u540C\u4E00\u4E2A\u5BF9\u8C61\uFF0C\u4F46 List \u7684 indexOf \u65B9\u6CD5\u4F9D\u7136\u53EF\u4EE5\u8FD4\u56DE 1\u3002List \u5224\u65AD\u4E24\u4E2A\u5BF9\u8C61\u76F8\u7B49\u7684\u6807\u51C6\u662F\u4EC0\u4E48\u5462\uFF1FList \u5224\u65AD\u4E24\u4E2A\u5BF9\u8C61\u76F8\u7B49\u53EA\u8981\u901A\u8FC7 <code>equals()</code>\u65B9\u6CD5\u6BD4\u8F83\u8FD4\u56DE true \u5373\u53EF\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">A2</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">equals</span><span class="token punctuation">(</span><span class="token class-name">Object</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ListTest2</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">List</span> books <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        books<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">&quot;\u8F7B\u91CF\u7EA7Java EE\u4F01\u4E1A\u5E94\u7528\u5B9E\u6218&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        books<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">&quot;\u75AF\u72C2Java\u8BB2\u4E49&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        books<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">&quot;\u75AF\u72C2Android\u8BB2\u4E49&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>books<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u2460\u5220\u9664\u96C6\u5408\u4E2D\u7684A\u5BF9\u8C61\uFF0C\u5C06\u5BFC\u81F4\u7B2C\u4E00\u4E2A\u5143\u7D20\u88AB\u5220\u9664</span>
        books<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">A2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>books<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u2461\u5220\u9664\u96C6\u5408\u4E2D\u7684A\u5BF9\u8C61\uFF0C\u518D\u6B21\u5220\u9664\u96C6\u5408\u4E2D\u7684\u7B2C\u4E00\u4E2A\u5143\u7D20</span>
        books<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">A2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>books<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/*
    [\u8F7B\u91CF\u7EA7Java EE\u4F01\u4E1A\u5E94\u7528\u5B9E\u6218, \u75AF\u72C2Java\u8BB2\u4E49, \u75AF\u72C2Android\u8BB2\u4E49]
    [\u75AF\u72C2Java\u8BB2\u4E49, \u75AF\u72C2Android\u8BB2\u4E49]
    [\u75AF\u72C2Android\u8BB2\u4E49]
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4E0E Set \u53EA\u63D0\u4F9B\u4E86\u4E00\u4E2A <code>iterator()</code>\u65B9\u6CD5\u4E0D\u540C\uFF0CList \u8FD8\u989D\u5916\u63D0\u4F9B\u4E86\u4E00\u4E2A <code>listIterator()</code>\u65B9\u6CD5\uFF0C\u8BE5\u65B9\u6CD5\u8FD4\u56DE\u4E00\u4E2A ListIterator \u5BF9\u8C61\uFF0CListIterator \u63A5\u53E3\u7EE7\u627F\u4E86 Iterator \u63A5\u53E3\uFF0C\u63D0\u4F9B\u4E86\u4E13\u95E8\u64CD\u4F5C List \u7684\u65B9\u6CD5\u3002ListIterator \u63A5\u53E3\u5728 Iterator \u63A5\u53E3\u57FA\u7840\u4E0A\u589E\u52A0\u4E86\u5982\u4E0B\u65B9\u6CD5\u3002</p><ol><li><code>boolean hasPrevious()</code>\uFF1A\u8FD4\u56DE\u8BE5\u8FED\u4EE3\u5668\u5173\u8054\u7684\u96C6\u5408\u662F\u5426\u8FD8\u6709\u4E0A\u4E00\u4E2A\u5143\u7D20\u3002</li><li><code>Object previous()</code>\uFF1A\u8FD4\u56DE\u8BE5\u8FED\u4EE3\u5668\u7684\u4E0A\u4E00\u4E2A\u5143\u7D20\u3002</li><li><code>void add()</code>\uFF1A\u5728\u6307\u5B9A\u4F4D\u7F6E\u63D2\u5165\u4E00\u4E2A\u5143\u7D20\u3002</li></ol><p>\u62FF ListIterator \u4E0E\u666E\u901A\u7684 Iterator \u8FDB\u884C\u5BF9\u6BD4\uFF0C\u4E0D\u96BE\u53D1\u73B0 ListIterator \u589E\u52A0\u4E86\u5411\u524D\u8FED\u4EE3\u7684\u529F\u80FD\uFF08Iterator \u53EA\u80FD\u5411\u540E\u8FED\u4EE3\uFF09\uFF0C\u800C\u4E14 ListIterator \u8FD8\u53EF\u901A\u8FC7 add \u65B9\u6CD5\u5411 List \u96C6\u5408\u4E2D\u6DFB\u52A0\u5143\u7D20\uFF08Iterator \u53EA\u80FD\u5220\u9664\u5143\u7D20\uFF09\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ListIteratorTest</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> books <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;\u75AF\u72C2Java\u8BB2\u4E49&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;\u8F7B\u91CF\u7EA7Java EE\u4F01\u4E1A\u5E94\u7528\u5B9E\u6218&quot;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token class-name">List</span> bookList <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> books<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            bookList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>books<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token class-name">ListIterator</span> lit <span class="token operator">=</span> bookList<span class="token punctuation">.</span><span class="token function">listIterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>lit<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>lit<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            lit<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;-------\u5206\u9694\u7B26-------&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;=======\u4E0B\u9762\u5F00\u59CB\u53CD\u5411\u8FED\u4EE3=======&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>lit<span class="token punctuation">.</span><span class="token function">hasPrevious</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>lit<span class="token punctuation">.</span><span class="token function">previous</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/*
    \u75AF\u72C2Java\u8BB2\u4E49
    \u8F7B\u91CF\u7EA7Java EE\u4F01\u4E1A\u5E94\u7528\u5B9E\u6218
    =======\u4E0B\u9762\u5F00\u59CB\u53CD\u5411\u8FED\u4EE3=======
    -------\u5206\u9694\u7B26-------
    \u8F7B\u91CF\u7EA7Java EE\u4F01\u4E1A\u5E94\u7528\u5B9E\u6218
    -------\u5206\u9694\u7B26-------
    \u75AF\u72C2Java\u8BB2\u4E49
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4F7F\u7528 ListIterator \u8FED\u4EE3 List \u96C6\u5408\u65F6\uFF0C\u5F00\u59CB\u4E5F\u9700\u8981\u91C7\u7528\u6B63\u5411\u8FED\u4EE3\uFF0C\u5373\u5148\u4F7F\u7528 <code>next()</code>\u65B9\u6CD5\u8FDB\u884C\u8FED\u4EE3\uFF0C\u5728\u8FED\u4EE3\u8FC7\u7A0B\u4E2D\u53EF\u4EE5\u4F7F\u7528 <code>add()</code>\u65B9\u6CD5\u5411\u4E0A\u4E00\u6B21\u8FED\u4EE3\u5143\u7D20\u7684\u540E\u9762\u6DFB\u52A0\u4E00\u4E2A\u65B0\u5143\u7D20\u3002</p><h3 id="arraylist-\u548C-vector-\u5B9E\u73B0\u7C7B" tabindex="-1"><a class="header-anchor" href="#arraylist-\u548C-vector-\u5B9E\u73B0\u7C7B" aria-hidden="true">#</a> ArrayList \u548C Vector \u5B9E\u73B0\u7C7B</h3><p>ArrayList \u548C Vector \u4F5C\u4E3A List \u7C7B\u7684\u4E24\u4E2A\u5178\u578B\u5B9E\u73B0\uFF0C\u5B8C\u5168\u652F\u6301\u524D\u9762\u4ECB\u7ECD\u7684 List \u63A5\u53E3\u7684\u5168\u90E8\u529F\u80FD\u3002</p><p>ArrayList \u548C Vector \u7C7B\u90FD\u662F\u57FA\u4E8E\u6570\u7EC4\u5B9E\u73B0\u7684 List \u7C7B\uFF0C\u6240\u4EE5 ArrayList \u548C Vector \u7C7B\u5C01\u88C5\u4E86\u4E00\u4E2A\u52A8\u6001\u7684\u3001\u5141\u8BB8\u518D\u5206\u914D\u7684 Object[]\u6570\u7EC4\u3002ArrayList \u6216 Vector \u5BF9\u8C61\u4F7F\u7528 initialCapacity \u53C2\u6570\u6765\u8BBE\u7F6E\u8BE5\u6570\u7EC4\u7684\u957F\u5EA6\uFF0C\u5F53\u5411 ArrayList \u6216 Vector \u4E2D\u6DFB\u52A0\u5143\u7D20\u8D85\u51FA\u4E86\u8BE5\u6570\u7EC4\u7684\u957F\u5EA6\u65F6\uFF0C\u5B83\u4EEC\u7684 initialCapacity \u4F1A\u81EA\u52A8\u589E\u52A0\u3002</p><p>\u5BF9\u4E8E\u901A\u5E38\u7684\u7F16\u7A0B\u573A\u666F\uFF0C\u7A0B\u5E8F\u5458\u65E0\u987B\u5173\u5FC3 ArrayList \u6216 Vector \u7684 initialCapacity\u3002\u4F46\u5982\u679C\u5411 ArrayList \u6216 Vector \u96C6\u5408\u4E2D\u6DFB\u52A0\u5927\u91CF\u5143\u7D20\u65F6\uFF0C\u53EF\u4F7F\u7528 <code>ensureCapacity(int minCapacity)</code>\u65B9\u6CD5\u4E00\u6B21\u6027\u5730\u589E\u52A0 initialCapacity\u3002\u8FD9\u53EF\u4EE5\u51CF\u5C11\u91CD\u5206\u914D\u7684\u6B21\u6570\uFF0C\u4ECE\u800C\u63D0\u9AD8\u6027\u80FD\u3002</p><p>\u5982\u679C\u5F00\u59CB\u5C31\u77E5\u9053 ArrayList \u6216 Vector \u96C6\u5408\u9700\u8981\u4FDD\u5B58\u591A\u5C11\u4E2A\u5143\u7D20\uFF0C\u5219\u53EF\u4EE5\u5728\u521B\u5EFA\u5B83\u4EEC\u65F6\u5C31\u6307\u5B9A initialCapacity \u5927\u5C0F\u3002\u5982\u679C\u521B\u5EFA\u7A7A\u7684 ArrayList \u6216 Vector \u96C6\u5408\u65F6\u4E0D\u6307\u5B9A initialCapacity \u53C2\u6570\uFF0C\u5219 <code>Object[]</code>\u6570\u7EC4\u7684\u957F\u5EA6\u9ED8\u8BA4\u4E3A 10\u3002</p><p>\u9664\u6B64\u4E4B\u5916\uFF0CArrayList \u548C Vector \u8FD8\u63D0\u4F9B\u4E86\u5982\u4E0B\u4E24\u4E2A\u65B9\u6CD5\u6765\u91CD\u65B0\u5206\u914D <code>Object[]</code>\u6570\u7EC4\u3002</p><ol><li><code>void ensureCapacity(int minCapacity)</code>\uFF1A\u5C06 ArrayList \u6216 Vector \u96C6\u5408\u7684 <code>Object[]</code>\u6570\u7EC4\u957F\u5EA6\u589E\u52A0 minCapacity\u3002</li><li><code>void trimToSize()</code>\uFF1A\u8C03\u6574 ArrayList \u6216 Vector \u96C6\u5408\u7684 <code>Object[]</code>\u6570\u7EC4\u957F\u5EA6\u4E3A\u5F53\u524D\u5143\u7D20\u7684\u4E2A\u6570\u3002\u7A0B\u5E8F\u53EF\u8C03\u7528\u8BE5\u65B9\u6CD5\u6765\u51CF\u5C11 ArrayList \u6216 Vector \u96C6\u5408\u5BF9\u8C61\u5360\u7528\u7684\u5B58\u50A8\u7A7A\u95F4\u3002</li></ol><p>ArrayList \u548C Vector \u5728\u7528\u6CD5\u4E0A\u51E0\u4E4E\u5B8C\u5168\u76F8\u540C\uFF0C\u4F46\u7531\u4E8E Vector \u662F\u4E00\u4E2A\u53E4\u8001\u7684\u96C6\u5408\uFF08\u4ECE JDK 1.0 \u5C31\u6709\u4E86\uFF09\uFF0C\u90A3\u65F6\u5019 Java \u8FD8\u6CA1\u6709\u63D0\u4F9B\u7CFB\u7EDF\u7684\u96C6\u5408\u6846\u67B6\uFF0C\u6240\u4EE5 Vector \u91CC\u63D0\u4F9B\u4E86\u4E00\u4E9B\u65B9\u6CD5\u540D\u5F88\u957F\u7684\u65B9\u6CD5\uFF0C\u4F8B\u5982 <code>addElement(Object obj)</code>\uFF0C\u5B9E\u9645\u4E0A\u8FD9\u4E2A\u65B9\u6CD5\u4E0E <code>add (Object obj)</code>\u6CA1\u6709\u4EFB\u4F55\u533A\u522B\u3002</p><p>\u4ECE JDK 1.2 \u4EE5\u540E\uFF0CJava \u63D0\u4F9B\u4E86\u7CFB\u7EDF\u7684\u96C6\u5408\u6846\u67B6\uFF0C\u5C31\u5C06 Vector \u6539\u4E3A\u5B9E\u73B0 List \u63A5\u53E3\uFF0C\u4F5C\u4E3A List \u7684\u5B9E\u73B0\u4E4B\u4E00\uFF0C\u4ECE\u800C\u5BFC\u81F4 Vector \u91CC\u6709\u4E00\u4E9B\u529F\u80FD\u91CD\u590D\u7684\u65B9\u6CD5\u3002</p><p>ArrayList \u548C Vector \u7684\u663E\u8457\u533A\u522B\u662F\uFF1AArrayList \u662F\u7EBF\u7A0B\u4E0D\u5B89\u5168\u7684\uFF0C\u5F53\u591A\u4E2A\u7EBF\u7A0B\u8BBF\u95EE\u540C\u4E00\u4E2A ArrayList \u96C6\u5408\u65F6\uFF0C\u5982\u679C\u6709\u8D85\u8FC7\u4E00\u4E2A\u7EBF\u7A0B\u4FEE\u6539\u4E86 ArrayList \u96C6\u5408\uFF0C\u5219\u7A0B\u5E8F\u5FC5\u987B\u624B\u52A8\u4FDD\u8BC1\u8BE5\u96C6\u5408\u7684\u540C\u6B65\u6027\uFF1B\u4F46 Vector \u96C6\u5408\u5219\u662F\u7EBF\u7A0B\u5B89\u5168\u7684\uFF0C\u65E0\u987B\u7A0B\u5E8F\u4FDD\u8BC1\u8BE5\u96C6\u5408\u7684\u540C\u6B65\u6027\u3002\u56E0\u4E3A Vector \u662F\u7EBF\u7A0B\u5B89\u5168\u7684\uFF0C\u6240\u4EE5 Vector \u7684\u6027\u80FD\u6BD4 ArrayList \u7684\u6027\u80FD\u8981\u4F4E\u3002\u5B9E\u9645\u4E0A\uFF0C\u5373\u4F7F\u9700\u8981\u4FDD\u8BC1 List \u96C6\u5408\u7EBF\u7A0B\u5B89\u5168\uFF0C\u4E5F\u540C\u6837\u4E0D\u63A8\u8350\u4F7F\u7528 Vector \u5B9E\u73B0\u7C7B\u3002</p><p>Vector \u8FD8\u63D0\u4F9B\u4E86\u4E00\u4E2A Stack \u5B50\u7C7B\uFF0C\u5B83\u7528\u4E8E\u6A21\u62DF\u201C\u6808\u201D\u8FD9\u79CD\u6570\u636E\u7ED3\u6784\uFF0C\u201C\u6808\u201D\u901A\u5E38\u662F\u6307\u201C\u540E\u8FDB\u5148\u51FA\u201D\uFF08LIFO\uFF09\u7684\u5BB9\u5668\u3002\u6700\u540E\u201Cpush\u201D\u8FDB\u6808\u7684\u5143\u7D20\uFF0C\u5C06\u6700\u5148\u88AB\u201Cpop\u201D\u51FA\u6808\u3002\u4E0E Java \u4E2D\u7684\u5176\u4ED6\u96C6\u5408\u4E00\u6837\uFF0C\u8FDB\u6808\u51FA\u6808\u7684\u90FD\u662F Object\uFF0C\u56E0\u6B64\u4ECE\u6808\u4E2D\u53D6\u51FA\u5143\u7D20\u540E\u5FC5\u987B\u8FDB\u884C\u7C7B\u578B\u8F6C\u6362\uFF0C\u9664\u975E\u4F60\u53EA\u662F\u4F7F\u7528 Object \u5177\u6709\u7684\u64CD\u4F5C\u3002\u6240\u4EE5 Stack \u7C7B\u91CC\u63D0\u4F9B\u4E86\u5982\u4E0B\u51E0\u4E2A\u65B9\u6CD5\u3002</p><ol><li><code>Object peek()</code>\uFF1A\u8FD4\u56DE\u201C\u6808\u201D\u7684\u7B2C\u4E00\u4E2A\u5143\u7D20\uFF0C\u4F46\u5E76\u4E0D\u5C06\u8BE5\u5143\u7D20\u201Cpop\u201D\u51FA\u6808\u3002</li><li><code>Object pop()</code>\uFF1A\u8FD4\u56DE\u201C\u6808\u201D\u7684\u7B2C\u4E00\u4E2A\u5143\u7D20\uFF0C\u5E76\u5C06\u8BE5\u5143\u7D20\u201Cpop\u201D\u51FA\u6808\u3002</li><li><code>void push(Object item)</code>\uFF1A\u5C06\u4E00\u4E2A\u5143\u7D20\u201Cpush\u201D\u8FDB\u6808\uFF0C\u6700\u540E\u4E00\u4E2A\u8FDB\u201C\u6808\u201D\u7684\u5143\u7D20\u603B\u662F\u4F4D\u4E8E\u201C\u6808\u201D\u9876\u3002</li></ol><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">VectorTest</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Stack</span> v <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Stack</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u4F9D\u6B21\u5C06\u4E09\u4E2A\u5143\u7D20\u201Cpush\u201D\u5165\u6808</span>
        v<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">&quot;\u75AF\u72C2Java\u8BB2\u4E49&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        v<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">&quot;\u8F7B\u91CF\u7EA7Java EE\u4F01\u4E1A\u5E94\u7528\u5B9E\u6218&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        v<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">&quot;\u75AF\u72C2Android\u8BB2\u4E49&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u8F93\u51FA\uFF1A[\u75AF\u72C2Java\u8BB2\u4E49, \u8F7B\u91CF\u7EA7Java EE\u4F01\u4E1A\u5E94\u7528\u5B9E\u6218 , \u75AF\u72C2Android\u8BB2\u4E49]</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u8BBF\u95EE\u7B2C\u4E00\u4E2A\u5143\u7D20\uFF0C\u4F46\u5E76\u4E0D\u5C06\u5176\u201Cpop\u201D\u51FA\u6808\uFF0C\u8F93\u51FA\uFF1A\u75AF\u72C2Android\u8BB2\u4E49</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u4F9D\u7136\u8F93\u51FA\uFF1A[\u75AF\u72C2Java\u8BB2\u4E49, \u8F7B\u91CF\u7EA7Java EE\u4F01\u4E1A\u5E94\u7528\u5B9E\u6218 , \u75AF\u72C2Android\u8BB2\u4E49]</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//\u201Cpop\u201D\u51FA\u6808\u7B2C\u4E00\u4E2A\u5143\u7D20\uFF0C\u8F93\u51FA\uFF1A\u75AF\u72C2Android\u8BB2\u4E49</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u8F93\u51FA\uFF1A[\u75AF\u72C2Java\u8BB2\u4E49, \u8F7B\u91CF\u7EA7Java EE\u4F01\u4E1A\u5E94\u7528\u5B9E\u6218]</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u7531\u4E8E Stack \u7EE7\u627F\u4E86 Vector\uFF0C\u56E0\u6B64\u5B83\u4E5F\u662F\u4E00\u4E2A\u975E\u5E38\u53E4\u8001\u7684 Java \u96C6\u5408\u7C7B\uFF0C\u5B83\u662F\u7EBF\u7A0B\u5B89\u5168\u7684\uFF0C\u6027\u80FD\u6BD4\u8F83\u5DEE\uFF0C\u56E0\u6B64\u73B0\u5728\u7684\u7A0B\u5E8F\u4E2D\u4E00\u822C\u8F83\u5C11\u4F7F\u7528 Stack \u7C7B\u3002\u5982\u679C\u7A0B\u5E8F\u9700\u8981\u4F7F\u7528\u201C\u6808\u201D\u8FD9\u79CD\u6570\u636E\u7ED3\u6784\uFF0C\u5219\u53EF\u4EE5\u8003\u8651\u4F7F\u7528 LinkedList\u3002</p><p>LinkedList \u4E5F\u662F List \u7684\u5B9E\u73B0\u7C7B\uFF0C\u5B83\u662F\u4E00\u4E2A\u57FA\u4E8E\u94FE\u8868\u5B9E\u73B0\u7684 List \u7C7B\uFF0C\u5BF9\u4E8E\u987A\u5E8F\u8BBF\u95EE\u96C6\u5408\u4E2D\u7684\u5143\u7D20\u8FDB\u884C\u4E86\u4F18\u5316\uFF0C\u7279\u522B\u662F\u63D2\u5165\u3001\u5220\u9664\u5143\u7D20\u65F6\u901F\u5EA6\u975E\u5E38\u5FEB\u3002LinkedList \u65E2\u5B9E\u73B0\u4E86 List \u63A5\u53E3\uFF0C\u4E5F\u5B9E\u73B0\u4E86 Deque \u63A5\u53E3\uFF0C\u7531\u4E8E\u5B9E\u73B0\u4E86 Deque \u63A5\u53E3\uFF0C\u56E0\u6B64\u53EF\u4EE5\u4F5C\u4E3A\u6808\u6765\u4F7F\u7528\u3002</p><h3 id="\u56FA\u5B9A\u957F\u5EA6\u7684-list" tabindex="-1"><a class="header-anchor" href="#\u56FA\u5B9A\u957F\u5EA6\u7684-list" aria-hidden="true">#</a> \u56FA\u5B9A\u957F\u5EA6\u7684 List</h3><p>\u8BB2\u6570\u7EC4\u65F6\u4ECB\u7ECD\u4E86\u4E00\u4E2A\u64CD\u4F5C\u6570\u7EC4\u7684\u5DE5\u5177\u7C7B\uFF1AArrays\uFF0C\u8BE5\u5DE5\u5177\u7C7B\u91CC\u63D0\u4F9B\u4E86 <code>asList(Object... a)</code>\u65B9\u6CD5\uFF0C\u8BE5\u65B9\u6CD5\u53EF\u4EE5\u628A\u4E00\u4E2A\u6570\u7EC4\u6216\u6307\u5B9A\u4E2A\u6570\u7684\u5BF9\u8C61\u8F6C\u6362\u6210\u4E00\u4E2A List \u96C6\u5408\uFF0C\u8FD9\u4E2A List \u96C6\u5408\u65E2\u4E0D\u662F ArrayList \u5B9E\u73B0\u7C7B\u7684\u5B9E\u4F8B\uFF0C\u4E5F\u4E0D\u662F Vector \u5B9E\u73B0\u7C7B\u7684\u5B9E\u4F8B\uFF0C\u800C\u662F Arrays \u7684\u5185\u90E8\u7C7B ArrayList \u7684\u5B9E\u4F8B\u3002</p><p>Arrays.ArrayList \u662F\u4E00\u4E2A\u56FA\u5B9A\u957F\u5EA6\u7684 List \u96C6\u5408\uFF0C\u7A0B\u5E8F\u53EA\u80FD\u904D\u5386\u8BBF\u95EE\u8BE5\u96C6\u5408\u91CC\u7684\u5143\u7D20\uFF0C\u4E0D\u53EF\u589E\u52A0\u3001\u5220\u9664\u8BE5\u96C6\u5408\u91CC\u7684\u5143\u7D20\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">FixedSizeList</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">List</span> fixedList <span class="token operator">=</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token string">&quot;\u75AF\u72C2Java\u8BB2\u4E49&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;\u8F7B\u91CF\u7EA7Java EE\u4F01\u4E1A\u5E94\u7528\u5B9E\u6218&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u83B7\u53D6fixedList\u7684\u5B9E\u73B0\u7C7B\uFF0C\u5C06\u8F93\u51FAArrays$ArrayList</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>fixedList<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u904D\u5386fixedList\u7684\u96C6\u5408\u5143\u7D20</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> fixedList<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>fixedList<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// \u8BD5\u56FE\u589E\u52A0\u3001\u5220\u9664\u5143\u7D20\u90FD\u4F1A\u5F15\u53D1UnsupportedOperationException\u5F02\u5E38</span>
        fixedList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;\u75AF\u72C2Android\u8BB2\u4E49&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        fixedList<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">&quot;\u75AF\u72C2Java\u8BB2\u4E49&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="queue-\u96C6\u5408" tabindex="-1"><a class="header-anchor" href="#queue-\u96C6\u5408" aria-hidden="true">#</a> Queue \u96C6\u5408</h2><p>Queue \u7528\u4E8E\u6A21\u62DF\u961F\u5217\u8FD9\u79CD\u6570\u636E\u7ED3\u6784\uFF0C\u961F\u5217\u901A\u5E38\u662F\u6307\u201C\u5148\u8FDB\u5148\u51FA\u201D\uFF08FIFO\uFF09\u7684\u5BB9\u5668\u3002\u961F\u5217\u7684\u5934\u90E8\u4FDD\u5B58\u5728\u961F\u5217\u4E2D\u5B58\u653E\u65F6\u95F4\u6700\u957F\u7684\u5143\u7D20\uFF0C\u961F\u5217\u7684\u5C3E\u90E8\u4FDD\u5B58\u5728\u961F\u5217\u4E2D\u5B58\u653E\u65F6\u95F4\u6700\u77ED\u7684\u5143\u7D20\u3002\u65B0\u5143\u7D20\u63D2\u5165\uFF08offer\uFF09\u5230\u961F\u5217\u7684\u5C3E\u90E8\uFF0C\u8BBF\u95EE\u5143\u7D20\uFF08poll\uFF09\u64CD\u4F5C\u4F1A\u8FD4\u56DE\u961F\u5217\u5934\u90E8\u7684\u5143\u7D20\u3002\u901A\u5E38\uFF0C\u961F\u5217\u4E0D\u5141\u8BB8\u968F\u673A\u8BBF\u95EE\u961F\u5217\u4E2D\u7684\u5143\u7D20\u3002</p><p>Queue \u63A5\u53E3\u4E2D\u5B9A\u4E49\u4E86\u5982\u4E0B\u51E0\u4E2A\u65B9\u6CD5\u3002</p><ol><li><code>void add(Object e)</code>\uFF1A\u5C06\u6307\u5B9A\u5143\u7D20\u52A0\u5165\u6B64\u961F\u5217\u7684\u5C3E\u90E8\u3002</li><li><code>Object element()</code>\uFF1A\u83B7\u53D6\u961F\u5217\u5934\u90E8\u7684\u5143\u7D20\uFF0C\u4F46\u662F\u4E0D\u5220\u9664\u8BE5\u5143\u7D20\u3002</li><li><code>boolean offer(Object e)</code>\uFF1A\u5C06\u6307\u5B9A\u5143\u7D20\u52A0\u5165\u6B64\u961F\u5217\u7684\u5C3E\u90E8\u3002\u5F53\u4F7F\u7528\u6709\u5BB9\u91CF\u9650\u5236\u7684\u961F\u5217\u65F6\uFF0C\u6B64\u65B9\u6CD5\u901A\u5E38\u6BD4 <code>add(Object e)</code>\u65B9\u6CD5\u66F4\u597D\u3002</li><li><code>Object peek()</code>\uFF1A\u83B7\u53D6\u961F\u5217\u5934\u90E8\u7684\u5143\u7D20\uFF0C\u4F46\u662F\u4E0D\u5220\u9664\u8BE5\u5143\u7D20\u3002\u5982\u679C\u6B64\u961F\u5217\u4E3A\u7A7A\uFF0C\u5219\u8FD4\u56DE null\u3002</li><li><code>Object poll()</code>\uFF1A\u83B7\u53D6\u961F\u5217\u5934\u90E8\u7684\u5143\u7D20\uFF0C\u5E76\u5220\u9664\u8BE5\u5143\u7D20\u3002\u5982\u679C\u6B64\u961F\u5217\u4E3A\u7A7A\uFF0C\u5219\u8FD4\u56DE null\u3002</li><li><code>Object remove()</code>\uFF1A\u83B7\u53D6\u961F\u5217\u5934\u90E8\u7684\u5143\u7D20\uFF0C\u5E76\u5220\u9664\u8BE5\u5143\u7D20\u3002</li></ol><h3 id="priorityqueue-\u5B9E\u73B0\u7C7B" tabindex="-1"><a class="header-anchor" href="#priorityqueue-\u5B9E\u73B0\u7C7B" aria-hidden="true">#</a> PriorityQueue \u5B9E\u73B0\u7C7B</h3><p>riorityQueue \u662F\u4E00\u4E2A\u6BD4\u8F83\u6807\u51C6\u7684\u961F\u5217\u5B9E\u73B0\u7C7B\u3002\u4E4B\u6240\u4EE5\u8BF4\u5B83\u662F\u6BD4\u8F83\u6807\u51C6\u7684\u961F\u5217\u5B9E\u73B0\uFF0C\u800C\u4E0D\u662F\u7EDD\u5BF9\u6807\u51C6\u7684\u961F\u5217\u5B9E\u73B0\uFF0C\u662F\u56E0\u4E3A PriorityQueue \u4FDD\u5B58\u961F\u5217\u5143\u7D20\u7684\u987A\u5E8F\u5E76\u4E0D\u662F\u6309\u52A0\u5165\u961F\u5217\u7684\u987A\u5E8F\uFF0C\u800C\u662F\u6309\u961F\u5217\u5143\u7D20\u7684\u5927\u5C0F\u8FDB\u884C\u91CD\u65B0\u6392\u5E8F\u3002\u56E0\u6B64\u5F53\u8C03\u7528 <code>peek()</code>\u65B9\u6CD5\u6216\u8005 <code>poll()</code>\u65B9\u6CD5\u53D6\u51FA\u961F\u5217\u4E2D\u7684\u5143\u7D20\u65F6\uFF0C\u5E76\u4E0D\u662F\u53D6\u51FA\u6700\u5148\u8FDB\u5165\u961F\u5217\u7684\u5143\u7D20\uFF0C\u800C\u662F\u53D6\u51FA\u961F\u5217\u4E2D\u6700\u5C0F\u7684\u5143\u7D20\u3002\u4ECE\u8FD9\u4E2A\u610F\u4E49\u4E0A\u6765\u770B\uFF0CPriorityQueue \u5DF2\u7ECF\u8FDD\u53CD\u4E86\u961F\u5217\u7684\u6700\u57FA\u672C\u89C4\u5219\uFF1A\u5148\u8FDB\u5148\u51FA\uFF08FIFO\uFF09\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PriorityQueueTest</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">PriorityQueue</span> pq <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PriorityQueue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u4E0B\u9762\u4EE3\u7801\u4F9D\u6B21\u5411pq\u4E2D\u52A0\u5165\u56DB\u4E2A\u5143\u7D20</span>
        pq<span class="token punctuation">.</span><span class="token function">offer</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        pq<span class="token punctuation">.</span><span class="token function">offer</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        pq<span class="token punctuation">.</span><span class="token function">offer</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        pq<span class="token punctuation">.</span><span class="token function">offer</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u8F93\u51FApq\u961F\u5217\uFF0C\u5E76\u4E0D\u662F\u6309\u5143\u7D20\u7684\u52A0\u5165\u987A\u5E8F\u6392\u5217</span>
        <span class="token comment">// \u800C\u662F\u6309\u5143\u7D20\u7684\u5927\u5C0F\u987A\u5E8F\u6392\u5217\uFF0C\u8F93\u51FA[-3, 0, 9, 6]</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>pq<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u8BBF\u95EE\u961F\u5217\u7684\u7B2C\u4E00\u4E2A\u5143\u7D20\uFF0C\u5176\u5B9E\u5C31\u662F\u961F\u5217\u4E2D\u6700\u5C0F\u7684\u5143\u7D20\uFF1A-3</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>pq<span class="token punctuation">.</span><span class="token function">poll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8FD0\u884C\u4E0A\u9762\u7A0B\u5E8F\u76F4\u63A5\u8F93\u51FA PriorityQueue \u96C6\u5408\u65F6\uFF0C\u53EF\u80FD\u770B\u5230\u8BE5\u961F\u5217\u91CC\u7684\u5143\u7D20\u5E76\u6CA1\u6709\u5F88\u597D\u5730\u6309\u5927\u5C0F\u8FDB\u884C\u6392\u5E8F\uFF0C\u4F46\u8FD9\u53EA\u662F\u53D7\u5230 PriorityQueue \u7684 <code>toString()</code>\u65B9\u6CD5\u7684\u8FD4\u56DE\u503C\u7684\u5F71\u54CD\u3002\u5B9E\u9645\u4E0A\uFF0C\u7A0B\u5E8F\u591A\u6B21\u8C03\u7528 PriorityQueue \u96C6\u5408\u5BF9\u8C61\u7684 <code>poll()</code>\u65B9\u6CD5\uFF0C\u5373\u53EF\u770B\u5230\u5143\u7D20\u6309\u4ECE\u5C0F\u5230\u5927\u7684\u987A\u5E8F\u201C\u79FB\u51FA\u961F\u5217\u201D\u3002</p><p>PriorityQueue \u4E0D\u5141\u8BB8\u63D2\u5165 null \u5143\u7D20\uFF0C\u5B83\u8FD8\u9700\u8981\u5BF9\u961F\u5217\u5143\u7D20\u8FDB\u884C\u6392\u5E8F\uFF0CPriorityQueue \u7684\u5143\u7D20\u6709\u4E24\u79CD\u6392\u5E8F\u65B9\u5F0F\u3002</p><ol><li>\u81EA\u7136\u6392\u5E8F\uFF1A\u91C7\u7528\u81EA\u7136\u987A\u5E8F\u7684 PriorityQueue \u96C6\u5408\u4E2D\u7684\u5143\u7D20\u5FC5\u987B\u5B9E\u73B0\u4E86 Comparable \u63A5\u53E3\uFF0C\u800C\u4E14\u5E94\u8BE5\u662F\u540C\u4E00\u4E2A\u7C7B\u7684\u591A\u4E2A\u5B9E\u4F8B\uFF0C\u5426\u5219\u53EF\u80FD\u5BFC\u81F4 <code>ClassCastException</code> \u5F02\u5E38\u3002</li><li>\u5B9A\u5236\u6392\u5E8F\uFF1A\u521B\u5EFA PriorityQueue \u961F\u5217\u65F6\uFF0C\u4F20\u5165\u4E00\u4E2A Comparator \u5BF9\u8C61\uFF0C\u8BE5\u5BF9\u8C61\u8D1F\u8D23\u5BF9\u961F\u5217\u4E2D\u7684\u6240\u6709\u5143\u7D20\u8FDB\u884C\u6392\u5E8F\u3002\u91C7\u7528\u5B9A\u5236\u6392\u5E8F\u65F6\u4E0D\u8981\u6C42\u961F\u5217\u5143\u7D20\u5B9E\u73B0 Comparable \u63A5\u53E3\u3002</li></ol><p>PriorityQueue \u961F\u5217\u5BF9\u5143\u7D20\u7684\u8981\u6C42\u4E0E TreeSet \u5BF9\u5143\u7D20\u7684\u8981\u6C42\u57FA\u672C\u4E00\u81F4\u3002</p><h3 id="deque-\u63A5\u53E3\u4E0E-arraydeque-\u5B9E\u73B0\u7C7B" tabindex="-1"><a class="header-anchor" href="#deque-\u63A5\u53E3\u4E0E-arraydeque-\u5B9E\u73B0\u7C7B" aria-hidden="true">#</a> Deque \u63A5\u53E3\u4E0E ArrayDeque \u5B9E\u73B0\u7C7B</h3><p>Deque \u63A5\u53E3\u662F Queue \u63A5\u53E3\u7684\u5B50\u63A5\u53E3\uFF0C\u5B83\u4EE3\u8868\u4E00\u4E2A\u53CC\u7AEF\u961F\u5217\uFF0CDeque \u63A5\u53E3\u91CC\u5B9A\u4E49\u4E86\u4E00\u4E9B\u53CC\u7AEF\u961F\u5217\u7684\u65B9\u6CD5\uFF0C\u8FD9\u4E9B\u65B9\u6CD5\u5141\u8BB8\u4ECE\u4E24\u7AEF\u6765\u64CD\u4F5C\u961F\u5217\u7684\u5143\u7D20\u3002</p><ol><li><code>void addFirst(Object e)</code>\uFF1A\u5C06\u6307\u5B9A\u5143\u7D20\u63D2\u5165\u8BE5\u53CC\u7AEF\u961F\u5217\u7684\u5F00\u5934\u3002</li><li><code>void addLast(Object e)</code>\uFF1A\u5C06\u6307\u5B9A\u5143\u7D20\u63D2\u5165\u8BE5\u53CC\u7AEF\u961F\u5217\u7684\u672B\u5C3E\u3002</li><li><code>Iterator descendingIterator()</code>\uFF1A\u8FD4\u56DE\u8BE5\u53CC\u7AEF\u961F\u5217\u5BF9\u5E94\u7684\u8FED\u4EE3\u5668\uFF0C\u8BE5\u8FED\u4EE3\u5668\u5C06\u4EE5\u9006\u5411\u987A\u5E8F\u6765\u8FED\u4EE3\u961F\u5217\u4E2D\u7684\u5143\u7D20\u3002</li><li><code>Object getFirst()</code>\uFF1A\u83B7\u53D6\u4F46\u4E0D\u5220\u9664\u53CC\u7AEF\u961F\u5217\u7684\u7B2C\u4E00\u4E2A\u5143\u7D20\u3002</li><li><code>Object getLast()</code>\uFF1A\u83B7\u53D6\u4F46\u4E0D\u5220\u9664\u53CC\u7AEF\u961F\u5217\u7684\u6700\u540E\u4E00\u4E2A\u5143\u7D20\u3002</li><li><code>boolean offerFirst(Object e)</code>\uFF1A\u5C06\u6307\u5B9A\u5143\u7D20\u63D2\u5165\u8BE5\u53CC\u7AEF\u961F\u5217\u7684\u5F00\u5934\u3002</li><li><code>boolean offerLast(Object e)</code>\uFF1A\u5C06\u6307\u5B9A\u5143\u7D20\u63D2\u5165\u8BE5\u53CC\u7AEF\u961F\u5217\u7684\u672B\u5C3E\u3002</li><li><code>Object peekFirst()</code>\uFF1A\u83B7\u53D6\u4F46\u4E0D\u5220\u9664\u8BE5\u53CC\u7AEF\u961F\u5217\u7684\u7B2C\u4E00\u4E2A\u5143\u7D20\uFF1B\u5982\u679C\u6B64\u53CC\u7AEF\u961F\u5217\u4E3A\u7A7A\uFF0C\u5219\u8FD4\u56DE null\u3002</li><li><code>Object peekLast()</code>\uFF1A\u83B7\u53D6\u4F46\u4E0D\u5220\u9664\u8BE5\u53CC\u7AEF\u961F\u5217\u7684\u6700\u540E\u4E00\u4E2A\u5143\u7D20\uFF1B\u5982\u679C\u6B64\u53CC\u7AEF\u961F\u5217\u4E3A\u7A7A\uFF0C\u5219\u8FD4\u56DE null\u3002</li><li><code>Object pollFirst()</code>\uFF1A\u83B7\u53D6\u5E76\u5220\u9664\u8BE5\u53CC\u7AEF\u961F\u5217\u7684\u7B2C\u4E00\u4E2A\u5143\u7D20\uFF1B\u5982\u679C\u6B64\u53CC\u7AEF\u961F\u5217\u4E3A\u7A7A\uFF0C\u5219\u8FD4\u56DE null\u3002</li><li><code>Object pollLast()</code>\uFF1A\u83B7\u53D6\u5E76\u5220\u9664\u8BE5\u53CC\u7AEF\u961F\u5217\u7684\u6700\u540E\u4E00\u4E2A\u5143\u7D20\uFF1B\u5982\u679C\u6B64\u53CC\u7AEF\u961F\u5217\u4E3A\u7A7A\uFF0C\u5219\u8FD4\u56DE null\u3002</li><li><code>Object pop()</code>\uFF08\u6808\u65B9\u6CD5\uFF09\uFF1Apop \u51FA\u8BE5\u53CC\u7AEF\u961F\u5217\u6240\u8868\u793A\u7684\u6808\u7684\u6808\u9876\u5143\u7D20\u3002\u76F8\u5F53\u4E8E <code>removeFirst()</code>\u3002</li><li><code>void push(Object e)</code>\uFF08\u6808\u65B9\u6CD5\uFF09\uFF1A\u5C06\u4E00\u4E2A\u5143\u7D20 push \u8FDB\u8BE5\u53CC\u7AEF\u961F\u5217\u6240\u8868\u793A\u7684\u6808\u7684\u6808\u9876\u3002\u76F8\u5F53\u4E8E <code>addFirst(e)</code>\u3002</li><li><code>Object removeFirst()</code>\uFF1A\u83B7\u53D6\u5E76\u5220\u9664\u8BE5\u53CC\u7AEF\u961F\u5217\u7684\u7B2C\u4E00\u4E2A\u5143\u7D20\u3002</li><li><code>Object removeFirstOccurrence(Object o)</code>\uFF1A\u5220\u9664\u8BE5\u53CC\u7AEF\u961F\u5217\u7684\u7B2C\u4E00\u6B21\u51FA\u73B0\u7684\u5143\u7D20 o\u3002</li><li><code>removeLast()</code>\uFF1A\u83B7\u53D6\u5E76\u5220\u9664\u8BE5\u53CC\u7AEF\u961F\u5217\u7684\u6700\u540E\u4E00\u4E2A\u5143\u7D20\u3002</li><li><code>removeLastOccurrence(Object o)</code>\uFF1A\u5220\u9664\u8BE5\u53CC\u7AEF\u961F\u5217\u7684\u6700\u540E\u4E00\u6B21\u51FA\u73B0\u7684\u5143\u7D20 o\u3002</li></ol><p>Deque \u4E0D\u4EC5\u53EF\u4EE5\u5F53\u6210\u53CC\u7AEF\u961F\u5217\u4F7F\u7528\uFF0C\u800C\u4E14\u53EF\u4EE5\u88AB\u5F53\u6210\u6808\u6765\u4F7F\u7528\uFF0C\u56E0\u4E3A\u8BE5\u7C7B\u91CC\u8FD8\u5305\u542B\u4E86 pop\uFF08\u51FA\u6808\uFF09\u3001push\uFF08\u5165\u6808\uFF09\u4E24\u4E2A\u65B9\u6CD5\u3002</p><p>Deque \u7684\u65B9\u6CD5\u4E0E Queue \u7684\u65B9\u6CD5\u5BF9\u7167\u8868\u3002</p><p><img src="https://gcore.jsdelivr.net/gh/SurplusFate/guide_img@main/img/202208111345270.jpeg" alt="img"></p><p>Deque \u7684\u65B9\u6CD5\u4E0E Stack \u7684\u65B9\u6CD5\u5BF9\u7167\u8868\u3002</p><p><img src="https://gcore.jsdelivr.net/gh/SurplusFate/guide_img@main/img/202208111345962.jpeg" alt="img"></p><p>Deque \u63A5\u53E3\u63D0\u4F9B\u4E86\u4E00\u4E2A\u5178\u578B\u7684\u5B9E\u73B0\u7C7B\uFF1AArrayDeque\uFF0C\u4ECE\u8BE5\u540D\u79F0\u5C31\u53EF\u4EE5\u770B\u51FA\uFF0C\u5B83\u662F\u4E00\u4E2A\u57FA\u4E8E\u6570\u7EC4\u5B9E\u73B0\u7684\u53CC\u7AEF\u961F\u5217\uFF0C\u521B\u5EFA Deque \u65F6\u540C\u6837\u53EF\u6307\u5B9A\u4E00\u4E2A numElements \u53C2\u6570\uFF0C\u8BE5\u53C2\u6570\u7528\u4E8E\u6307\u5B9A <code>Object[]</code>\u6570\u7EC4\u7684\u957F\u5EA6\uFF1B\u5982\u679C\u4E0D\u6307\u5B9A numElements \u53C2\u6570\uFF0CDeque \u5E95\u5C42\u6570\u7EC4\u7684\u957F\u5EA6\u4E3A 16\u3002</p><div class="custom-container tip"><p class="custom-container-title">\u63D0\u793A</p><p>ArrayList \u548C ArrayDeque \u4E24\u4E2A\u96C6\u5408\u7C7B\u7684\u5B9E\u73B0\u673A\u5236\u57FA\u672C\u76F8\u4F3C\uFF0C\u5B83\u4EEC\u7684\u5E95\u5C42\u90FD\u91C7\u7528\u4E00\u4E2A\u52A8\u6001\u7684\u3001\u53EF\u91CD\u5206\u914D\u7684 Object[]\u6570\u7EC4\u6765\u5B58\u50A8\u96C6\u5408\u5143\u7D20\uFF0C\u5F53\u96C6\u5408\u5143\u7D20\u8D85\u51FA\u4E86\u8BE5\u6570\u7EC4\u7684\u5BB9\u91CF\u65F6\uFF0C\u7CFB\u7EDF\u4F1A\u5728\u5E95\u5C42\u91CD\u65B0\u5206\u914D\u4E00\u4E2A <code>Object[]</code>\u6570\u7EC4\u6765\u5B58\u50A8\u96C6\u5408\u5143\u7D20\u3002</p></div><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ArrayDequeTest</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">ArrayDeque</span> stack <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayDeque</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u4F9D\u6B21\u5C06\u4E09\u4E2A\u5143\u7D20push\u5165\u201C\u6808\u201D</span>
        stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">&quot;\u75AF\u72C2Java\u8BB2\u4E49&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">&quot;\u8F7B\u91CF\u7EA7Java EE\u4F01\u4E1A\u5E94\u7528\u5B9E\u6218&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">&quot;\u75AF\u72C2Android\u8BB2\u4E49&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u8F93\u51FA\uFF1A[\u75AF\u72C2Java\u8BB2\u4E49, \u8F7B\u91CF\u7EA7Java EE\u4F01\u4E1A\u5E94\u7528\u5B9E\u6218 , \u75AF\u72C2Android\u8BB2\u4E49]</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>stack<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u8BBF\u95EE\u7B2C\u4E00\u4E2A\u5143\u7D20\uFF0C\u4F46\u5E76\u4E0D\u5C06\u5176pop\u51FA\u201C\u6808\u201D\uFF0C\u8F93\u51FA\uFF1A\u75AF\u72C2Android\u8BB2\u4E49</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>stack<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u4F9D\u7136\u8F93\u51FA\uFF1A[\u75AF\u72C2Java\u8BB2\u4E49, \u8F7B\u91CF\u7EA7Java EE\u4F01\u4E1A\u5E94\u7528\u5B9E\u6218 , \u75AF\u72C2Android\u8BB2\u4E49]</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>stack<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// pop\u51FA\u7B2C\u4E00\u4E2A\u5143\u7D20\uFF0C\u8F93\u51FA\uFF1A\u75AF\u72C2Android\u8BB2\u4E49</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>stack<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u8F93\u51FA\uFF1A[\u75AF\u72C2Java\u8BB2\u4E49, \u8F7B\u91CF\u7EA7Java EE\u4F01\u4E1A\u5E94\u7528\u5B9E\u6218]</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>stack<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4E0A\u9762\u7A0B\u5E8F\u7684\u8FD0\u884C\u7ED3\u679C\u4E0E\u524D\u9762\u4F7F\u7528 Stack \u7684\u8FD0\u884C\u7ED3\u679C\u76F8\u4F3C\uFF0C\u4E0D\u8FC7\u4F7F\u7528 ArrayDeque \u7684\u6027\u80FD\u4F1A\u66F4\u52A0\u51FA\u8272\uFF0C\u56E0\u6B64\u73B0\u5728\u7684\u7A0B\u5E8F\u4E2D\u9700\u8981\u4F7F\u7528\u201C\u6808\u201D\u8FD9\u79CD\u6570\u636E\u7ED3\u6784\u65F6\uFF0C\u63A8\u8350\u4F7F\u7528 ArrayDeque \u6216 LinkedList\uFF0C\u800C\u4E0D\u662F Stack\u3002</p><h3 id="linkedlist-\u5B9E\u73B0\u7C7B" tabindex="-1"><a class="header-anchor" href="#linkedlist-\u5B9E\u73B0\u7C7B" aria-hidden="true">#</a> LinkedList \u5B9E\u73B0\u7C7B</h3><p>LinkedList \u7C7B\u662F List \u63A5\u53E3\u7684\u5B9E\u73B0\u7C7B\u2014\u2014\u8FD9\u610F\u5473\u7740\u5B83\u662F\u4E00\u4E2A List \u96C6\u5408\uFF0C\u53EF\u4EE5\u6839\u636E\u7D22\u5F15\u6765\u968F\u673A\u8BBF\u95EE\u96C6\u5408\u4E2D\u7684\u5143\u7D20\u3002\u9664\u6B64\u4E4B\u5916\uFF0CLinkedList \u8FD8\u5B9E\u73B0\u4E86 Deque \u63A5\u53E3\uFF0C\u56E0\u6B64\u5B83\u53EF\u4EE5\u88AB\u5F53\u6210\u53CC\u7AEF\u961F\u5217\u6765\u4F7F\u7528\uFF0C\u81EA\u7136\u4E5F\u53EF\u4EE5\u88AB\u5F53\u6210\u201C\u6808\u201D\u6765\u4F7F\u7528\u4E86\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LinkedListTest</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">LinkedList</span> books <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LinkedList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u5C06\u5B57\u7B26\u4E32\u5143\u7D20\u52A0\u5165\u961F\u5217\u7684\u5C3E\u90E8</span>
        books<span class="token punctuation">.</span><span class="token function">offer</span><span class="token punctuation">(</span><span class="token string">&quot;\u75AF\u72C2Java\u8BB2\u4E49&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u5C06\u4E00\u4E2A\u5B57\u7B26\u4E32\u5143\u7D20\u52A0\u5165\u6808\u7684\u9876\u90E8</span>
        books<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">&quot;\u8F7B\u91CF\u7EA7Java EE\u4F01\u4E1A\u5E94\u7528\u5B9E\u6218&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u5C06\u5B57\u7B26\u4E32\u5143\u7D20\u6DFB\u52A0\u5230\u961F\u5217\u7684\u5934\u90E8\uFF08\u76F8\u5F53\u4E8E\u6808\u7684\u9876\u90E8\uFF09</span>
        books<span class="token punctuation">.</span><span class="token function">offerFirst</span><span class="token punctuation">(</span><span class="token string">&quot;\u75AF\u72C2Android\u8BB2\u4E49&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> books<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>books<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// \u8BBF\u95EE\u4F46\u4E0D\u5220\u9664\u6808\u9876\u7684\u5143\u7D20</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>books<span class="token punctuation">.</span><span class="token function">peekFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u8BBF\u95EE\u4F46\u4E0D\u5220\u9664\u961F\u5217\u7684\u6700\u540E\u4E00\u4E2A\u5143\u7D20</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>books<span class="token punctuation">.</span><span class="token function">peekLast</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u5C06\u6808\u9876\u7684\u5143\u7D20\u5F39\u51FA\u201C\u6808\u201D</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>books<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u4E0B\u9762\u8F93\u51FA\u5C06\u770B\u5230\u961F\u5217\u4E2D\u7B2C\u4E00\u4E2A\u5143\u7D20\u88AB\u5220\u9664</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>books<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u8BBF\u95EE\u5E76\u5220\u9664\u961F\u5217\u7684\u6700\u540E\u4E00\u4E2A\u5143\u7D20</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>books<span class="token punctuation">.</span><span class="token function">pollLast</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u4E0B\u9762\u8F93\u51FA\u5C06\u770B\u5230\u961F\u5217\u4E2D\u53EA\u5269\u4E0B\u4E2D\u95F4\u4E00\u4E2A\u5143\u7D20\uFF1A</span>
        <span class="token comment">// \u8F7B\u91CF\u7EA7Java EE\u4F01\u4E1A\u5E94\u7528\u5B9E\u6218</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>books<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>LinkedList \u4E0E ArrayList\u3001ArrayDeque \u7684\u5B9E\u73B0\u673A\u5236\u5B8C\u5168\u4E0D\u540C\uFF0CArrayList\u3001ArrayDeque \u5185\u90E8\u4EE5\u6570\u7EC4\u7684\u5F62\u5F0F\u6765\u4FDD\u5B58\u96C6\u5408\u4E2D\u7684\u5143\u7D20\uFF0C\u56E0\u6B64\u968F\u673A\u8BBF\u95EE\u96C6\u5408\u5143\u7D20\u65F6\u6709\u8F83\u597D\u7684\u6027\u80FD\uFF1B\u800C LinkedList \u5185\u90E8\u4EE5\u94FE\u8868\u7684\u5F62\u5F0F\u6765\u4FDD\u5B58\u96C6\u5408\u4E2D\u7684\u5143\u7D20\uFF0C\u56E0\u6B64\u968F\u673A\u8BBF\u95EE\u96C6\u5408\u5143\u7D20\u65F6\u6027\u80FD\u8F83\u5DEE\uFF0C\u4F46\u5728\u63D2\u5165\u3001\u5220\u9664\u5143\u7D20\u65F6\u6027\u80FD\u975E\u5E38\u51FA\u8272\uFF08\u53EA\u9700\u6539\u53D8\u6307\u9488\u6240\u6307\u7684\u5730\u5740\u5373\u53EF\uFF09\u3002\u9700\u8981\u6307\u51FA\u7684\u662F\uFF0C\u867D\u7136 Vector \u4E5F\u662F\u4EE5\u6570\u7EC4\u7684\u5F62\u5F0F\u6765\u5B58\u50A8\u96C6\u5408\u5143\u7D20\u7684\uFF0C\u4F46\u56E0\u4E3A\u5B83\u5B9E\u73B0\u4E86\u7EBF\u7A0B\u540C\u6B65\u529F\u80FD\uFF0C\u6240\u4EE5\u5404\u65B9\u9762\u6027\u80FD\u90FD\u6709\u6240\u4E0B\u964D\u3002</p><div class="custom-container tip"><p class="custom-container-title">\u63D0\u793A</p><p>\u5BF9\u4E8E\u6240\u6709\u7684\u5185\u90E8\u57FA\u4E8E\u6570\u7EC4\u7684\u96C6\u5408\u5B9E\u73B0\uFF0C\u4F8B\u5982 ArrayList\u3001ArrayDeque \u7B49\uFF0C\u4F7F\u7528\u968F\u673A\u8BBF\u95EE\u7684\u6027\u80FD\u6BD4\u4F7F\u7528 Iterator \u8FED\u4EE3\u8BBF\u95EE\u7684\u6027\u80FD\u8981\u597D\uFF0C\u56E0\u4E3A\u968F\u673A\u8BBF\u95EE\u4F1A\u88AB\u6620\u5C04\u6210\u5BF9\u6570\u7EC4\u5143\u7D20\u7684\u8BBF\u95EE\u3002</p></div><h3 id="\u5404\u79CD\u7EBF\u6027\u8868\u7684\u6027\u80FD\u5206\u6790" tabindex="-1"><a class="header-anchor" href="#\u5404\u79CD\u7EBF\u6027\u8868\u7684\u6027\u80FD\u5206\u6790" aria-hidden="true">#</a> \u5404\u79CD\u7EBF\u6027\u8868\u7684\u6027\u80FD\u5206\u6790</h3><p>Java \u63D0\u4F9B\u7684 List \u5C31\u662F\u4E00\u4E2A\u7EBF\u6027\u8868\u63A5\u53E3\uFF0C\u800C ArrayList\u3001LinkedList \u53C8\u662F\u7EBF\u6027\u8868\u7684\u4E24\u79CD\u5178\u578B\u5B9E\u73B0\uFF1A\u57FA\u4E8E\u6570\u7EC4\u7684\u7EBF\u6027\u8868\u548C\u57FA\u4E8E\u94FE\u7684\u7EBF\u6027\u8868\u3002Queue \u4EE3\u8868\u4E86\u961F\u5217\uFF0CDeque \u4EE3\u8868\u4E86\u53CC\u7AEF\u961F\u5217\uFF08\u65E2\u53EF\u4F5C\u4E3A\u961F\u5217\u4F7F\u7528\uFF0C\u4E5F\u53EF\u4F5C\u4E3A\u6808\u4F7F\u7528\uFF09\uFF0C\u63A5\u4E0B\u6765\u5BF9\u5404\u79CD\u5B9E\u73B0\u7C7B\u7684\u6027\u80FD\u8FDB\u884C\u5206\u6790\u3002</p><p>\u521D\u5B66\u8005\u53EF\u4EE5\u65E0\u987B\u7406\u4F1A ArrayList \u548C LinkedList \u4E4B\u95F4\u7684\u6027\u80FD\u5DEE\u5F02\uFF0C\u53EA\u9700\u8981\u77E5\u9053 LinkedList \u96C6\u5408\u4E0D\u4EC5\u63D0\u4F9B\u4E86 List \u7684\u529F\u80FD\uFF0C\u8FD8\u63D0\u4F9B\u4E86\u53CC\u7AEF\u961F\u5217\u3001\u6808\u7684\u529F\u80FD\u5C31\u884C\u3002\u4F46\u5728\u4E00\u4E9B\u6027\u80FD\u975E\u5E38\u654F\u611F\u7684\u5730\u65B9\uFF0C\u53EF\u80FD\u9700\u8981\u614E\u91CD\u9009\u62E9\u54EA\u4E2A List \u5B9E\u73B0\uFF0C\u4E0B\u8868\u5217\u51FA\u4E86\u6570\u7EC4\u3001ArrayList/ArrayDeque\u3001Vector\u3001LinkedList \u7684\u6027\u80FD\u5DEE\u5F02\u3002</p><p><img src="https://gcore.jsdelivr.net/gh/SurplusFate/guide_img@main/img/202208111352180.jpeg" alt="img"></p><p>\u56E0\u4E3A\u6570\u7EC4\u4EE5\u4E00\u5757\u8FDE\u7EED\u5185\u5B58\u533A\u6765\u4FDD\u5B58\u6240\u6709\u7684\u6570\u7EC4\u5143\u7D20\uFF0C\u6240\u4EE5\u6570\u7EC4\u5728\u968F\u673A\u8BBF\u95EE\u65F6\u6027\u80FD\u6700\u597D\u3002\u6240\u6709\u7684\u5185\u90E8\u4EE5\u6570\u7EC4\u4F5C\u4E3A\u5E95\u5C42\u5B9E\u73B0\u7684\u96C6\u5408\u5728\u968F\u673A\u8BBF\u95EE\u65F6\u6027\u80FD\u8F83\u597D\uFF1B\u800C\u5185\u90E8\u4EE5\u94FE\u8868\u4F5C\u4E3A\u5E95\u5C42\u5B9E\u73B0\u7684\u96C6\u5408\u5728\u6267\u884C\u63D2\u5165\u3001\u5220\u9664\u64CD\u4F5C\u65F6\u6709\u5F88\u597D\u7684\u6027\u80FD\uFF1B\u8FDB\u884C\u8FED\u4EE3\u64CD\u4F5C\u65F6\uFF0C\u4EE5\u94FE\u8868\u4F5C\u4E3A\u5E95\u5C42\u5B9E\u73B0\u7684\u96C6\u5408\u6BD4\u4EE5\u6570\u7EC4\u4F5C\u4E3A\u5E95\u5C42\u5B9E\u73B0\u7684\u96C6\u5408\u6027\u80FD\u597D\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PerformanceTest</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// \u521B\u5EFA\u4E00\u4E2A\u5B57\u7B26\u4E32\u6570\u7EC4</span>
        <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> tst1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token number">900000</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token comment">// \u52A8\u6001\u521D\u59CB\u5316\u6570\u7EC4\u5143\u7D20</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">900000</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            tst1<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token class-name">ArrayList</span> al <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u5C06\u6240\u6709\u7684\u6570\u7EC4\u5143\u7D20\u52A0\u5165ArrayList\u96C6\u5408\u4E2D</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">900000</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            al<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>tst1<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token class-name">LinkedList</span> ll <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LinkedList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u5C06\u6240\u6709\u7684\u6570\u7EC4\u5143\u7D20\u52A0\u5165LinkedList\u96C6\u5408\u4E2D</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">900000</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            ll<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>tst1<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// \u8FED\u4EE3\u8BBF\u95EEArrayList\u96C6\u5408\u7684\u6240\u6709\u5143\u7D20\uFF0C\u5E76\u8F93\u51FA\u8FED\u4EE3\u65F6\u95F4</span>
        <span class="token keyword">long</span> start <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Iterator</span> it <span class="token operator">=</span> al<span class="token punctuation">.</span><span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> it<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
            it<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;\u8FED\u4EE3ArrayList\u96C6\u5408\u5143\u7D20\u7684\u65F6\u95F4:&quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> start<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u8FED\u4EE3\u8BBF\u95EELinkedList\u96C6\u5408\u7684\u6240\u6709\u5143\u7D20\uFF0C\u5E76\u8F93\u51FA\u8FED\u4EE3\u65F6\u95F4</span>
        start <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Iterator</span> it <span class="token operator">=</span> ll<span class="token punctuation">.</span><span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> it<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
            it<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;\u8FED\u4EE3LinedList\u96C6\u5408\u5143\u7D20\u7684\u65F6\u95F4:&quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> start<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4E0A\u9762\u7A0B\u5E8F\u4E2D\u7684<code>currentTimeMillis</code>\u7528\u4EE5\u83B7\u53D6\u7CFB\u7EDF\u5F53\u524D\u65F6\u95F4\u2014\u2014\u8FD9\u4E2A\u65F6\u95F4\u4EE5 long \u6574\u6570\u7684\u5F62\u5F0F\u8FD4\u56DE\uFF0C\u901A\u5E38\u53D6\u5F97\u8FD9\u79CD\u65F6\u95F4\u7528\u4E8E\u7EDF\u8BA1\u7A0B\u5E8F\u4E2D\u4E00\u6BB5\u4EE3\u7801\u7684\u6267\u884C\u65F6\u95F4\u3002</p><p>\u591A\u6B21\u8FD0\u884C\u4E0A\u9762\u7A0B\u5E8F\u4F1A\u53D1\u73B0\uFF0C\u8FED\u4EE3 ArrayList \u96C6\u5408\u7684\u65F6\u95F4\u7565\u5927\u4E8E\u8FED\u4EE3 LinkedList \u96C6\u5408\u7684\u65F6\u95F4\u3002\u56E0\u6B64\uFF0C\u5173\u4E8E\u4F7F\u7528 List \u96C6\u5408\u6709\u5982\u4E0B\u5EFA\u8BAE\u3002</p><ol><li>\u5982\u679C\u9700\u8981\u904D\u5386 List \u96C6\u5408\u5143\u7D20\uFF0C\u5BF9\u4E8E ArrayList\u3001Vector \u96C6\u5408\uFF0C\u5E94\u8BE5\u4F7F\u7528\u968F\u673A\u8BBF\u95EE\u65B9\u6CD5\uFF08get\uFF09\u6765\u904D\u5386\u96C6\u5408\u5143\u7D20\uFF0C\u8FD9\u6837\u6027\u80FD\u66F4\u597D\uFF1B\u5BF9\u4E8E LinkedList \u96C6\u5408\uFF0C\u5219\u5E94\u8BE5\u91C7\u7528\u8FED\u4EE3\u5668\uFF08Iterator\uFF09\u6765\u904D\u5386\u96C6\u5408\u5143\u7D20\u3002</li><li>\u5982\u679C\u9700\u8981\u7ECF\u5E38\u6267\u884C\u63D2\u5165\u3001\u5220\u9664\u64CD\u4F5C\u6765\u6539\u53D8 List \u96C6\u5408\u7684\u5927\u5C0F\uFF0C\u5219\u5E94\u8BE5\u4F7F\u7528 LinkedList \u96C6\u5408\uFF0C\u800C\u4E0D\u662F ArrayList\u3002\u4F7F\u7528 ArrayList\u3001Vector \u96C6\u5408\u9700\u8981\u7ECF\u5E38\u91CD\u65B0\u5206\u914D\u5185\u90E8\u6570\u7EC4\u7684\u5927\u5C0F\uFF0C\u5176\u65F6\u95F4\u5F00\u9500\u5E38\u5E38\u662F\u4F7F\u7528 LinkedList \u7684\u65F6\u95F4\u5F00\u9500\u7684\u51E0\u5341\u500D\uFF0C\u6548\u679C\u5F88\u5DEE\u3002</li><li>\u5982\u679C\u6709\u591A\u4E2A\u7EBF\u7A0B\u9700\u8981\u540C\u65F6\u8BBF\u95EE List \u96C6\u5408\u4E2D\u7684\u5143\u7D20\uFF0C\u5F00\u53D1\u8005\u53EF\u8003\u8651\u4F7F\u7528 Collections \u5C06\u96C6\u5408\u5305\u88C5\u6210\u7EBF\u7A0B\u5B89\u5168\u7684\u96C6\u5408\u3002</li></ol><h2 id="map" tabindex="-1"><a class="header-anchor" href="#map" aria-hidden="true">#</a> Map</h2><p>Map \u7528\u4E8E\u4FDD\u5B58\u5177\u6709\u6620\u5C04\u5173\u7CFB\u7684\u6570\u636E\uFF0C\u56E0\u6B64 Map \u96C6\u5408\u91CC\u4FDD\u5B58\u7740\u4E24\u7EC4\u503C\uFF0C\u4E00\u7EC4\u503C\u7528\u4E8E\u4FDD\u5B58 Map \u91CC\u7684 key\uFF0C\u53E6\u5916\u4E00\u7EC4\u503C\u7528\u4E8E\u4FDD\u5B58 Map \u91CC\u7684 value\uFF0Ckey \u548C value \u90FD\u53EF\u4EE5\u662F\u4EFB\u4F55\u5F15\u7528\u7C7B\u578B\u7684\u6570\u636E\u3002Map \u7684 key \u4E0D\u5141\u8BB8\u91CD\u590D\uFF0C\u5373\u540C\u4E00\u4E2A Map \u5BF9\u8C61\u7684\u4EFB\u4F55\u4E24\u4E2A key \u901A\u8FC7 equals \u65B9\u6CD5\u6BD4\u8F83\u603B\u662F\u8FD4\u56DE false\u3002</p><p>key \u548C value \u4E4B\u95F4\u5B58\u5728\u5355\u5411\u4E00\u5BF9\u4E00\u5173\u7CFB\uFF0C\u5373\u901A\u8FC7\u6307\u5B9A\u7684 key\uFF0C\u603B\u80FD\u627E\u5230\u552F\u4E00\u7684\u3001\u786E\u5B9A\u7684 value\u3002\u4ECE Map \u4E2D\u53D6\u51FA\u6570\u636E\u65F6\uFF0C\u53EA\u8981\u7ED9\u51FA\u6307\u5B9A\u7684 key\uFF0C\u5C31\u53EF\u4EE5\u53D6\u51FA\u5BF9\u5E94\u7684 value\u3002\u5982\u679C\u628A Map \u7684\u4E24\u7EC4\u503C\u62C6\u5F00\u6765\u770B\uFF0CMap \u91CC\u7684\u6570\u636E\u6709\u5982\u56FE\u6240\u793A\u7684\u7ED3\u6784\u3002</p><p><img src="https://gcore.jsdelivr.net/gh/SurplusFate/guide_img@main/img/202208111411344.jpeg" alt="img"></p><p>\u5982\u679C\u628A Map \u91CC\u7684\u6240\u6709 key \u653E\u5728\u4E00\u8D77\u6765\u770B\uFF0C\u5B83\u4EEC\u5C31\u7EC4\u6210\u4E86\u4E00\u4E2A Set \u96C6\u5408\uFF08\u6240\u6709\u7684 key \u6CA1\u6709\u987A\u5E8F\uFF0Ckey \u4E0E key \u4E4B\u95F4\u4E0D\u80FD\u91CD\u590D\uFF09\uFF0C\u5B9E\u9645\u4E0A Map \u786E\u5B9E\u5305\u542B\u4E86\u4E00\u4E2A <code>keySet()</code>\u65B9\u6CD5\uFF0C\u7528\u4E8E\u8FD4\u56DE Map \u91CC\u6240\u6709 key \u7EC4\u6210\u7684 Set \u96C6\u5408\u3002</p><p>\u4E0D\u4EC5\u5982\u6B64\uFF0CMap \u91CC key \u96C6\u548C Set \u96C6\u5408\u91CC\u5143\u7D20\u7684\u5B58\u50A8\u5F62\u5F0F\u4E5F\u5F88\u50CF\uFF0CMap \u5B50\u7C7B\u548C Set \u5B50\u7C7B\u5728\u540D\u5B57\u4E0A\u4E5F\u60CA\u4EBA\u5730\u76F8\u4F3C\uFF0C\u6BD4\u5982 Set \u63A5\u53E3\u4E0B\u6709 HashSet\u3001LinkedHashSet\u3001SortedSet\uFF08\u63A5\u53E3\uFF09\u3001TreeSet\u3001EnumSet \u7B49\u5B50\u63A5\u53E3\u548C\u5B9E\u73B0\u7C7B\uFF0C\u800C Map \u63A5\u53E3\u4E0B\u5219\u6709 HashMap\u3001LinkedHashMap\u3001SortedMap\uFF08\u63A5\u53E3\uFF09\u3001TreeMap\u3001EnumMap \u7B49\u5B50\u63A5\u53E3\u548C\u5B9E\u73B0\u7C7B\u3002\u6B63\u5982\u5B83\u4EEC\u7684\u540D\u5B57\u6240\u6697\u793A\u7684\uFF0CMap \u7684\u8FD9\u4E9B\u5B9E\u73B0\u7C7B\u548C\u5B50\u63A5\u53E3\u4E2D key \u96C6\u7684\u5B58\u50A8\u5F62\u5F0F\u548C\u5BF9\u5E94 Set \u96C6\u5408\u4E2D\u5143\u7D20\u7684\u5B58\u50A8\u5F62\u5F0F\u5B8C\u5168\u76F8\u540C\u3002</p><div class="custom-container info"><p class="custom-container-title">\u76F8\u5173\u4FE1\u606F</p><p>Set \u4E0E Map \u4E4B\u95F4\u7684\u5173\u7CFB\u975E\u5E38\u5BC6\u5207\u3002\u867D\u7136 Map \u4E2D\u653E\u7684\u5143\u7D20\u662F key-value \u5BF9\uFF0CSet \u96C6\u5408\u4E2D\u653E\u7684\u5143\u7D20\u662F\u5355\u4E2A\u5BF9\u8C61\uFF0C\u4F46\u5982\u679C\u6211\u4EEC\u628A key-value \u5BF9\u4E2D\u7684 value \u5F53\u6210 key \u7684\u9644\u5EB8\uFF1Akey \u5728\u54EA\u91CC\uFF0Cvalue \u5C31\u8DDF\u5728\u54EA\u91CC\u3002\u8FD9\u6837\u5C31\u53EF\u4EE5\u50CF\u5BF9\u5F85 Set \u4E00\u6837\u6765\u5BF9\u5F85 Map \u4E86\u3002</p><p>\u4E8B\u5B9E\u4E0A\uFF0CMap \u63D0\u4F9B\u4E86\u4E00\u4E2A Entry \u5185\u90E8\u7C7B\u6765\u5C01\u88C5 key-value \u5BF9\uFF0C\u800C\u8BA1\u7B97 Entry \u5B58\u50A8\u65F6\u5219\u53EA\u8003\u8651 Entry \u5C01\u88C5\u7684 key\u3002\u4ECE Java \u6E90\u7801\u6765\u770B\uFF0C Java \u662F\u5148\u5B9E\u73B0\u4E86 Map\uFF0C\u7136\u540E\u901A\u8FC7\u5305\u88C5\u4E00\u4E2A\u6240\u6709 value \u90FD\u4E3A null \u7684 Map \u5C31\u5B9E\u73B0\u4E86 Set \u96C6\u5408\u3002</p></div><p>\u5982\u679C\u628A Map \u91CC\u7684\u6240\u6709 value \u653E\u5728\u4E00\u8D77\u6765\u770B\uFF0C\u5B83\u4EEC\u53C8\u975E\u5E38\u7C7B\u4F3C\u4E8E\u4E00\u4E2A List\uFF1A\u5143\u7D20\u4E0E\u5143\u7D20\u4E4B\u95F4\u53EF\u4EE5\u91CD\u590D\uFF0C\u6BCF\u4E2A\u5143\u7D20\u53EF\u4EE5\u6839\u636E\u7D22\u5F15\u6765\u67E5\u627E\uFF0C\u53EA\u662F Map \u4E2D\u7684\u7D22\u5F15\u4E0D\u518D\u4F7F\u7528\u6574\u6570\u503C\uFF0C\u800C\u662F\u4EE5\u53E6\u4E00\u4E2A\u5BF9\u8C61\u4F5C\u4E3A\u7D22\u5F15\u3002\u5982\u679C\u9700\u8981\u4ECE List \u96C6\u5408\u4E2D\u53D6\u51FA\u5143\u7D20\uFF0C\u5219\u9700\u8981\u63D0\u4F9B\u8BE5\u5143\u7D20\u7684\u6570\u5B57\u7D22\u5F15\uFF1B\u5982\u679C\u9700\u8981\u4ECE Map \u4E2D\u53D6\u51FA\u5143\u7D20\uFF0C\u5219\u9700\u8981\u63D0\u4F9B\u8BE5\u5143\u7D20\u7684 key \u7D22\u5F15\u3002\u56E0\u6B64\uFF0CMap \u6709\u65F6\u4E5F\u88AB\u79F0\u4E3A\u5B57\u5178\uFF0C\u6216\u5173\u8054\u6570\u7EC4\u3002Map \u63A5\u53E3\u4E2D\u5B9A\u4E49\u4E86\u5982\u4E0B\u5E38\u7528\u7684\u65B9\u6CD5\u3002</p><ol><li><code>void clear()</code>\uFF1A\u5220\u9664\u8BE5 Map \u5BF9\u8C61\u4E2D\u7684\u6240\u6709 key-value \u5BF9\u3002</li><li><code>boolean containsKey(Object key)</code>\uFF1A\u67E5\u8BE2 Map \u4E2D\u662F\u5426\u5305\u542B\u6307\u5B9A\u7684 key\uFF0C\u5982\u679C\u5305\u542B\u5219\u8FD4\u56DE true\u3002</li><li><code>boolean containsValue(Object value)</code>\uFF1A\u67E5\u8BE2 Map \u4E2D\u662F\u5426\u5305\u542B\u4E00\u4E2A\u6216\u591A\u4E2A value\uFF0C\u5982\u679C\u5305\u542B\u5219\u8FD4\u56DE true\u3002</li><li><code>Set entrySet()</code>\uFF1A\u8FD4\u56DE Map \u4E2D\u5305\u542B\u7684 key-value \u5BF9\u6240\u7EC4\u6210\u7684 Set \u96C6\u5408\uFF0C\u6BCF\u4E2A\u96C6\u5408\u5143\u7D20\u90FD\u662F Map.Entry \uFF08Entry \u662F Map \u7684\u5185\u90E8\u7C7B\uFF09\u5BF9\u8C61\u3002</li><li><code>Object get(Object key)</code>\uFF1A\u8FD4\u56DE\u6307\u5B9A key \u6240\u5BF9\u5E94\u7684 value\uFF1B\u5982\u679C\u6B64 Map \u4E2D\u4E0D\u5305\u542B\u8BE5 key\uFF0C\u5219\u8FD4\u56DE null\u3002</li><li><code>boolean isEmpty()</code>\uFF1A\u67E5\u8BE2\u8BE5 Map \u662F\u5426\u4E3A\u7A7A\uFF08\u5373\u4E0D\u5305\u542B\u4EFB\u4F55 key-value \u5BF9\uFF09\uFF0C\u5982\u679C\u4E3A\u7A7A\u5219\u8FD4\u56DE true\u3002</li><li><code>Set keySet()</code>\uFF1A\u8FD4\u56DE\u8BE5 Map \u4E2D\u6240\u6709 key \u7EC4\u6210\u7684 Set \u96C6\u5408\u3002</li><li><code>Object put(Object key, Object value)</code>\uFF1A\u6DFB\u52A0\u4E00\u4E2A key-value \u5BF9\uFF0C\u5982\u679C\u5F53\u524D Map \u4E2D\u5DF2\u6709\u4E00\u4E2A\u4E0E\u8BE5 key \u76F8\u7B49\u7684 key-value \u5BF9\uFF0C\u5219\u65B0\u7684 key-value \u5BF9\u4F1A\u8986\u76D6\u539F\u6765\u7684 key-value \u5BF9\u3002</li><li><code>void putAll(Map m)</code>\uFF1A\u5C06\u6307\u5B9A Map \u4E2D\u7684 key-value \u5BF9\u590D\u5236\u5230\u672C Map \u4E2D\u3002</li><li><code>Object remove(Object key)</code>\uFF1A\u5220\u9664\u6307\u5B9A key \u6240\u5BF9\u5E94\u7684 key-value \u5BF9\uFF0C\u8FD4\u56DE\u88AB\u5220\u9664 key \u6240\u5173\u8054\u7684 value\uFF0C\u5982\u679C\u8BE5 key \u4E0D\u5B58\u5728\uFF0C\u5219\u8FD4\u56DE null\u3002</li><li><code>int size()</code>\uFF1A\u8FD4\u56DE\u8BE5 Map \u91CC\u7684 key-value \u5BF9\u7684\u4E2A\u6570\u3002</li><li><code>Collection values()</code>\uFF1A\u8FD4\u56DE\u8BE5 Map \u91CC\u6240\u6709 value \u7EC4\u6210\u7684 Collection\u3002</li></ol><p>Map \u63A5\u53E3\u63D0\u4F9B\u4E86\u5927\u91CF\u7684\u5B9E\u73B0\u7C7B\uFF0C\u5178\u578B\u5B9E\u73B0\u5982 HashMap \u548C Hashtable \u7B49\u3001HashMap \u7684\u5B50\u7C7B LinkedHashMap\uFF0C\u8FD8\u6709 SortedMap \u5B50\u63A5\u53E3\u53CA\u8BE5\u63A5\u53E3\u7684\u5B9E\u73B0\u7C7B TreeMap\uFF0C\u4EE5\u53CA WeakHashMap\u3001IdentityHashMap \u7B49\u3002\u4E0B\u9762\u5C06\u8BE6\u7EC6\u4ECB\u7ECD Map \u63A5\u53E3\u5B9E\u73B0\u7C7B\u3002</p><p>Map \u4E2D\u5305\u62EC\u4E00\u4E2A\u5185\u90E8\u7C7B Entry\uFF0C\u8BE5\u7C7B\u5C01\u88C5\u4E86\u4E00\u4E2A key-value \u5BF9\u3002Entry \u5305\u542B\u5982\u4E0B\u4E09\u4E2A\u65B9\u6CD5\u3002</p><ol><li><code>Object getKey()</code>\uFF1A\u8FD4\u56DE\u8BE5 Entry \u91CC\u5305\u542B\u7684 key \u503C\u3002</li><li><code>Object getValue()</code>\uFF1A\u8FD4\u56DE\u8BE5 Entry \u91CC\u5305\u542B\u7684 value \u503C\u3002</li><li><code>Object setValue(V value)</code>\uFF1A\u8BBE\u7F6E\u8BE5 Entry \u91CC\u5305\u542B\u7684 value \u503C\uFF0C\u5E76\u8FD4\u56DE\u65B0\u8BBE\u7F6E\u7684 value \u503C\u3002</li></ol><h3 id="hashmap-\u548C-hashtable-\u5B9E\u73B0\u7C7B" tabindex="-1"><a class="header-anchor" href="#hashmap-\u548C-hashtable-\u5B9E\u73B0\u7C7B" aria-hidden="true">#</a> HashMap \u548C Hashtable \u5B9E\u73B0\u7C7B</h3><p>HashMap \u548C Hashtable \u90FD\u662F Map \u63A5\u53E3\u7684\u5178\u578B\u5B9E\u73B0\u7C7B\uFF0C\u5B83\u4EEC\u4E4B\u95F4\u7684\u5173\u7CFB\u5B8C\u5168\u7C7B\u4F3C\u4E8E ArrayList \u548C Vector \u7684\u5173\u7CFB\uFF1AHashtable \u662F\u4E00\u4E2A\u53E4\u8001\u7684 Map \u5B9E\u73B0\u7C7B\uFF0C\u5B83\u4ECE JDK 1.0 \u8D77\u5C31\u5DF2\u7ECF\u51FA\u73B0\u4E86\uFF0C\u5F53\u5B83\u51FA\u73B0\u65F6\uFF0CJava \u8FD8\u6CA1\u6709\u63D0\u4F9B Map \u63A5\u53E3\uFF0C\u6240\u4EE5\u5B83\u5305\u542B\u4E86\u4E24\u4E2A\u70E6\u7410\u7684\u65B9\u6CD5\uFF0C\u5373 <code>elements()</code>\uFF08\u7C7B\u4F3C\u4E8E Map \u63A5\u53E3\u5B9A\u4E49\u7684 <code>values()</code>\u65B9\u6CD5\uFF09\u548C <code>keys()</code>\uFF08\u7C7B\u4F3C\u4E8E Map \u63A5\u53E3\u5B9A\u4E49\u7684 <code>keySet()</code>\u65B9\u6CD5\uFF09\uFF0C\u73B0\u5728\u5F88\u5C11\u4F7F\u7528\u8FD9\u4E24\u4E2A\u65B9\u6CD5\u3002</p><p>\u9664\u6B64\u4E4B\u5916\uFF0CHashtable \u548C HashMap \u5B58\u5728\u4E24\u70B9\u5178\u578B\u533A\u522B\u3002</p><ol><li>Hashtable \u662F\u4E00\u4E2A\u7EBF\u7A0B\u5B89\u5168\u7684 Map \u5B9E\u73B0\uFF0C\u4F46 HashMap \u662F\u7EBF\u7A0B\u4E0D\u5B89\u5168\u7684\u5B9E\u73B0\uFF0C\u6240\u4EE5 HashMap \u6BD4 Hashtable \u7684\u6027\u80FD\u9AD8\u4E00\u70B9\uFF1B\u4F46\u5982\u679C\u6709\u591A\u4E2A\u7EBF\u7A0B\u8BBF\u95EE\u540C\u4E00\u4E2A Map \u5BF9\u8C61\u65F6\uFF0C\u4F7F\u7528 Hashtable \u5B9E\u73B0\u7C7B\u4F1A\u66F4\u597D\u3002</li><li>Hashtable \u4E0D\u5141\u8BB8\u4F7F\u7528 null \u4F5C\u4E3A key \u548C value\uFF0C\u5982\u679C\u8BD5\u56FE\u628A null \u503C\u653E\u8FDB Hashtable \u4E2D\uFF0C\u5C06\u4F1A\u5F15\u53D1 <code>NullPointerException</code> \u5F02\u5E38\uFF1B\u4F46 HashMap \u53EF\u4EE5\u4F7F\u7528 null \u4F5C\u4E3A key \u6216 value\u3002</li></ol><p>\u7531\u4E8E HashMap \u91CC\u7684 key \u4E0D\u80FD\u91CD\u590D\uFF0C\u6240\u4EE5 HashMap \u91CC\u6700\u591A\u53EA\u6709\u4E00\u4E2A key-value \u5BF9\u7684 key \u4E3A null\uFF0C\u4F46\u53EF\u4EE5\u6709\u65E0\u6570\u591A\u4E2A key-value \u5BF9\u7684 value \u4E3A null\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">NullInHashMap</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">HashMap</span> hm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u2460\u8BD5\u56FE\u5C06\u4E24\u4E2Akey\u4E3Anull\u503C\u7684key-value\u5BF9\u653E\u5165HashMap\u4E2D</span>
        hm<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        hm<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u2461\u5C06\u4E00\u4E2Avalue\u4E3Anull\u503C\u7684key-value\u5BF9\u653E\u5165HashMap\u4E2D</span>
        hm<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//\u8F93\u51FAMap\u5BF9\u8C61</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>hm<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/*
 {null=null, a=null}
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u6240\u6709\u7684 Map \u5B9E\u73B0\u7C7B\u90FD\u91CD\u5199\u4E86 <code>toString()</code>\u65B9\u6CD5\uFF0C\u8C03\u7528 Map \u5BF9\u8C61\u7684 <code>toString()</code>\u65B9\u6CD5\u603B\u662F\u8FD4\u56DE\u5982\u4E0B\u683C\u5F0F\u7684\u5B57\u7B26\u4E32\uFF1A<code>{key1=value1,key2=value2...}</code>\u3002</p><div class="custom-container info"><p class="custom-container-title">\u76F8\u5173\u4FE1\u606F</p><p>\u4ECE Hashtable \u7684\u7C7B\u540D\u4E0A\u5C31\u53EF\u4EE5\u770B\u51FA\u5B83\u662F\u4E00\u4E2A\u53E4\u8001\u7684\u7C7B\uFF0C\u5B83\u7684\u547D\u540D\u751A\u81F3\u6CA1\u6709\u9075\u5B88 Java \u7684\u547D\u540D\u89C4\u8303\uFF1A\u6BCF\u4E2A\u5355\u8BCD\u7684\u9996\u5B57\u6BCD\u90FD\u5E94\u8BE5\u5927\u5199\u3002\u4E5F\u8BB8\u5F53\u521D\u5F00\u53D1 Hashtable \u7684\u5DE5\u7A0B\u5E08\u4E5F\u6CA1\u6709\u6CE8\u610F\u5230\u8FD9\u4E00\u70B9\uFF0C\u540E\u6765\u5927\u91CF Java \u7A0B\u5E8F\u4E2D\u4F7F\u7528\u4E86 Hashtable \u7C7B\uFF0C\u6240\u4EE5\u8FD9\u4E2A\u7C7B\u540D\u4E5F\u5C31\u4E0D\u80FD\u6539\u4E3A HashTable \u4E86\uFF0C\u5426\u5219\u5C06\u5BFC\u81F4\u5927\u91CF\u7A0B\u5E8F\u9700\u8981\u6539\u5199\u3002\u4E0E Vector \u7C7B\u4F3C\u7684\u662F\uFF0C\u5C3D\u91CF\u5C11\u7528 Hashtable \u5B9E\u73B0\u7C7B\uFF0C\u5373\u4F7F\u9700\u8981\u521B\u5EFA\u7EBF\u7A0B\u5B89\u5168\u7684 Map \u5B9E\u73B0\u7C7B\uFF0C\u4E5F\u65E0\u987B\u4F7F\u7528 Hashtable \u5B9E\u73B0\u7C7B</p></div><p>\u4E3A\u4E86\u6210\u529F\u5730\u5728 HashMap\u3001Hashtable \u4E2D\u5B58\u50A8\u3001\u83B7\u53D6\u5BF9\u8C61\uFF0C\u7528\u4F5C key \u7684\u5BF9\u8C61\u5FC5\u987B\u5B9E\u73B0 <code>hashCode()</code>\u65B9\u6CD5\u548C <code>equals()</code>\u65B9\u6CD5\u3002</p><p>\u4E0E HashSet \u96C6\u5408\u4E0D\u80FD\u4FDD\u8BC1\u5143\u7D20\u7684\u987A\u5E8F\u4E00\u6837\uFF0CHashMap\u3001Hashtable \u4E5F\u4E0D\u80FD\u4FDD\u8BC1\u5176\u4E2D key-value \u5BF9\u7684\u987A\u5E8F\u3002\u7C7B\u4F3C\u4E8E HashSet\uFF0CHashMap\u3001Hashtable \u5224\u65AD\u4E24\u4E2A key \u76F8\u7B49\u7684\u6807\u51C6\u4E5F\u662F\uFF1A\u4E24\u4E2A key \u901A\u8FC7 <code>equals()</code>\u65B9\u6CD5\u6BD4\u8F83\u8FD4\u56DE true\uFF0C\u4E24\u4E2A key \u7684 hashCode \u503C\u4E5F\u76F8\u7B49\u3002</p><p>\u9664\u6B64\u4E4B\u5916\uFF0CHashMap\u3001Hashtable \u4E2D\u8FD8\u5305\u542B\u4E00\u4E2A <code>containsValue()</code>\u65B9\u6CD5\uFF0C\u7528\u4E8E\u5224\u65AD\u662F\u5426\u5305\u542B\u6307\u5B9A\u7684 value\u3002\u90A3\u4E48 HashMap\u3001Hashtable \u5982\u4F55\u5224\u65AD\u4E24\u4E2A value \u76F8\u7B49\u5462\uFF1FHashMap\u3001Hashtable \u5224\u65AD\u4E24\u4E2A value \u76F8\u7B49\u7684\u6807\u51C6\u66F4\u7B80\u5355\uFF1A\u53EA\u8981\u4E24\u4E2A\u5BF9\u8C61\u901A\u8FC7 <code>equals()</code>\u65B9\u6CD5\u6BD4\u8F83\u8FD4\u56DE true \u5373\u53EF\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">A3</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> count<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token function">A3</span><span class="token punctuation">(</span><span class="token keyword">int</span> count<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>count <span class="token operator">=</span> count<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// \u6839\u636Ecount\u7684\u503C\u6765\u5224\u65AD\u4E24\u4E2A\u5BF9\u8C61\u662F\u5426\u76F8\u7B49</span>
    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">equals</span><span class="token punctuation">(</span><span class="token class-name">Object</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>obj <span class="token operator">==</span> <span class="token keyword">this</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>obj <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> obj<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token constant">A3</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">A3</span> a3 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token constant">A3</span><span class="token punctuation">)</span>obj<span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>count <span class="token operator">==</span> a3<span class="token punctuation">.</span>count<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// \u6839\u636Ecount\u6765\u8BA1\u7B97hashCode\u503C</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>count<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">B3</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u91CD\u5199equals()\u65B9\u6CD5\uFF0CB\u5BF9\u8C61\u4E0E\u4EFB\u4F55\u5BF9\u8C61\u901A\u8FC7equals()\u65B9\u6CD5\u6BD4\u8F83\u90FD\u76F8\u7B49</span>
    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">equals</span><span class="token punctuation">(</span><span class="token class-name">Object</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HashtableTest</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Hashtable</span> ht <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Hashtable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ht<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">A3</span><span class="token punctuation">(</span><span class="token number">60000</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;\u75AF\u72C2Java\u8BB2\u4E49&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ht<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">A3</span><span class="token punctuation">(</span><span class="token number">87563</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;\u8F7B\u91CF\u7EA7Java EE\u4F01\u4E1A\u5E94\u7528\u5B9E\u6218&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ht<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">A3</span><span class="token punctuation">(</span><span class="token number">1232</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">B3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>ht<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u53EA\u8981\u4E24\u4E2A\u5BF9\u8C61\u901A\u8FC7equals()\u65B9\u6CD5\u6BD4\u8F83\u8FD4\u56DEtrue</span>
        <span class="token comment">// Hashtable\u5C31\u8BA4\u4E3A\u5B83\u4EEC\u662F\u76F8\u7B49\u7684value</span>
        <span class="token comment">// \u7531\u4E8EHashtable\u4E2D\u6709\u4E00\u4E2AB\u5BF9\u8C61</span>
        <span class="token comment">// \u2460\u5B83\u4E0E\u4EFB\u4F55\u5BF9\u8C61\u901A\u8FC7equals()\u65B9\u6CD5\u6BD4\u8F83\u90FD\u76F8\u7B49\uFF0C\u6240\u4EE5\u4E0B\u9762\u8F93\u51FAtrue</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>ht<span class="token punctuation">.</span><span class="token function">containsValue</span><span class="token punctuation">(</span><span class="token string">&quot;\u6D4B\u8BD5\u5B57\u7B26\u4E32&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u53EA\u8981\u4E24\u4E2AA\u5BF9\u8C61\u7684count\u76F8\u7B49\uFF0C\u5B83\u4EEC\u901A\u8FC7equals()\u65B9\u6CD5\u6BD4\u8F83\u8FD4\u56DEtrue\uFF0C\u4E14hashCode\u503C\u76F8\u7B49</span>
        <span class="token comment">// \u2461Hashtable\u5373\u8BA4\u4E3A\u5B83\u4EEC\u662F\u76F8\u540C\u7684key\uFF0C\u6240\u4EE5\u4E0B\u9762\u8F93\u51FAtrue</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>ht<span class="token punctuation">.</span><span class="token function">containsKey</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">A3</span><span class="token punctuation">(</span><span class="token number">87563</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u2462\u4E0B\u9762\u8BED\u53E5\u53EF\u4EE5\u5220\u9664\u6700\u540E\u4E00\u4E2Akey-value\u5BF9</span>
        ht<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">A3</span><span class="token punctuation">(</span><span class="token number">1232</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u901A\u8FC7\u8FD4\u56DEHashtable\u7684\u6240\u6709key\u7EC4\u6210\u7684Set\u96C6\u5408</span>
        <span class="token comment">// \u4ECE\u800C\u904D\u5386Hashtable\u7684\u6BCF\u4E2Akey-value\u5BF9</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Object</span> key <span class="token operator">:</span> ht<span class="token punctuation">.</span><span class="token function">keySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>key <span class="token operator">+</span> <span class="token string">&quot;----&gt;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>ht<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;\\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container tip"><p class="custom-container-title">\u63D0\u793A</p><p>\u5F53\u4F7F\u7528\u81EA\u5B9A\u4E49\u7C7B\u4F5C\u4E3A HashMap\u3001Hashtable \u7684 key \u65F6\uFF0C\u5982\u679C\u91CD\u5199\u8BE5\u7C7B\u7684 <code>equals(Object obj)</code>\u548C <code>hashCode()</code>\u65B9\u6CD5\uFF0C\u5219\u5E94\u8BE5\u4FDD\u8BC1\u4E24\u4E2A\u65B9\u6CD5\u7684\u5224\u65AD\u6807\u51C6\u4E00\u81F4\u2014\u2014\u5F53\u4E24\u4E2A key \u901A\u8FC7 <code>equals()</code>\u65B9\u6CD5\u6BD4\u8F83\u8FD4\u56DE true \u65F6\uFF0C\u4E24\u4E2A key \u7684 <code>hashCode()</code>\u8FD4\u56DE\u503C\u4E5F\u5E94\u8BE5\u76F8\u540C\u3002\u56E0\u4E3A HashMap\u3001Hashtable \u4FDD\u5B58 key \u7684\u65B9\u5F0F\u4E0E HashSet \u4FDD\u5B58\u96C6\u5408\u5143\u7D20\u7684\u65B9\u5F0F\u5B8C\u5168\u76F8\u540C\uFF0C\u6240\u4EE5 HashMap\u3001Hashtable \u5BF9 key \u7684\u8981\u6C42\u4E0E HashSet \u5BF9\u96C6\u5408\u5143\u7D20\u7684\u8981\u6C42\u5B8C\u5168\u76F8\u540C\u3002</p></div><p>\u4E0E HashSet \u7C7B\u4F3C\u7684\u662F\uFF0C\u5982\u679C\u4F7F\u7528\u53EF\u53D8\u5BF9\u8C61\u4F5C\u4E3A HashMap\u3001Hashtable \u7684 key\uFF0C\u5E76\u4E14\u7A0B\u5E8F\u4FEE\u6539\u4E86\u4F5C\u4E3A key \u7684\u53EF\u53D8\u5BF9\u8C61\uFF0C\u5219\u4E5F\u53EF\u80FD\u51FA\u73B0\u4E0E HashSet \u7C7B\u4F3C\u7684\u60C5\u5F62\uFF1A\u7A0B\u5E8F\u518D\u4E5F\u65E0\u6CD5\u51C6\u786E\u8BBF\u95EE\u5230 Map \u4E2D\u88AB\u4FEE\u6539\u8FC7\u7684 key\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HashtableErrorTest</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Hashtable</span> ht <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Hashtable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u6B64\u5904\u7684A\u7C7B\u4E0E\u524D\u4E00\u4E2A\u7A0B\u5E8F\u7684A\u7C7B\u662F\u540C\u4E00\u4E2A\u7C7B</span>
        ht<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">A3</span><span class="token punctuation">(</span><span class="token number">60000</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;\u75AF\u72C2Java\u8BB2\u4E49&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ht<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">A3</span><span class="token punctuation">(</span><span class="token number">87563</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;\u8F7B\u91CF\u7EA7Java EE\u4F01\u4E1A\u5E94\u7528\u5B9E\u6218&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u83B7\u5F97Hashtable\u7684key Set\u96C6\u5408\u5BF9\u5E94\u7684Iterator\u8FED\u4EE3\u5668</span>
        <span class="token class-name">Iterator</span> it <span class="token operator">=</span> ht<span class="token punctuation">.</span><span class="token function">keySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u2460\u53D6\u51FAMap\u4E2D\u7B2C\u4E00\u4E2Akey</span>
        <span class="token class-name">A3</span> first <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token constant">A3</span><span class="token punctuation">)</span>it<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        first<span class="token punctuation">.</span>count <span class="token operator">=</span> <span class="token number">87563</span><span class="token punctuation">;</span>
        <span class="token comment">// \u8F93\u51FA{A@1560b=\u75AF\u72C2Java\u8BB2\u4E49, A@1560b=\u8F7B\u91CF\u7EA7Java EE\u4F01\u4E1A\u5E94\u7528\u5B9E\u6218}</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>ht<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u53EA\u80FD\u5220\u9664\u6CA1\u6709\u88AB\u4FEE\u6539\u8FC7\u7684key\u6240\u5BF9\u5E94\u7684key-value\u5BF9</span>
        ht<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">A3</span><span class="token punctuation">(</span><span class="token number">87563</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>ht<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u2461\u65E0\u6CD5\u83B7\u53D6\u5269\u4E0B\u7684value\uFF0C\u4E0B\u9762\u4E24\u884C\u4EE3\u7801\u90FD\u5C06\u8F93\u51FAnull</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>ht<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">A3</span><span class="token punctuation">(</span><span class="token number">87563</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>ht<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">A3</span><span class="token punctuation">(</span><span class="token number">60000</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container tip"><p class="custom-container-title">\u63D0\u793A</p><p>\u4E0E HashSet \u7C7B\u4F3C\u7684\u662F\uFF0C\u5C3D\u91CF\u4E0D\u8981\u4F7F\u7528\u53EF\u53D8\u5BF9\u8C61\u4F5C\u4E3A HashMap\u3001Hashtable \u7684 key\uFF0C\u5982\u679C\u786E\u5B9E\u9700\u8981\u4F7F\u7528\u53EF\u53D8\u5BF9\u8C61\u4F5C\u4E3A HashMap\u3001Hashtable \u7684 key\uFF0C\u5219\u5C3D\u91CF\u4E0D\u8981\u5728\u7A0B\u5E8F\u4E2D\u4FEE\u6539\u4F5C\u4E3A key \u7684\u53EF\u53D8\u5BF9\u8C61\u3002</p></div><h3 id="linkedhashmap-\u5B9E\u73B0\u7C7B" tabindex="-1"><a class="header-anchor" href="#linkedhashmap-\u5B9E\u73B0\u7C7B" aria-hidden="true">#</a> LinkedHashMap \u5B9E\u73B0\u7C7B</h3><p>HashSet \u6709\u4E00\u4E2A\u5B50\u7C7B\u662F LinkedHashSet\uFF0CHashMap \u4E5F\u6709\u4E00\u4E2A LinkedHashMap \u5B50\u7C7B\uFF1BLinkedHashMap \u4E5F\u4F7F\u7528\u53CC\u5411\u94FE\u8868\u6765\u7EF4\u62A4 key-value \u5BF9\u7684\u6B21\u5E8F\uFF08\u5176\u5B9E\u53EA\u9700\u8981\u8003\u8651 key \u7684\u6B21\u5E8F\uFF09\uFF0C\u8BE5\u94FE\u8868\u8D1F\u8D23\u7EF4\u62A4 Map \u7684\u8FED\u4EE3\u987A\u5E8F\uFF0C\u8FED\u4EE3\u987A\u5E8F\u4E0E key-value \u5BF9\u7684\u63D2\u5165\u987A\u5E8F\u4FDD\u6301\u4E00\u81F4\u3002</p><p>LinkedHashMap \u53EF\u4EE5\u907F\u514D\u5BF9 HashMap\u3001Hashtable \u91CC\u7684 key-value \u5BF9\u8FDB\u884C\u6392\u5E8F\uFF08\u53EA\u8981\u63D2\u5165 key-value \u5BF9\u65F6\u4FDD\u6301\u987A\u5E8F\u5373\u53EF\uFF09\uFF0C\u540C\u65F6\u53C8\u53EF\u907F\u514D\u4F7F\u7528 TreeMap \u6240\u589E\u52A0\u7684\u6210\u672C\u3002</p><p>LinkedHashMap \u9700\u8981\u7EF4\u62A4\u5143\u7D20\u7684\u63D2\u5165\u987A\u5E8F\uFF0C\u56E0\u6B64\u6027\u80FD\u7565\u4F4E\u4E8E HashMap \u7684\u6027\u80FD\uFF1B\u4F46\u56E0\u4E3A\u5B83\u4EE5\u94FE\u8868\u6765\u7EF4\u62A4\u5185\u90E8\u987A\u5E8F\uFF0C\u6240\u4EE5\u5728\u8FED\u4EE3\u8BBF\u95EE Map \u91CC\u7684\u5168\u90E8\u5143\u7D20\u65F6\u5C06\u6709\u8F83\u597D\u7684\u6027\u80FD\u3002\u4E0B\u9762\u7A0B\u5E8F\u793A\u8303\u4E86 LinkedHashMap \u7684\u529F\u80FD\uFF1A\u8FED\u4EE3\u8F93\u51FA LinkedHashMap \u7684\u5143\u7D20\u65F6\uFF0C\u5C06\u4F1A\u6309\u6DFB\u52A0 key-value \u5BF9\u7684\u987A\u5E8F\u8F93\u51FA\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LinkedHashMapTest</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">LinkedHashMap</span> scores <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LinkedHashMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        scores<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;\u8BED\u6587&quot;</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        scores<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;\u82F1\u6587&quot;</span><span class="token punctuation">,</span> <span class="token number">82</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        scores<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;\u6570\u5B66&quot;</span><span class="token punctuation">,</span> <span class="token number">76</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u904D\u5386scores\u91CC\u7684\u6240\u6709key-value\u5BF9</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Object</span> key <span class="token operator">:</span> scores<span class="token punctuation">.</span><span class="token function">keySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>key <span class="token operator">+</span> <span class="token string">&quot;------&gt;&quot;</span> <span class="token operator">+</span> scores<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u4F7F\u7528-properties-\u8BFB\u5199\u5C5E\u6027\u6587\u4EF6" tabindex="-1"><a class="header-anchor" href="#\u4F7F\u7528-properties-\u8BFB\u5199\u5C5E\u6027\u6587\u4EF6" aria-hidden="true">#</a> \u4F7F\u7528 Properties \u8BFB\u5199\u5C5E\u6027\u6587\u4EF6</h3><p>Properties \u7C7B\u662F Hashtable \u7C7B\u7684\u5B50\u7C7B\uFF0C\u6B63\u5982\u5B83\u7684\u540D\u5B57\u6240\u6697\u793A\u7684\uFF0C\u8BE5\u5BF9\u8C61\u5728\u5904\u7406\u5C5E\u6027\u6587\u4EF6\u65F6\u7279\u522B\u65B9\u4FBF\uFF08Windows \u64CD\u4F5C\u5E73\u53F0\u4E0A\u7684 ini \u6587\u4EF6\u5C31\u662F\u4E00\u79CD\u5C5E\u6027\u6587\u4EF6\uFF09\u3002Properties \u7C7B\u53EF\u4EE5\u628A Map \u5BF9\u8C61\u548C\u5C5E\u6027\u6587\u4EF6\u5173\u8054\u8D77\u6765\uFF0C\u4ECE\u800C\u53EF\u4EE5\u628A Map \u5BF9\u8C61\u4E2D\u7684 key-value \u5BF9\u5199\u5165\u5C5E\u6027\u6587\u4EF6\u4E2D\uFF0C\u4E5F\u53EF\u4EE5\u628A\u5C5E\u6027\u6587\u4EF6\u4E2D\u7684\u201C\u5C5E\u6027\u540D=\u5C5E\u6027\u503C\u201D\u52A0\u8F7D\u5230 Map \u5BF9\u8C61\u4E2D\u3002\u7531\u4E8E\u5C5E\u6027\u6587\u4EF6\u91CC\u7684\u5C5E\u6027\u540D\u3001\u5C5E\u6027\u503C\u53EA\u80FD\u662F\u5B57\u7B26\u4E32\u7C7B\u578B\uFF0C\u6240\u4EE5 Properties \u91CC\u7684 key\u3001value \u90FD\u662F\u5B57\u7B26\u4E32\u7C7B\u578B\u3002\u8BE5\u7C7B\u63D0\u4F9B\u4E86\u5982\u4E0B\u4E09\u4E2A\u65B9\u6CD5\u6765\u4FEE\u6539 Properties \u91CC\u7684 key\u3001value \u503C\u3002</p><ol><li><code>String getProperty(String key)</code>\uFF1A\u83B7\u53D6 Properties \u4E2D\u6307\u5B9A\u5C5E\u6027\u540D\u5BF9\u5E94\u7684\u5C5E\u6027\u503C\uFF0C\u7C7B\u4F3C\u4E8E Map \u7684 <code>get(Object key)</code>\u65B9\u6CD5\u3002</li><li><code>String getProperty(String key, String defaultValue)</code>\uFF1A\u8BE5\u65B9\u6CD5\u4E0E\u524D\u4E00\u4E2A\u65B9\u6CD5\u57FA\u672C\u76F8\u4F3C\u3002\u8BE5\u65B9\u6CD5\u591A\u4E00\u4E2A\u529F\u80FD\uFF0C\u5982\u679C Properties \u4E2D\u4E0D\u5B58\u5728\u6307\u5B9A\u7684 key \u65F6\uFF0C\u5219\u8BE5\u65B9\u6CD5\u6307\u5B9A\u9ED8\u8BA4\u503C\u3002</li><li><code>Object setProperty(String key, String value)</code>\uFF1A\u8BBE\u7F6E\u5C5E\u6027\u503C\uFF0C\u7C7B\u4F3C\u4E8E Hashtable \u7684 <code>put()</code>\u65B9\u6CD5\u3002</li></ol><p>\u9664\u6B64\u4E4B\u5916\uFF0C\u5B83\u8FD8\u63D0\u4F9B\u4E86\u4E24\u4E2A\u8BFB\u5199 Field \u6587\u4EF6\u7684\u65B9\u6CD5\u3002</p><ol><li><code>void load(InputStream inStream)</code>\uFF1A\u4ECE\u5C5E\u6027\u6587\u4EF6\uFF08\u4EE5\u8F93\u5165\u6D41\u8868\u793A\uFF09\u4E2D\u52A0\u8F7D key-value \u5BF9\uFF0C\u628A\u52A0\u8F7D\u5230\u7684 key-value \u5BF9\u8FFD\u52A0\u5230 Properties \u91CC\uFF08Properties \u662F Hashtable \u7684\u5B50\u7C7B\uFF0C\u5B83\u4E0D\u4FDD\u8BC1 key-value \u5BF9\u4E4B\u95F4\u7684\u6B21\u5E8F\uFF09\u3002</li><li><code>void store(OutputStream out, String comments)</code>\uFF1A\u5C06 Properties \u4E2D\u7684 key-value \u5BF9\u8F93\u51FA\u5230\u6307\u5B9A\u7684\u5C5E\u6027\u6587\u4EF6\uFF08\u4EE5\u8F93\u51FA\u6D41\u8868\u793A\uFF09\u4E2D\u3002</li></ol><div class="custom-container tip"><p class="custom-container-title">\u63D0\u793A</p><p>\u4E0A\u9762\u4E24\u4E2A\u65B9\u6CD5\u4E2D\u4F7F\u7528\u4E86 InputStream \u7C7B\u548C OutputStream \u7C7B\uFF0C\u5B83\u4EEC\u662F Java IO \u4F53\u7CFB\u4E2D\u7684\u4E24\u4E2A\u57FA\u7C7B\u3002</p></div><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PropertiesTest</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
        <span class="token class-name">Properties</span> props <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Properties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//\u5411Properties\u4E2D\u6DFB\u52A0\u5C5E\u6027</span>
        props<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;yeeku&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        props<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">&quot;password&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;123456&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u2460 \u5C06Properties\u4E2D\u7684key-value\u5BF9\u4FDD\u5B58\u5230a.ini\u6587\u4EF6\u4E2D</span>
        props<span class="token punctuation">.</span><span class="token function">store</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span><span class="token string">&quot;a.ini&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;comment line&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//\u65B0\u5EFA\u4E00\u4E2AProperties\u5BF9\u8C61</span>
        <span class="token class-name">Properties</span> props2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Properties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//\u5411Properties\u4E2D\u6DFB\u52A0\u5C5E\u6027</span>
        props2<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">&quot;gender&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;male&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u2461\u5C06a.ini\u6587\u4EF6\u4E2D\u7684key-value\u5BF9\u8FFD\u52A0\u5230props2\u4E2D</span>
        props2<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token string">&quot;a.ini&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>props2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/*
 {password=123456, gender=male, username=yeeku}
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4E0A\u9762\u7A0B\u5E8F\u8FD8\u5728\u5F53\u524D\u9879\u76EE\u8DEF\u5F84\u4E0B\u751F\u6210\u4E86\u4E00\u4E2A a.ini \u6587\u4EF6\uFF0C\u8BE5\u6587\u4EF6\u7684\u5185\u5BB9\u5982\u4E0B\uFF1A</p><div class="language-ini ext-ini line-numbers-mode"><pre class="language-ini"><code><span class="token comment">#comment line</span>
<span class="token comment">#Thu Aug 11 14:51:58 CST 2022</span>
<span class="token key attr-name">password</span><span class="token punctuation">=</span><span class="token value attr-value">123456</span>
<span class="token key attr-name">username</span><span class="token punctuation">=</span><span class="token value attr-value">yeeku</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="sortedmap-\u63A5\u53E3\u548C-treemap-\u5B9E\u73B0\u7C7B" tabindex="-1"><a class="header-anchor" href="#sortedmap-\u63A5\u53E3\u548C-treemap-\u5B9E\u73B0\u7C7B" aria-hidden="true">#</a> SortedMap \u63A5\u53E3\u548C TreeMap \u5B9E\u73B0\u7C7B</h3><p>\u6B63\u5982 Set \u63A5\u53E3\u6D3E\u751F\u51FA SortedSet \u5B50\u63A5\u53E3\uFF0CSortedSet \u63A5\u53E3\u6709\u4E00\u4E2A TreeSet \u5B9E\u73B0\u7C7B\u4E00\u6837\uFF0CMap \u63A5\u53E3\u4E5F\u6D3E\u751F\u51FA\u4E00\u4E2A SortedMap \u5B50\u63A5\u53E3\uFF0CSortedMap \u63A5\u53E3\u4E5F\u6709\u4E00\u4E2A TreeMap \u5B9E\u73B0\u7C7B\u3002</p><p>TreeMap \u5C31\u662F\u4E00\u4E2A\u7EA2\u9ED1\u6811\u6570\u636E\u7ED3\u6784\uFF0C\u6BCF\u4E2A key-value \u5BF9\u5373\u4F5C\u4E3A\u7EA2\u9ED1\u6811\u7684\u4E00\u4E2A\u8282\u70B9\u3002TreeMap \u5B58\u50A8 key-value \u5BF9\uFF08\u8282\u70B9\uFF09\u65F6\uFF0C\u9700\u8981\u6839\u636E key \u5BF9\u8282\u70B9\u8FDB\u884C\u6392\u5E8F\u3002TreeMap \u53EF\u4EE5\u4FDD\u8BC1\u6240\u6709\u7684 key-value \u5BF9\u5904\u4E8E\u6709\u5E8F\u72B6\u6001\u3002TreeMap \u4E5F\u6709\u4E24\u79CD\u6392\u5E8F\u65B9\u5F0F\u3002</p><ol><li>\u81EA\u7136\u6392\u5E8F\uFF1ATreeMap \u7684\u6240\u6709 key \u5FC5\u987B\u5B9E\u73B0 Comparable \u63A5\u53E3\uFF0C\u800C\u4E14\u6240\u6709\u7684 key \u5E94\u8BE5\u662F\u540C\u4E00\u4E2A\u7C7B\u7684\u5BF9\u8C61\uFF0C\u5426\u5219\u5C06\u4F1A\u629B\u51FA <code>ClassCastException</code> \u5F02\u5E38\u3002</li><li>\u5B9A\u5236\u6392\u5E8F\uFF1A\u521B\u5EFA TreeMap \u65F6\uFF0C\u4F20\u5165\u4E00\u4E2A Comparator \u5BF9\u8C61\uFF0C\u8BE5\u5BF9\u8C61\u8D1F\u8D23\u5BF9 TreeMap \u4E2D\u7684\u6240\u6709 key \u8FDB\u884C\u6392\u5E8F\u3002\u91C7\u7528\u5B9A\u5236\u6392\u5E8F\u65F6\u4E0D\u8981\u6C42 Map \u7684 key \u5B9E\u73B0 Comparable \u63A5\u53E3\u3002</li></ol><p>\u7C7B\u4F3C\u4E8E TreeSet \u4E2D\u5224\u65AD\u4E24\u4E2A\u5143\u7D20\u76F8\u7B49\u7684\u6807\u51C6\uFF0CTreeMap \u4E2D\u5224\u65AD\u4E24\u4E2A key \u76F8\u7B49\u7684\u6807\u51C6\u662F\uFF1A\u4E24\u4E2A key \u901A\u8FC7 <code>compareTo()</code>\u65B9\u6CD5\u8FD4\u56DE 0\uFF0CTreeMap \u5373\u8BA4\u4E3A\u8FD9\u4E24\u4E2A key \u662F\u76F8\u7B49\u7684\u3002</p><p>\u5982\u679C\u4F7F\u7528\u81EA\u5B9A\u4E49\u7C7B\u4F5C\u4E3A TreeMap \u7684 key\uFF0C\u4E14\u60F3\u8BA9 TreeMap \u826F\u597D\u5730\u5DE5\u4F5C\uFF0C\u5219\u91CD\u5199\u8BE5\u7C7B\u7684 <code>equals()</code>\u65B9\u6CD5\u548C <code>compareTo()</code>\u65B9\u6CD5\u65F6\u5E94\u4FDD\u6301\u4E00\u81F4\u7684\u8FD4\u56DE\u7ED3\u679C\uFF1A\u4E24\u4E2A key \u901A\u8FC7 <code>equals()</code>\u65B9\u6CD5\u6BD4\u8F83\u8FD4\u56DE true \u65F6\uFF0C\u5B83\u4EEC\u901A\u8FC7 <code>compareTo()</code>\u65B9\u6CD5\u6BD4\u8F83\u5E94\u8BE5\u8FD4\u56DE 0\u3002\u5982\u679C <code>equals()</code>\u65B9\u6CD5\u4E0E <code>compareTo()</code>\u65B9\u6CD5\u7684\u8FD4\u56DE\u7ED3\u679C\u4E0D\u4E00\u81F4\uFF0C TreeMap \u4E0E Map \u63A5\u53E3\u7684\u89C4\u5219\u5C31\u4F1A\u51B2\u7A81\u3002</p><div class="custom-container tip"><p class="custom-container-title">\u63D0\u793A</p><p>Set \u548C Map \u7684\u5173\u7CFB\u5341\u5206\u5BC6\u5207\uFF0CJava \u6E90\u7801\u5C31\u662F\u5148\u5B9E\u73B0\u4E86 HashMap\u3001TreeMap \u7B49\u96C6\u5408\uFF0C\u7136\u540E\u901A\u8FC7\u5305\u88C5\u4E00\u4E2A\u6240\u6709\u7684 value \u90FD\u4E3A null \u7684 Map \u96C6\u5408\u5B9E\u73B0\u4E86 Set \u96C6\u5408\u7C7B\u3002</p></div><p>\u4E0E TreeSet \u7C7B\u4F3C\u7684\u662F\uFF0CTreeMap \u4E2D\u4E5F\u63D0\u4F9B\u4E86\u4E00\u7CFB\u5217\u6839\u636E key \u987A\u5E8F\u8BBF\u95EE key-value \u5BF9\u7684\u65B9\u6CD5\u3002</p><ol><li><code>Map.Entry firstEntry()</code>\uFF1A\u8FD4\u56DE\u8BE5 Map \u4E2D\u6700\u5C0F key \u6240\u5BF9\u5E94\u7684 key-value \u5BF9\uFF0C\u5982\u679C\u8BE5 Map \u4E3A\u7A7A\uFF0C\u5219\u8FD4\u56DE null\u3002</li><li><code>Object firstKey()</code>\uFF1A\u8FD4\u56DE\u8BE5 Map \u4E2D\u7684\u6700\u5C0F key \u503C\uFF0C\u5982\u679C\u8BE5 Map \u4E3A\u7A7A\uFF0C\u5219\u8FD4\u56DE null\u3002</li><li><code>Map.Entry lastEntry()</code>\uFF1A\u8FD4\u56DE\u8BE5 Map \u4E2D\u6700\u5927 key \u6240\u5BF9\u5E94\u7684 key-value \u5BF9\uFF0C\u5982\u679C\u8BE5 Map \u4E3A\u7A7A\u6216\u4E0D\u5B58\u5728\u8FD9\u6837\u7684 key-value \u5BF9\uFF0C\u5219\u90FD\u8FD4\u56DE null\u3002</li><li><code>Object lastKey()</code>\uFF1A\u8FD4\u56DE\u8BE5 Map \u4E2D\u7684\u6700\u5927 key \u503C\uFF0C\u5982\u679C\u8BE5 Map \u4E3A\u7A7A\u6216\u4E0D\u5B58\u5728\u8FD9\u6837\u7684 key\uFF0C\u5219\u90FD\u8FD4\u56DE null\u3002</li><li><code>Map.Entry higherEntry(Object key)</code>\uFF1A\u8FD4\u56DE\u8BE5 Map \u4E2D\u4F4D\u4E8E key \u540E\u4E00\u4F4D\u7684 key-value \u5BF9\uFF08\u5373\u5927\u4E8E\u6307\u5B9A key \u7684\u6700\u5C0F key \u6240\u5BF9\u5E94\u7684 key-value \u5BF9\uFF09\u3002\u5982\u679C\u8BE5 Map \u4E3A\u7A7A\uFF0C\u5219\u8FD4\u56DE null\u3002</li><li><code>Object higherKey(Object key)</code>\uFF1A\u8FD4\u56DE\u8BE5 Map \u4E2D\u4F4D\u4E8E key \u540E\u4E00\u4F4D\u7684 key \u503C\uFF08\u5373\u5927\u4E8E\u6307\u5B9A key \u7684\u6700\u5C0F key \u503C\uFF09\u3002\u5982\u679C\u8BE5 Map \u4E3A\u7A7A\u6216\u4E0D\u5B58\u5728\u8FD9\u6837\u7684 key-value \u5BF9\uFF0C\u5219\u90FD\u8FD4\u56DE null\u3002</li><li><code>Map.Entry lowerEntry(Object key)</code>\uFF1A\u8FD4\u56DE\u8BE5 Map \u4E2D\u4F4D\u4E8E key \u524D\u4E00\u4F4D\u7684 key-value \u5BF9\uFF08\u5373\u5C0F\u4E8E\u6307\u5B9A key \u7684\u6700\u5927 key \u6240\u5BF9\u5E94\u7684 key-value \u5BF9\uFF09\u3002\u5982\u679C\u8BE5 Map \u4E3A\u7A7A\u6216\u4E0D\u5B58\u5728\u8FD9\u6837\u7684 key-value \u5BF9\uFF0C\u5219\u90FD\u8FD4\u56DE null\u3002</li><li><code>Object lowerKey(Object key)</code>\uFF1A\u8FD4\u56DE\u8BE5 Map \u4E2D\u4F4D\u4E8E key \u524D\u4E00\u4F4D\u7684 key \u503C\uFF08\u5373\u5C0F\u4E8E\u6307\u5B9A key \u7684\u6700\u5927 key \u503C\uFF09\u3002\u5982\u679C\u8BE5 Map \u4E3A\u7A7A\u6216\u4E0D\u5B58\u5728\u8FD9\u6837\u7684 key\uFF0C\u5219\u90FD\u8FD4\u56DE null\u3002</li><li><code>NavigableMap subMap(Object fromKey, boolean fromInclusive, Object toKey, boolean toInclusive)</code>\uFF1A\u8FD4\u56DE\u8BE5 Map \u7684\u5B50 Map\uFF0C\u5176 key \u7684\u8303\u56F4\u662F\u4ECE fromKey\uFF08\u662F\u5426\u5305\u62EC\u53D6\u51B3\u4E8E\u7B2C\u4E8C\u4E2A\u53C2\u6570\uFF09\u5230 toKey\uFF08\u662F\u5426\u5305\u62EC\u53D6\u51B3\u4E8E\u7B2C\u56DB\u4E2A\u53C2\u6570\uFF09\u3002</li><li><code>SortedMap subMap(Object fromKey, Object toKey)</code>\uFF1A\u8FD4\u56DE\u8BE5 Map \u7684\u5B50 Map\uFF0C\u5176 key \u7684\u8303\u56F4\u662F\u4ECE fromKey\uFF08\u5305\u62EC\uFF09\u5230 toKey\uFF08\u4E0D\u5305\u62EC\uFF09\u3002</li><li><code>SortedMap tailMap(Object fromKey)</code>\uFF1A\u8FD4\u56DE\u8BE5 Map \u7684\u5B50 Map\uFF0C\u5176 key \u7684\u8303\u56F4\u662F\u5927\u4E8E fromKey\uFF08\u5305\u62EC\uFF09\u7684\u6240\u6709 key\u3002</li><li><code>NavigableMap tailMap(Object fromKey, boolean inclusive)</code>\uFF1A\u8FD4\u56DE\u8BE5 Map \u7684\u5B50 Map\uFF0C\u5176 key \u7684\u8303\u56F4\u662F\u5927\u4E8E fromKey\uFF08\u662F\u5426\u5305\u62EC\u53D6\u51B3\u4E8E\u7B2C\u4E8C\u4E2A\u53C2\u6570\uFF09\u7684\u6240\u6709 key\u3002</li><li><code>SortedMap headMap(Object toKey)</code>\uFF1A\u8FD4\u56DE\u8BE5 Map \u7684\u5B50 Map\uFF0C\u5176 key \u7684\u8303\u56F4\u662F\u5C0F\u4E8E toKey\uFF08\u4E0D\u5305\u62EC\uFF09\u7684\u6240\u6709 key\u3002</li><li><code>NavigableMap headMap(Object toKey, boolean inclusive)</code>\uFF1A\u8FD4\u56DE\u8BE5 Map \u7684\u5B50 Map\uFF0C\u5176 key \u7684\u8303\u56F4\u662F\u5C0F\u4E8E toKey\uFF08\u662F\u5426\u5305\u62EC\u53D6\u51B3\u4E8E\u7B2C\u4E8C\u4E2A\u53C2\u6570\uFF09\u7684\u6240\u6709 key\u3002</li></ol><p>\u4EE5\u81EA\u7136\u6392\u5E8F\u4E3A\u4F8B\uFF0C\u4ECB\u7ECD TreeMap \u7684\u57FA\u672C\u7528\u6CD5\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">R3</span> <span class="token keyword">implements</span> <span class="token class-name">Comparable</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> count<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token function">R3</span><span class="token punctuation">(</span><span class="token keyword">int</span> count<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>count <span class="token operator">=</span> count<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;R[count:&quot;</span> <span class="token operator">+</span> count <span class="token operator">+</span> <span class="token string">&quot;]&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// \u6839\u636Ecount\u6765\u5224\u65AD\u4E24\u4E2A\u5BF9\u8C61\u662F\u5426\u76F8\u7B49</span>
    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">equals</span><span class="token punctuation">(</span><span class="token class-name">Object</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token operator">==</span> obj<span class="token punctuation">)</span>
            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>obj <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> obj<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token constant">R3</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">R3</span> r3 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token constant">R3</span><span class="token punctuation">)</span>obj<span class="token punctuation">;</span>
            <span class="token keyword">return</span> r3<span class="token punctuation">.</span>count <span class="token operator">==</span> <span class="token keyword">this</span><span class="token punctuation">.</span>count<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// \u6839\u636Ecount\u5C5E\u6027\u503C\u6765\u5224\u65AD\u4E24\u4E2A\u5BF9\u8C61\u7684\u5927\u5C0F</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">compareTo</span><span class="token punctuation">(</span><span class="token class-name">Object</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">R3</span> r3 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token constant">R3</span><span class="token punctuation">)</span>obj<span class="token punctuation">;</span>
        <span class="token keyword">return</span> count <span class="token operator">&gt;</span> r3<span class="token punctuation">.</span>count <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> count <span class="token operator">&lt;</span> r3<span class="token punctuation">.</span>count <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">?</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TreeMapTest</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">TreeMap</span> tm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TreeMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        tm<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">R3</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;\u8F7B\u91CF\u7EA7Java EE\u4F01\u4E1A\u5E94\u7528\u5B9E\u6218&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        tm<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">R3</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;\u75AF\u72C2Java\u8BB2\u4E49&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        tm<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">R3</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;\u75AF\u72C2Android\u8BB2\u4E49&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>tm<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u8FD4\u56DE\u8BE5TreeMap\u7684\u7B2C\u4E00\u4E2AEntry\u5BF9\u8C61</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>tm<span class="token punctuation">.</span><span class="token function">firstEntry</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u8FD4\u56DE\u8BE5TreeMap\u7684\u6700\u540E\u4E00\u4E2Akey\u503C</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>tm<span class="token punctuation">.</span><span class="token function">lastKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u8FD4\u56DE\u8BE5TreeMap\u7684\u6BD4new R(2)\u5927\u7684\u6700\u5C0Fkey\u503C</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>tm<span class="token punctuation">.</span><span class="token function">higherKey</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">R3</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u8FD4\u56DE\u8BE5TreeMap\u7684\u6BD4new R(2)\u5C0F\u7684\u6700\u5927\u7684key-value\u5BF9</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>tm<span class="token punctuation">.</span><span class="token function">lowerEntry</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">R3</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u8FD4\u56DE\u8BE5TreeMap\u7684\u5B50TreeMap</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>tm<span class="token punctuation">.</span><span class="token function">subMap</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">R3</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">R3</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/*
    {R[count:-5]=\u75AF\u72C2Java\u8BB2\u4E49, R[count:3]=\u8F7B\u91CF\u7EA7Java EE\u4F01\u4E1A\u5E94\u7528\u5B9E\u6218, R[count:9]=\u75AF\u72C2Android\u8BB2\u4E49}
    R[count:-5]=\u75AF\u72C2Java\u8BB2\u4E49
    R[count:9]
    R[count:9]
    R[count:-5]=\u75AF\u72C2Java\u8BB2\u4E49
    {}
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="weakhashmap-\u5B9E\u73B0\u7C7B" tabindex="-1"><a class="header-anchor" href="#weakhashmap-\u5B9E\u73B0\u7C7B" aria-hidden="true">#</a> WeakHashMap \u5B9E\u73B0\u7C7B</h3><p>WeakHashMap \u4E0E HashMap \u7684\u7528\u6CD5\u57FA\u672C\u76F8\u4F3C\u3002\u4E0E HashMap \u7684\u533A\u522B\u5728\u4E8E\uFF0CHashMap \u7684 key \u4FDD\u7559\u4E86\u5BF9\u5B9E\u9645\u5BF9\u8C61\u7684\u5F3A\u5F15\u7528\uFF0C\u8FD9\u610F\u5473\u7740\u53EA\u8981\u8BE5 HashMap \u5BF9\u8C61\u4E0D\u88AB\u9500\u6BC1\uFF0C\u8BE5 HashMap \u7684\u6240\u6709 key \u6240\u5F15\u7528\u7684\u5BF9\u8C61\u5C31\u4E0D\u4F1A\u88AB\u5783\u573E\u56DE\u6536\uFF0CHashMap \u4E5F\u4E0D\u4F1A\u81EA\u52A8\u5220\u9664\u8FD9\u4E9B key \u6240\u5BF9\u5E94\u7684 key-value \u5BF9\uFF1B\u4F46 WeakHashMap \u7684 key \u53EA\u4FDD\u7559\u4E86\u5BF9\u5B9E\u9645\u5BF9\u8C61\u7684\u5F31\u5F15\u7528\uFF0C\u8FD9\u610F\u5473\u7740\u5982\u679C WeakHashMap \u5BF9\u8C61\u7684 key \u6240\u5F15\u7528\u7684\u5BF9\u8C61\u6CA1\u6709\u88AB\u5176\u4ED6\u5F3A\u5F15\u7528\u53D8\u91CF\u6240\u5F15\u7528\uFF0C\u5219\u8FD9\u4E9B key \u6240\u5F15\u7528\u7684\u5BF9\u8C61\u53EF\u80FD\u88AB\u5783\u573E\u56DE\u6536\uFF0CWeakHashMap \u4E5F\u53EF\u80FD\u81EA\u52A8\u5220\u9664\u8FD9\u4E9B key \u6240\u5BF9\u5E94\u7684 key-value \u5BF9\u3002</p><p>WeakHashMap \u4E2D\u7684\u6BCF\u4E2A key \u5BF9\u8C61\u53EA\u6301\u6709\u5BF9\u5B9E\u9645\u5BF9\u8C61\u7684\u5F31\u5F15\u7528\uFF0C\u56E0\u6B64\uFF0C\u5F53\u5783\u573E\u56DE\u6536\u4E86\u8BE5 key \u6240\u5BF9\u5E94\u7684\u5B9E\u9645\u5BF9\u8C61\u4E4B\u540E\uFF0CWeakHashMap \u4F1A\u81EA\u52A8\u5220\u9664\u8BE5 key \u5BF9\u5E94\u7684 key-value \u5BF9\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">WeakHashMapTest</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">WeakHashMap</span> whm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WeakHashMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u5411WeakHashMap\u4E2D\u6DFB\u52A0\u4E09\u4E2Akey-value\u5BF9</span>
        <span class="token comment">// \u4E09\u4E2Akey\u90FD\u662F\u533F\u540D\u5B57\u7B26\u4E32\u5BF9\u8C61\uFF08\u6CA1\u6709\u5176\u4ED6\u5F15\u7528\uFF09</span>
        whm<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">&quot;\u8BED\u6587&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">&quot;\u826F\u597D&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        whm<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">&quot;\u6570\u5B66&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">&quot;\u53CA\u683C&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        whm<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">&quot;\u82F1\u6587&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">&quot;\u4E2D\u7B49&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u5411WeakHashMap\u4E2D\u6DFB\u52A0\u4E00\u4E2Akey-value\u5BF9</span>
        <span class="token comment">// \u2460\u8BE5key\u662F\u4E00\u4E2A\u7CFB\u7EDF\u7F13\u5B58\u7684\u5B57\u7B26\u4E32\u5BF9\u8C61</span>
        whm<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;java&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">&quot;\u4E2D\u7B49&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u8F93\u51FAwhm\u5BF9\u8C61\uFF0C\u5C06\u770B\u52304\u4E2Akey-value\u5BF9</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>whm<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u901A\u77E5\u7CFB\u7EDF\u7ACB\u5373\u8FDB\u884C\u5783\u573E\u56DE\u6536</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">gc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">runFinalization</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u5728\u901A\u5E38\u60C5\u51B5\u4E0B\uFF0C\u5C06\u53EA\u770B\u5230\u4E00\u4E2Akey-value\u5BF9</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>whm<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/*
    {\u82F1\u6587=\u4E2D\u7B49, java=\u4E2D\u7B49, \u6570\u5B66=\u53CA\u683C, \u8BED\u6587=\u826F\u597D}
    {java=\u4E2D\u7B49}
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5F53\u7CFB\u7EDF\u8FDB\u884C\u5783\u573E\u56DE\u6536\u65F6\uFF0C\u5220\u9664\u4E86 WeakHashMap \u5BF9\u8C61\u7684\u524D\u4E09\u4E2A key-value \u5BF9\u3002\u8FD9\u662F\u56E0\u4E3A\u6DFB\u52A0\u524D\u4E09\u4E2A key-value \u5BF9\u65F6\uFF0C\u8FD9\u4E09\u4E2A key \u90FD\u662F\u533F\u540D\u7684\u5B57\u7B26\u4E32\u5BF9\u8C61\uFF0C WeakHashMap \u53EA\u4FDD\u7559\u4E86\u5BF9\u5B83\u4EEC\u7684\u5F31\u5F15\u7528\uFF0C\u8FD9\u6837\u5783\u573E\u56DE\u6536\u65F6\u4F1A\u81EA\u52A8\u5220\u9664\u8FD9\u4E09\u4E2A key-value \u5BF9\u3002</p><p>WeakHashMap \u5BF9\u8C61\u4E2D\u7B2C 4 \u4E2A\u7EC4 key-value \u5BF9\u7684 key \u662F\u4E00\u4E2A\u5B57\u7B26\u4E32\u76F4\u63A5\u91CF\uFF0C\uFF08\u7CFB\u7EDF\u4F1A\u81EA\u52A8\u4FDD\u7559\u5BF9\u8BE5\u5B57\u7B26\u4E32\u5BF9\u8C61\u7684\u5F3A\u5F15\u7528\uFF09\uFF0C\u6240\u4EE5\u5783\u573E\u56DE\u6536\u65F6\u4E0D\u4F1A\u56DE\u6536\u5B83\u3002</p><div class="custom-container tip"><p class="custom-container-title">\u63D0\u793A</p><p>\u5982\u679C\u9700\u8981\u4F7F\u7528 WeakHashMap \u7684 key \u6765\u4FDD\u7559\u5BF9\u8C61\u7684\u5F31\u5F15\u7528\uFF0C\u5219\u4E0D\u8981\u8BA9\u8BE5 key \u6240\u5F15\u7528\u7684\u5BF9\u8C61\u5177\u6709\u4EFB\u4F55\u5F3A\u5F15\u7528\uFF0C\u5426\u5219\u5C06\u5931\u53BB\u4F7F\u7528 WeakHashMap \u7684\u610F\u4E49\u3002</p></div><h3 id="identityhashmap-\u5B9E\u73B0\u7C7B" tabindex="-1"><a class="header-anchor" href="#identityhashmap-\u5B9E\u73B0\u7C7B" aria-hidden="true">#</a> IdentityHashMap \u5B9E\u73B0\u7C7B</h3><p>\u8FD9\u4E2A Map \u5B9E\u73B0\u7C7B\u7684\u5B9E\u73B0\u673A\u5236\u4E0E HashMap \u57FA\u672C\u76F8\u4F3C\uFF0C\u4F46\u5B83\u5728\u5904\u7406\u4E24\u4E2A key \u76F8\u7B49\u65F6\u6BD4\u8F83\u72EC\u7279\uFF1A\u5728 IdentityHashMap \u4E2D\uFF0C\u5F53\u4E14\u4EC5\u5F53\u4E24\u4E2A key \u4E25\u683C\u76F8\u7B49\uFF08key1==key2\uFF09\u65F6\uFF0CIdentityHashMap \u624D\u8BA4\u4E3A\u4E24\u4E2A key \u76F8\u7B49\uFF1B\u5BF9\u4E8E\u666E\u901A\u7684 HashMap \u800C\u8A00\uFF0C\u53EA\u8981 key1 \u548C key2 \u901A\u8FC7 <code>equals()</code>\u65B9\u6CD5\u6BD4\u8F83\u8FD4\u56DE true\uFF0C\u4E14\u5B83\u4EEC\u7684 hashCode \u503C\u76F8\u7B49\u5373\u53EF\u3002</p><div class="custom-container tip"><p class="custom-container-title">\u63D0\u793A</p><p>IdentityHashMap \u662F\u4E00\u4E2A\u7279\u6B8A\u7684 Map \u5B9E\u73B0\uFF01\u6B64\u7C7B\u5B9E\u73B0 Map \u63A5\u53E3\u65F6\uFF0C\u5B83\u6709\u610F\u8FDD\u53CD Map \u7684\u901A\u5E38\u89C4\u8303\uFF1AIdentityHashMap \u8981\u6C42\u4E24\u4E2A key \u4E25\u683C\u76F8\u7B49\u65F6\u624D\u8BA4\u4E3A\u4E24\u4E2A key \u76F8\u7B49\u3002</p></div><p>IdentityHashMap \u63D0\u4F9B\u4E86\u4E0E HashMap \u57FA\u672C\u76F8\u4F3C\u7684\u65B9\u6CD5\uFF0C\u4E5F\u5141\u8BB8\u4F7F\u7528 null \u4F5C\u4E3A key \u548C value\u3002\u4E0E HashMap \u76F8\u4F3C\uFF1AIdentityHashMap \u4E5F\u4E0D\u4FDD\u8BC1 key-value \u5BF9\u4E4B\u95F4\u7684\u987A\u5E8F\uFF0C\u66F4\u4E0D\u80FD\u4FDD\u8BC1\u5B83\u4EEC\u7684\u987A\u5E8F\u968F\u65F6\u95F4\u7684\u63A8\u79FB\u4FDD\u6301\u4E0D\u53D8\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">IdentityHashMapTest</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">IdentityHashMap</span> ihm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">IdentityHashMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u4E0B\u9762\u4E24\u884C\u4EE3\u7801\u5C06\u4F1A\u5411IdentityHashMap\u5BF9\u8C61\u4E2D\u6DFB\u52A0\u4E24\u4E2Akey-value\u5BF9</span>
        ihm<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">&quot;\u8BED\u6587&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">89</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ihm<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">&quot;\u8BED\u6587&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">78</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u4E0B\u9762\u4E24\u884C\u4EE3\u7801\u53EA\u4F1A\u5411IdentityHashMap\u5BF9\u8C61\u4E2D\u6DFB\u52A0\u4E00\u4E2Akey-value\u5BF9</span>
        ihm<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;java&quot;</span><span class="token punctuation">,</span> <span class="token number">93</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ihm<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;java&quot;</span><span class="token punctuation">,</span> <span class="token number">98</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>ihm<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/*
    {java=98, \u8BED\u6587=89, \u8BED\u6587=78}
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="enummap-\u5B9E\u73B0\u7C7B" tabindex="-1"><a class="header-anchor" href="#enummap-\u5B9E\u73B0\u7C7B" aria-hidden="true">#</a> EnumMap \u5B9E\u73B0\u7C7B</h3><p>EnumMap \u662F\u4E00\u4E2A\u4E0E\u679A\u4E3E\u7C7B\u4E00\u8D77\u4F7F\u7528\u7684 Map \u5B9E\u73B0\uFF0CEnumMap \u4E2D\u7684\u6240\u6709 key \u90FD\u5FC5\u987B\u662F\u5355\u4E2A\u679A\u4E3E\u7C7B\u7684\u679A\u4E3E\u503C\u3002\u521B\u5EFA EnumMap \u65F6\u5FC5\u987B\u663E\u5F0F\u6216\u9690\u5F0F\u6307\u5B9A\u5B83\u5BF9\u5E94\u7684\u679A\u4E3E\u7C7B\u3002</p><p>EnumMap \u5728\u5185\u90E8\u4EE5\u6570\u7EC4\u5F62\u5F0F\u4FDD\u5B58\uFF0C\u6240\u4EE5\u8FD9\u79CD\u5B9E\u73B0\u5F62\u5F0F\u975E\u5E38\u7D27\u51D1\u3001\u9AD8\u6548\u3002</p><p>EnumMap \u6839\u636E key \u7684\u81EA\u7136\u987A\u5E8F\uFF08\u5373\u679A\u4E3E\u503C\u5728\u679A\u4E3E\u7C7B\u4E2D\u7684\u5B9A\u4E49\u987A\u5E8F\uFF09\u6765\u7EF4\u62A4 key-value \u5BF9\u7684\u987A\u5E8F\u3002\u5F53\u7A0B\u5E8F\u901A\u8FC7 <code>keySet()</code>\u3001<code>entrySet()</code>\u3001<code>values()</code>\u7B49\u65B9\u6CD5\u904D\u5386 EnumMap \u65F6\u53EF\u4EE5\u770B\u5230\u8FD9\u79CD\u987A\u5E8F\u3002</p><p>EnumMap \u4E0D\u5141\u8BB8\u4F7F\u7528 null \u4F5C\u4E3A key\uFF0C\u4F46\u5141\u8BB8\u4F7F\u7528 null \u4F5C\u4E3A value\u3002\u5982\u679C\u8BD5\u56FE\u4F7F\u7528 null \u4F5C\u4E3A key \u65F6\u5C06\u629B\u51FA NullPointerException \u5F02\u5E38\u3002\u5982\u679C\u53EA\u662F\u67E5\u8BE2\u662F\u5426\u5305\u542B\u503C\u4E3A null \u7684 key\uFF0C\u6216\u53EA\u662F\u5220\u9664\u503C\u4E3A null \u7684 key\uFF0C\u90FD\u4E0D\u4F1A\u629B\u51FA\u5F02\u5E38\u3002</p><p>\u4E0E\u521B\u5EFA\u666E\u901A\u7684 Map \u6709\u6240\u533A\u522B\u7684\u662F\uFF0C\u521B\u5EFA EnumMap \u65F6\u5FC5\u987B\u6307\u5B9A\u4E00\u4E2A\u679A\u4E3E\u7C7B\uFF0C\u4ECE\u800C\u5C06\u8BE5 EnumMap \u548C\u6307\u5B9A\u679A\u4E3E\u7C7B\u5173\u8054\u8D77\u6765\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">enum</span> <span class="token class-name">Season1</span> <span class="token punctuation">{</span>
    <span class="token constant">SPRING</span><span class="token punctuation">,</span> <span class="token constant">SUMMER</span><span class="token punctuation">,</span> <span class="token constant">FALL</span><span class="token punctuation">,</span> <span class="token constant">WINTER</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">EnumMapTest</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// \u521B\u5EFA\u4E00\u4E2AEnumMap\u5BF9\u8C61\uFF0C\u8BE5EnumMap\u7684\u6240\u6709key</span>
        <span class="token comment">// \u5FC5\u987B\u662FSeason\u679A\u4E3E\u7C7B\u7684\u679A\u4E3E\u503C</span>
        <span class="token class-name">EnumMap</span> enumMap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">EnumMap</span><span class="token punctuation">(</span><span class="token class-name">Season1</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        enumMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token class-name">Season1</span><span class="token punctuation">.</span><span class="token constant">SUMMER</span><span class="token punctuation">,</span> <span class="token string">&quot;\u590F\u65E5\u708E\u708E&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        enumMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token class-name">Season1</span><span class="token punctuation">.</span><span class="token constant">SPRING</span><span class="token punctuation">,</span> <span class="token string">&quot;\u6625\u6696\u82B1\u5F00&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>enumMap<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/*
 {SPRING=\u6625\u6696\u82B1\u5F00, SUMMER=\u590F\u65E5\u708E\u708E}
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u5404-map-\u5B9E\u73B0\u7C7B\u7684\u6027\u80FD\u5206\u6790" tabindex="-1"><a class="header-anchor" href="#\u5404-map-\u5B9E\u73B0\u7C7B\u7684\u6027\u80FD\u5206\u6790" aria-hidden="true">#</a> \u5404 Map \u5B9E\u73B0\u7C7B\u7684\u6027\u80FD\u5206\u6790</h3><p>\u5BF9\u4E8E Map \u7684\u5E38\u7528\u5B9E\u73B0\u7C7B\u800C\u8A00\uFF0CHashMap \u548C Hashtable \u7684\u6548\u7387\u5927\u81F4\u76F8\u540C\uFF0C\u56E0\u4E3A\u5B83\u4EEC\u7684\u5B9E\u73B0\u673A\u5236\u51E0\u4E4E\u5B8C\u5168\u4E00\u6837\uFF1B\u4F46 HashMap \u901A\u5E38\u6BD4 Hashtable \u8981\u5FEB\u4E00\u70B9\uFF0C\u56E0\u4E3A Hashtable \u9700\u8981\u989D\u5916\u7684\u7EBF\u7A0B\u540C\u6B65\u63A7\u5236\u3002</p><p>TreeMap \u901A\u5E38\u6BD4 HashMap\u3001Hashtable \u8981\u6162\uFF08\u5C24\u5176\u5728\u63D2\u5165\u3001\u5220\u9664 key-value \u5BF9\u65F6\u66F4\u6162\uFF09\uFF0C\u56E0\u4E3A TreeMap \u5E95\u5C42\u91C7\u7528\u7EA2\u9ED1\u6811\u6765\u7BA1\u7406 key-value \u5BF9\uFF08\u7EA2\u9ED1\u6811\u7684\u6BCF\u4E2A\u8282\u70B9\u5C31\u662F\u4E00\u4E2A key-value \u5BF9\uFF09\u3002</p><p>\u4F7F\u7528 TreeMap \u6709\u4E00\u4E2A\u597D\u5904\uFF1ATreeMap \u4E2D\u7684 key-value \u5BF9\u603B\u662F\u5904\u4E8E\u6709\u5E8F\u72B6\u6001\uFF0C\u65E0\u987B\u4E13\u95E8\u8FDB\u884C\u6392\u5E8F\u64CD\u4F5C\u3002\u5F53 TreeMap \u88AB\u586B\u5145\u4E4B\u540E\uFF0C\u5C31\u53EF\u4EE5\u8C03\u7528 <code>keySet()</code>\uFF0C\u53D6\u5F97\u7531 key \u7EC4\u6210\u7684 Set\uFF0C\u7136\u540E\u4F7F\u7528 <code>toArray()</code>\u65B9\u6CD5\u751F\u6210 key \u7684\u6570\u7EC4\uFF0C\u63A5\u4E0B\u6765\u4F7F\u7528 Arrays \u7684 <code>binarySearch()</code>\u65B9\u6CD5\u5728\u5DF2\u6392\u5E8F\u7684\u6570\u7EC4\u4E2D\u5FEB\u901F\u5730\u67E5\u8BE2\u5BF9\u8C61\u3002</p><p>\u5BF9\u4E8E\u4E00\u822C\u7684\u5E94\u7528\u573A\u666F\uFF0C\u7A0B\u5E8F\u5E94\u8BE5\u591A\u8003\u8651\u4F7F\u7528 HashMap\uFF0C\u56E0\u4E3A HashMap \u6B63\u662F\u4E3A\u5FEB\u901F\u67E5\u8BE2\u8BBE\u8BA1\u7684\uFF08HashMap \u5E95\u5C42\u5176\u5B9E\u4E5F\u662F\u91C7\u7528\u6570\u7EC4\u6765\u5B58\u50A8 key-value \u5BF9\uFF09\u3002\u4F46\u5982\u679C\u7A0B\u5E8F\u9700\u8981\u4E00\u4E2A\u603B\u662F\u6392\u597D\u5E8F\u7684 Map \u65F6\uFF0C\u5219\u53EF\u4EE5\u8003\u8651\u4F7F\u7528 TreeMap\u3002</p><p>LinkedHashMap \u6BD4 HashMap \u6162\u4E00\u70B9\uFF0C\u56E0\u4E3A\u5B83\u9700\u8981\u7EF4\u62A4\u94FE\u8868\u6765\u4FDD\u6301 Map \u4E2D key-value \u65F6\u7684\u6DFB\u52A0\u987A\u5E8F\u3002IdentityHashMap \u6027\u80FD\u6CA1\u6709\u7279\u522B\u51FA\u8272\u4E4B\u5904\uFF0C\u56E0\u4E3A\u5B83\u91C7\u7528\u4E0E HashMap \u57FA\u672C\u76F8\u4F3C\u7684\u5B9E\u73B0\uFF0C\u53EA\u662F\u5B83\u4F7F\u7528==\u800C\u4E0D\u662F <code>equals()</code>\u65B9\u6CD5\u6765\u5224\u65AD\u5143\u7D20\u76F8\u7B49\u3002EnumMap \u7684\u6027\u80FD\u6700\u597D\uFF0C\u4F46\u5B83\u53EA\u80FD\u4F7F\u7528\u540C\u4E00\u4E2A\u679A\u4E3E\u7C7B\u7684\u679A\u4E3E\u503C\u4F5C\u4E3A key\u3002</p><h2 id="hashset-\u548C-hashmap-\u7684\u6027\u80FD\u9009\u9879" tabindex="-1"><a class="header-anchor" href="#hashset-\u548C-hashmap-\u7684\u6027\u80FD\u9009\u9879" aria-hidden="true">#</a> HashSet \u548C HashMap \u7684\u6027\u80FD\u9009\u9879</h2><p>\u5BF9\u4E8E HashSet \u53CA\u5176\u5B50\u7C7B\u800C\u8A00\uFF0C\u5B83\u4EEC\u91C7\u7528 hash \u7B97\u6CD5\u6765\u51B3\u5B9A\u96C6\u5408\u4E2D\u5143\u7D20\u7684\u5B58\u50A8\u4F4D\u7F6E\uFF0C\u5E76\u901A\u8FC7 hash \u7B97\u6CD5\u6765\u63A7\u5236\u96C6\u5408\u7684\u5927\u5C0F\uFF1B\u5BF9\u4E8E HashMap\u3001Hashtable \u53CA\u5176\u5B50\u7C7B\u800C\u8A00\uFF0C\u5B83\u4EEC\u91C7\u7528 hash \u7B97\u6CD5\u6765\u51B3\u5B9A Map \u4E2D key \u7684\u5B58\u50A8\uFF0C\u5E76\u901A\u8FC7 hash \u7B97\u6CD5\u6765\u589E\u52A0 key \u96C6\u5408\u7684\u5927\u5C0F\u3002</p><p>hash \u8868\u91CC\u53EF\u4EE5\u5B58\u50A8\u5143\u7D20\u7684\u4F4D\u7F6E\u88AB\u79F0\u4E3A\u201C\u6876\uFF08bucket\uFF09\u201D\uFF0C\u5728\u901A\u5E38\u60C5\u51B5\u4E0B\uFF0C\u5355\u4E2A\u201C\u6876\u201D\u91CC\u5B58\u50A8\u4E00\u4E2A\u5143\u7D20\uFF0C\u6B64\u65F6\u6709\u6700\u597D\u7684\u6027\u80FD\uFF1Ahash \u7B97\u6CD5\u53EF\u4EE5\u6839\u636E hashCode \u503C\u8BA1\u7B97\u51FA\u201C\u6876\u201D\u7684\u5B58\u50A8\u4F4D\u7F6E\uFF0C\u63A5\u7740\u4ECE\u201C\u6876\u201D\u4E2D\u53D6\u51FA\u5143\u7D20\u3002\u4F46 hash \u8868\u7684\u72B6\u6001\u4E3A open\uFF1A\u5728\u53D1\u751F\u201Chash \u51B2\u7A81\u201D\u7684\u60C5\u51B5\u4E0B\uFF0C\u5355\u4E2A\u6876\u4F1A\u5B58\u50A8\u591A\u4E2A\u5143\u7D20\uFF0C\u8FD9\u4E9B\u5143\u7D20\u4EE5\u94FE\u8868\u5F62\u5F0F\u5B58\u50A8\uFF0C\u5FC5\u987B\u6309\u987A\u5E8F\u641C\u7D22\u3002\u5982\u56FE\u6240\u793A\u662F hash \u8868\u4FDD\u5B58\u5404\u5143\u7D20\uFF0C\u4E14\u53D1\u751F\u201Chash \u51B2\u7A81\u201D\u7684\u793A\u610F\u56FE\u3002</p><p><img src="https://gcore.jsdelivr.net/gh/SurplusFate/guide_img@main/img/202208111527890.jpeg" alt="img"></p><p>\u56E0\u4E3A HashSet \u548C HashMap\u3001Hashtable \u90FD\u4F7F\u7528 hash \u7B97\u6CD5\u6765\u51B3\u5B9A\u5176\u5143\u7D20\uFF08HashMap \u5219\u53EA\u8003\u8651 key\uFF09\u7684\u5B58\u50A8\uFF0C\u56E0\u6B64 HashSet\u3001HashMap \u7684 hash \u8868\u5305\u542B\u5982\u4E0B\u5C5E\u6027\u3002</p><ol><li>\u5BB9\u91CF\uFF08capacity\uFF09\uFF1Ahash \u8868\u4E2D\u6876\u7684\u6570\u91CF\u3002</li><li>\u521D\u59CB\u5316\u5BB9\u91CF\uFF08initial capacity\uFF09\uFF1A\u521B\u5EFA hash \u8868\u65F6\u6876\u7684\u6570\u91CF\u3002HashMap \u548C HashSet \u90FD\u5141\u8BB8\u5728\u6784\u9020\u5668\u4E2D\u6307\u5B9A\u521D\u59CB\u5316\u5BB9\u91CF\u3002</li><li>\u5C3A\u5BF8\uFF08size\uFF09\uFF1A\u5F53\u524D hash \u8868\u4E2D\u8BB0\u5F55\u7684\u6570\u91CF\u3002</li><li>\u8D1F\u8F7D\u56E0\u5B50\uFF08load factor\uFF09\uFF1A\u8D1F\u8F7D\u56E0\u5B50\u7B49\u4E8E\u201Csize/capacity\u201D\u3002\u8D1F\u8F7D\u56E0\u5B50\u4E3A 0\uFF0C\u8868\u793A\u7A7A\u7684 hash \u8868\uFF0C0.5 \u8868\u793A\u534A\u6EE1\u7684\u6563\u5217\u8868\uFF0C\u4F9D\u6B64\u7C7B\u63A8\u3002\u8F7B\u8D1F\u8F7D\u7684\u6563\u5217\u8868\u5177\u6709\u51B2\u7A81\u5C11\u3001\u9002\u5B9C\u63D2\u5165\u4E0E\u67E5\u8BE2\u7684\u7279\u70B9\uFF08\u4F46\u662F\u4F7F\u7528 Iterator \u8FED\u4EE3\u5143\u7D20\u65F6\u6BD4\u8F83\u6162\uFF09\u3002</li></ol><p>\u9664\u6B64\u4E4B\u5916\uFF0Chash \u8868\u91CC\u8FD8\u6709\u4E00\u4E2A\u201C\u8D1F\u8F7D\u6781\u9650\u201D\uFF0C\u201C\u8D1F\u8F7D\u6781\u9650\u201D\u662F\u4E00\u4E2A 0~1 \u7684\u6570\u503C\uFF0C\u201C\u8D1F\u8F7D\u6781\u9650\u201D\u51B3\u5B9A\u4E86 hash \u8868\u7684\u6700\u5927\u586B\u6EE1\u7A0B\u5EA6\u3002\u5F53 hash \u8868\u4E2D\u7684\u8D1F\u8F7D\u56E0\u5B50\u8FBE\u5230\u6307\u5B9A\u7684\u201C\u8D1F\u8F7D\u6781\u9650\u201D\u65F6\uFF0Chash \u8868\u4F1A\u81EA\u52A8\u6210\u500D\u5730\u589E\u52A0\u5BB9\u91CF\uFF08\u6876\u7684\u6570\u91CF\uFF09\uFF0C\u5E76\u5C06\u539F\u6709\u7684\u5BF9\u8C61\u91CD\u65B0\u5206\u914D\uFF0C\u653E\u5165\u65B0\u7684\u6876\u5185\uFF0C\u8FD9\u79F0\u4E3A rehashing\u3002</p><p>HashSet \u548C HashMap\u3001Hashtable \u7684\u6784\u9020\u5668\u5141\u8BB8\u6307\u5B9A\u4E00\u4E2A\u8D1F\u8F7D\u6781\u9650\uFF0CHashSet \u548C HashMap\u3001Hashtable \u9ED8\u8BA4\u7684\u201C\u8D1F\u8F7D\u6781\u9650\u201D\u4E3A 0.75\uFF0C\u8FD9\u8868\u660E\u5F53\u8BE5 hash \u8868\u7684 3/4 \u5DF2\u7ECF\u88AB\u586B\u6EE1\u65F6\uFF0Chash \u8868\u4F1A\u53D1\u751F rehashing\u3002</p><p>\u201C\u8D1F\u8F7D\u6781\u9650\u201D\u7684\u9ED8\u8BA4\u503C\uFF080.75\uFF09\u662F\u65F6\u95F4\u548C\u7A7A\u95F4\u6210\u672C\u4E0A\u7684\u4E00\u79CD\u6298\u4E2D\uFF1A\u8F83\u9AD8\u7684\u201C\u8D1F\u8F7D\u6781\u9650\u201D\u53EF\u4EE5\u964D\u4F4E hash \u8868\u6240\u5360\u7528\u7684\u5185\u5B58\u7A7A\u95F4\uFF0C\u4F46\u4F1A\u589E\u52A0\u67E5\u8BE2\u6570\u636E\u7684\u65F6\u95F4\u5F00\u9500\uFF0C\u800C\u67E5\u8BE2\u662F\u6700\u9891\u7E41\u7684\u64CD\u4F5C\uFF08HashMap \u7684 <code>get()</code>\u4E0E <code>put()</code>\u65B9\u6CD5\u90FD\u8981\u7528\u5230\u67E5\u8BE2\uFF09\uFF1B\u8F83\u4F4E\u7684\u201C\u8D1F\u8F7D\u6781\u9650\u201D\u4F1A\u63D0\u9AD8\u67E5\u8BE2\u6570\u636E\u7684\u6027\u80FD\uFF0C\u4F46\u4F1A\u589E\u52A0 hash \u8868\u6240\u5360\u7528\u7684\u5185\u5B58\u5F00\u9500\u3002\u7A0B\u5E8F\u5458\u53EF\u4EE5\u6839\u636E\u5B9E\u9645\u60C5\u51B5\u6765\u8C03\u6574 HashSet \u548C HashMap \u7684\u201C\u8D1F\u8F7D\u6781\u9650\u201D\u503C\u3002</p><p>\u5982\u679C\u5F00\u59CB\u5C31\u77E5\u9053 HashSet \u548C HashMap\u3001Hashtable \u4F1A\u4FDD\u5B58\u5F88\u591A\u8BB0\u5F55\uFF0C\u5219\u53EF\u4EE5\u5728\u521B\u5EFA\u65F6\u5C31\u4F7F\u7528\u8F83\u5927\u7684\u521D\u59CB\u5316\u5BB9\u91CF\uFF0C\u5982\u679C\u521D\u59CB\u5316\u5BB9\u91CF\u59CB\u7EC8\u5927\u4E8E HashSet \u548C HashMap\u3001Hashtable \u6240\u5305\u542B\u7684\u6700\u5927\u8BB0\u5F55\u6570\u9664\u4EE5\u8D1F\u8F7D\u6781\u9650\uFF0C\u5C31\u4E0D\u4F1A\u53D1\u751F rehashing\u3002\u4F7F\u7528\u8DB3\u591F\u5927\u7684\u521D\u59CB\u5316\u5BB9\u91CF\u521B\u5EFA HashSet \u548C HashMap\u3001Hashtable \u65F6\uFF0C\u53EF\u4EE5\u66F4\u9AD8\u6548\u5730\u589E\u52A0\u8BB0\u5F55\uFF0C\u4F46\u5C06\u521D\u59CB\u5316\u5BB9\u91CF\u8BBE\u7F6E\u592A\u9AD8\u53EF\u80FD\u4F1A\u6D6A\u8D39\u7A7A\u95F4\uFF0C\u56E0\u6B64\u901A\u5E38\u4E0D\u8981\u5C06\u521D\u59CB\u5316\u5BB9\u91CF\u8BBE\u7F6E\u5F97\u592A\u9AD8\u3002</p><h2 id="\u64CD\u4F5C\u96C6\u5408\u7684\u5DE5\u5177\u7C7B-collections" tabindex="-1"><a class="header-anchor" href="#\u64CD\u4F5C\u96C6\u5408\u7684\u5DE5\u5177\u7C7B-collections" aria-hidden="true">#</a> \u64CD\u4F5C\u96C6\u5408\u7684\u5DE5\u5177\u7C7B\uFF1ACollections</h2><p>Java \u63D0\u4F9B\u4E86\u4E00\u4E2A\u64CD\u4F5C Set\u3001List \u548C Map \u7B49\u96C6\u5408\u7684\u5DE5\u5177\u7C7B\uFF1ACollections\uFF0C\u8BE5\u5DE5\u5177\u7C7B\u91CC\u63D0\u4F9B\u4E86\u5927\u91CF\u65B9\u6CD5\u5BF9\u96C6\u5408\u5143\u7D20\u8FDB\u884C\u6392\u5E8F\u3001\u67E5\u8BE2\u548C\u4FEE\u6539\u7B49\u64CD\u4F5C\uFF0C\u8FD8\u63D0\u4F9B\u4E86\u5C06\u96C6\u5408\u5BF9\u8C61\u8BBE\u7F6E\u4E3A\u4E0D\u53EF\u53D8\u3001\u5BF9\u96C6\u5408\u5BF9\u8C61\u5B9E\u73B0\u540C\u6B65\u63A7\u5236\u7B49\u65B9\u6CD5\u3002</p><h3 id="\u6392\u5E8F\u64CD\u4F5C" tabindex="-1"><a class="header-anchor" href="#\u6392\u5E8F\u64CD\u4F5C" aria-hidden="true">#</a> \u6392\u5E8F\u64CD\u4F5C</h3><p>Collections \u63D0\u4F9B\u4E86\u5982\u4E0B\u51E0\u4E2A\u65B9\u6CD5\u7528\u4E8E\u5BF9 List \u96C6\u5408\u5143\u7D20\u8FDB\u884C\u6392\u5E8F\u3002</p><ol><li><code>static void reverse(List list)</code>\uFF1A\u53CD\u8F6C\u6307\u5B9A List \u96C6\u5408\u4E2D\u5143\u7D20\u7684\u987A\u5E8F\u3002</li><li><code>static void shuffle(List list)</code>\uFF1A\u5BF9 List \u96C6\u5408\u5143\u7D20\u8FDB\u884C\u968F\u673A\u6392\u5E8F\uFF08shuffle \u65B9\u6CD5\u6A21\u62DF\u4E86\u201C\u6D17\u724C\u201D\u52A8\u4F5C\uFF09\u3002</li><li><code>static void sort(List list)</code>\uFF1A\u6839\u636E\u5143\u7D20\u7684\u81EA\u7136\u987A\u5E8F\u5BF9\u6307\u5B9A List \u96C6\u5408\u7684\u5143\u7D20\u6309\u5347\u5E8F\u8FDB\u884C\u6392\u5E8F\u3002</li><li><code>static void sort(List list, Comparator c)</code>\uFF1A\u6839\u636E\u6307\u5B9A Comparator \u4EA7\u751F\u7684\u987A\u5E8F\u5BF9 List \u96C6\u5408\u5143\u7D20\u8FDB\u884C\u6392\u5E8F\u3002</li><li><code>static void swap(List list, int i, int j)</code>\uFF1A\u5C06\u6307\u5B9A List \u96C6\u5408\u4E2D\u7684 i \u5904\u5143\u7D20\u548C j \u5904\u5143\u7D20\u8FDB\u884C\u4EA4\u6362\u3002</li><li><code>static void rotate(List list , int distance)</code>\uFF1A\u5F53 distance \u4E3A\u6B63\u6570\u65F6\uFF0C\u5C06 list \u96C6\u5408\u7684\u540E distance \u4E2A\u5143\u7D20\u201C\u6574\u4F53\u201D\u79FB\u5230\u524D\u9762\uFF1B\u5F53 distance \u4E3A\u8D1F\u6570\u65F6\uFF0C\u5C06 list \u96C6\u5408\u7684\u524D distance \u4E2A\u5143\u7D20\u201C\u6574\u4F53\u201D\u79FB\u5230\u540E\u9762\u3002\u8BE5\u65B9\u6CD5\u4E0D\u4F1A\u6539\u53D8\u96C6\u5408\u7684\u957F\u5EA6\u3002</li></ol><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SortTest</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">ArrayList</span> nums <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        nums<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        nums<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        nums<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        nums<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u8F93\u51FA:[2, -5, 3, 0]</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u5C06List\u96C6\u5408\u5143\u7D20\u7684\u6B21\u5E8F\u53CD\u8F6C</span>
        <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u8F93\u51FA:[0, 3, -5, 2]</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u5C06List\u96C6\u5408\u5143\u7D20\u6309\u81EA\u7136\u987A\u5E8F\u6392\u5E8F</span>
        <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u8F93\u51FA:[-5, 0, 2, 3]</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u5C06List\u96C6\u5408\u5143\u7D20\u6309\u968F\u673A\u987A\u5E8F\u6392\u5E8F</span>
        <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">shuffle</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u6BCF\u6B21\u8F93\u51FA\u7684\u6B21\u5E8F\u4E0D\u56FA\u5B9A</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u67E5\u627E\u3001\u66FF\u6362\u64CD\u4F5C" tabindex="-1"><a class="header-anchor" href="#\u67E5\u627E\u3001\u66FF\u6362\u64CD\u4F5C" aria-hidden="true">#</a> \u67E5\u627E\u3001\u66FF\u6362\u64CD\u4F5C</h3><p>Collections \u8FD8\u63D0\u4F9B\u4E86\u5982\u4E0B\u7528\u4E8E\u67E5\u627E\u3001\u66FF\u6362\u96C6\u5408\u5143\u7D20\u7684\u5E38\u7528\u65B9\u6CD5\u3002</p><ol><li><code>static int binarySearch(List list, Object key)</code>\uFF1A\u4F7F\u7528\u4E8C\u5206\u641C\u7D22\u6CD5\u641C\u7D22\u6307\u5B9A\u7684 List \u96C6\u5408\uFF0C\u4EE5\u83B7\u5F97\u6307\u5B9A\u5BF9\u8C61\u5728 List \u96C6\u5408\u4E2D\u7684\u7D22\u5F15\u3002\u5982\u679C\u8981\u4F7F\u8BE5\u65B9\u6CD5\u53EF\u4EE5\u6B63\u5E38\u5DE5\u4F5C\uFF0C\u5219\u5FC5\u987B\u4FDD\u8BC1 List \u4E2D\u7684\u5143\u7D20\u5DF2\u7ECF\u5904\u4E8E\u6709\u5E8F\u72B6\u6001\u3002</li><li><code>static Object max(Collection coll)</code>\uFF1A\u6839\u636E\u5143\u7D20\u7684\u81EA\u7136\u987A\u5E8F\uFF0C\u8FD4\u56DE\u7ED9\u5B9A\u96C6\u5408\u4E2D\u7684\u6700\u5927\u5143\u7D20\u3002</li><li><code>static Object max(Collection coll, Comparator comp)</code>\uFF1A\u6839\u636E Comparator \u6307\u5B9A\u7684\u987A\u5E8F\uFF0C\u8FD4\u56DE\u7ED9\u5B9A\u96C6\u5408\u4E2D\u7684\u6700\u5927\u5143\u7D20\u3002</li><li><code>static Object min(Collection coll)</code>\uFF1A\u6839\u636E\u5143\u7D20\u7684\u81EA\u7136\u987A\u5E8F\uFF0C\u8FD4\u56DE\u7ED9\u5B9A\u96C6\u5408\u4E2D\u7684\u6700\u5C0F\u5143\u7D20\u3002</li><li><code>static Object min(Collection coll, Comparator comp)</code>\uFF1A\u6839\u636E Comparator \u6307\u5B9A\u7684\u987A\u5E8F\uFF0C\u8FD4\u56DE\u7ED9\u5B9A\u96C6\u5408\u4E2D\u7684\u6700\u5C0F\u5143\u7D20\u3002</li><li><code>static Object min(Collection coll, Comparator comp)</code>\uFF1A\u6839\u636E Comparator \u6307\u5B9A\u7684\u987A\u5E8F\uFF0C\u8FD4\u56DE\u7ED9\u5B9A\u96C6\u5408\u4E2D\u7684\u6700\u5C0F\u5143\u7D20\u3002</li><li><code>static void fill(List list, Object obj)</code>\uFF1A\u4F7F\u7528\u6307\u5B9A\u5143\u7D20 obj \u66FF\u6362\u6307\u5B9A List \u96C6\u5408\u4E2D\u7684\u6240\u6709\u5143\u7D20\u3002</li><li><code>static int frequency(Collection c, Object o)</code>\uFF1A\u8FD4\u56DE\u6307\u5B9A\u96C6\u5408\u4E2D\u6307\u5B9A\u5143\u7D20\u7684\u51FA\u73B0\u6B21\u6570\u3002</li><li><code>static int indexOfSubList(List source, List target)</code>\uFF1A\u8FD4\u56DE\u5B50 List \u5BF9\u8C61\u5728\u7236 List \u5BF9\u8C61\u4E2D\u7B2C\u4E00\u6B21\u51FA\u73B0\u7684\u4F4D\u7F6E\u7D22\u5F15\uFF1B\u5982\u679C\u7236 List \u4E2D\u6CA1\u6709\u51FA\u73B0\u8FD9\u6837\u7684\u5B50 List\uFF0C\u5219\u8FD4\u56DE-1\u3002</li><li><code>static int lastIndexOfSubList(List source, List target)</code>\uFF1A\u8FD4\u56DE\u5B50 List \u5BF9\u8C61\u5728\u7236 List \u5BF9\u8C61\u4E2D\u6700\u540E\u4E00\u6B21\u51FA\u73B0\u7684\u4F4D\u7F6E\u7D22\u5F15\uFF1B\u5982\u679C\u7236 List \u4E2D\u6CA1\u6709\u51FA\u73B0\u8FD9\u6837\u7684\u5B50 List\uFF0C\u5219\u8FD4\u56DE-1\u3002</li><li><code>static boolean replaceAll(List list, Object oldVal, Object newVal)</code>\uFF1A\u4F7F\u7528\u4E00\u4E2A\u65B0\u503C newVal \u66FF\u6362 List \u5BF9\u8C61\u7684\u6240\u6709\u65E7\u503C oldVal\u3002</li></ol><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SearchTest</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">ArrayList</span> nums <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        nums<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        nums<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        nums<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        nums<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u8F93\u51FA:[2, -5, 3, 0]</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u8F93\u51FA\u6700\u5927\u5143\u7D20\uFF0C\u5C06\u8F93\u51FA3</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u8F93\u51FA\u6700\u5C0F\u5143\u7D20\uFF0C\u5C06\u8F93\u51FA-5</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u5C06nums\u4E2D\u76840\u4F7F\u75281\u6765\u4EE3\u66FF</span>
        <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">replaceAll</span><span class="token punctuation">(</span>nums<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u8F93\u51FA:[2, -5, 3, 1]</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u5224\u65AD-5 \u5728List\u96C6\u5408\u4E2D\u51FA\u73B0\u7684\u6B21\u6570\uFF0C\u8FD4\u56DE1</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">frequency</span><span class="token punctuation">(</span>nums<span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u5BF9nums\u96C6\u5408\u6392\u5E8F</span>
        <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u8F93\u51FA:[-5, 1, 2, 3]</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// \u53EA\u6709\u6392\u5E8F\u540E\u7684List\u96C6\u5408\u624D\u53EF\u7528\u4E8C\u5206\u6CD5\u67E5\u8BE2\uFF0C\u8F93\u51FA3</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">binarySearch</span><span class="token punctuation">(</span>nums<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u540C\u6B65\u63A7\u5236" tabindex="-1"><a class="header-anchor" href="#\u540C\u6B65\u63A7\u5236" aria-hidden="true">#</a> \u540C\u6B65\u63A7\u5236</h3><p>Collections \u7C7B\u4E2D\u63D0\u4F9B\u4E86\u591A\u4E2A <code>synchronizedXxx()</code>\u65B9\u6CD5\uFF0C\u8BE5\u65B9\u6CD5\u53EF\u4EE5\u5C06\u6307\u5B9A\u96C6\u5408\u5305\u88C5\u6210\u7EBF\u7A0B\u540C\u6B65\u7684\u96C6\u5408\uFF0C\u4ECE\u800C\u53EF\u4EE5\u89E3\u51B3\u591A\u7EBF\u7A0B\u5E76\u53D1\u8BBF\u95EE\u96C6\u5408\u65F6\u7684\u7EBF\u7A0B\u5B89\u5168\u95EE\u9898\u3002</p><p>Java \u4E2D\u5E38\u7528\u7684\u96C6\u5408\u6846\u67B6\u4E2D\u7684\u5B9E\u73B0\u7C7B HashSet\u3001TreeSet\u3001ArrayList\u3001ArrayDeque\u3001LinkedList\u3001HashMap \u548C TreeMap \u90FD\u662F\u7EBF\u7A0B\u4E0D\u5B89\u5168\u7684\u3002\u5982\u679C\u6709\u591A\u4E2A\u7EBF\u7A0B\u8BBF\u95EE\u5B83\u4EEC\uFF0C\u800C\u4E14\u6709\u8D85\u8FC7\u4E00\u4E2A\u7684\u7EBF\u7A0B\u8BD5\u56FE\u4FEE\u6539\u5B83\u4EEC\uFF0C\u5219\u53EF\u80FD\u51FA\u73B0\u9519\u8BEF\u3002Collections \u63D0\u4F9B\u4E86\u591A\u4E2A\u9759\u6001\u65B9\u6CD5\u53EF\u4EE5\u628A\u5B83\u4EEC\u5305\u88C5\u6210\u7EBF\u7A0B\u540C\u6B65\u7684\u96C6\u5408\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SynchronizedTest</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// \u4E0B\u9762\u7A0B\u5E8F\u521B\u5EFA\u4E864\u4E2A\u540C\u6B65\u7684\u96C6\u5408\u5BF9\u8C61</span>
        <span class="token class-name">Collection</span> c <span class="token operator">=</span> <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">synchronizedCollection</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">List</span> list <span class="token operator">=</span> <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">synchronizedList</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Set</span> s <span class="token operator">=</span> <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">synchronizedSet</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">HashSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Map</span> m <span class="token operator">=</span> <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">synchronizedMap</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u8BBE\u7F6E\u4E0D\u53EF\u53D8\u96C6\u5408" tabindex="-1"><a class="header-anchor" href="#\u8BBE\u7F6E\u4E0D\u53EF\u53D8\u96C6\u5408" aria-hidden="true">#</a> \u8BBE\u7F6E\u4E0D\u53EF\u53D8\u96C6\u5408</h3><p>Collections \u63D0\u4F9B\u4E86\u5982\u4E0B\u4E09\u7C7B\u65B9\u6CD5\u6765\u8FD4\u56DE\u4E00\u4E2A\u4E0D\u53EF\u53D8\u7684\u96C6\u5408\u3002</p><ol><li><code>emptyXxx()</code>\uFF1A\u8FD4\u56DE\u4E00\u4E2A\u7A7A\u7684\u3001\u4E0D\u53EF\u53D8\u7684\u96C6\u5408\u5BF9\u8C61\uFF0C\u6B64\u5904\u7684\u96C6\u5408\u65E2\u53EF\u4EE5\u662F List\uFF0C\u4E5F\u53EF\u4EE5\u662F Set\uFF0C\u8FD8\u53EF\u4EE5\u662F Map\u3002</li><li><code>singletonXxx()</code>\uFF1A\u8FD4\u56DE\u4E00\u4E2A\u53EA\u5305\u542B\u6307\u5B9A\u5BF9\u8C61\uFF08\u53EA\u6709\u4E00\u4E2A\u6216\u4E00\u9879\u5143\u7D20\uFF09\u7684\u3001\u4E0D\u53EF\u53D8\u7684\u96C6\u5408\u5BF9\u8C61\uFF0C\u6B64\u5904\u7684\u96C6\u5408\u65E2\u53EF\u4EE5\u662F List\uFF0C\u4E5F\u53EF\u4EE5\u662F Set\uFF0C\u8FD8\u53EF\u4EE5\u662F Map\u3002</li><li><code>unmodifiableXxx</code>\uFF1A\u8FD4\u56DE\u6307\u5B9A\u96C6\u5408\u5BF9\u8C61\u7684\u4E0D\u53EF\u53D8\u89C6\u56FE\uFF0C\u6B64\u5904\u7684\u96C6\u5408\u65E2\u53EF\u4EE5\u662F List\uFF0C\u4E5F\u53EF\u4EE5\u662F Set\uFF0C\u8FD8\u53EF\u4EE5\u662F Map\u3002</li></ol><p>\u4E09\u7C7B\u65B9\u6CD5\u7684\u53C2\u6570\u662F\u539F\u6709\u7684\u96C6\u5408\u5BF9\u8C61\uFF0C\u8FD4\u56DE\u503C\u662F\u8BE5\u96C6\u5408\u7684\u201C\u53EA\u8BFB\u201D\u7248\u672C\u3002\u901A\u8FC7 Collections \u63D0\u4F9B\u7684\u4E09\u7C7B\u65B9\u6CD5\uFF0C\u53EF\u4EE5\u751F\u6210\u201C\u53EA\u8BFB\u201D\u7684 Collection \u6216 Map\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UnmodifiableTest</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//\u521B\u5EFA\u4E00\u4E2A\u7A7A\u7684\u3001\u4E0D\u53EF\u6539\u53D8\u7684List\u5BF9\u8C61</span>
        <span class="token class-name">List</span> unmodifiableList <span class="token operator">=</span> <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">emptyList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//\u521B\u5EFA\u4E00\u4E2A\u53EA\u6709\u4E00\u4E2A\u5143\u7D20\uFF0C\u4E14\u4E0D\u53EF\u6539\u53D8\u7684Set\u5BF9\u8C61</span>
        <span class="token class-name">Set</span> unmodifiableSet <span class="token operator">=</span> <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">singleton</span><span class="token punctuation">(</span><span class="token string">&quot;\u75AF\u72C2Java\u8BB2\u4E49&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//\u521B\u5EFA\u4E00\u4E2A\u666E\u901A\u7684Map\u5BF9\u8C61</span>
        <span class="token class-name">Map</span> scores <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        scores<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;\u8BED\u6587&quot;</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        scores<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;Java&quot;</span><span class="token punctuation">,</span> <span class="token number">82</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//\u8FD4\u56DE\u666E\u901A\u7684Map\u5BF9\u8C61\u5BF9\u5E94\u7684\u4E0D\u53EF\u53D8\u7248\u672C</span>
        <span class="token class-name">Map</span> unmodifiableMap <span class="token operator">=</span> <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">unmodifiableMap</span><span class="token punctuation">(</span>scores<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//\u4E0B\u9762\u4EFB\u610F\u4E00\u884C\u4EE3\u7801\u90FD\u5C06\u5F15\u53D1UnsupportedOperationException\u5F02\u5E38</span>
        unmodifiableList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;\u6D4B\u8BD5\u5143\u7D20&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        unmodifiableSet<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;\u6D4B\u8BD5\u5143\u7D20&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        unmodifiableMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;\u8BED\u6587&quot;</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u70E6\u7410\u7684\u63A5\u53E3-enumeration" tabindex="-1"><a class="header-anchor" href="#\u70E6\u7410\u7684\u63A5\u53E3-enumeration" aria-hidden="true">#</a> \u70E6\u7410\u7684\u63A5\u53E3\uFF1AEnumeration</h3><p>Enumeration \u63A5\u53E3\u662F Iterator \u8FED\u4EE3\u5668\u7684\u201C\u53E4\u8001\u7248\u672C\u201D\uFF0C\u4ECE JDK 1.0 \u5F00\u59CB\uFF0CEnumeration \u63A5\u53E3\u5C31\u5DF2\u7ECF\u5B58\u5728\u4E86\uFF08Iterator \u4ECE JDK 1.2 \u624D\u51FA\u73B0\uFF09\u3002Enumeration \u63A5\u53E3\u53EA\u6709\u4E24\u4E2A\u540D\u5B57\u5F88\u957F\u7684\u65B9\u6CD5\u3002</p><ol><li><code>boolean hasMoreElements()</code>\uFF1A\u5982\u679C\u6B64\u8FED\u4EE3\u5668\u8FD8\u6709\u5269\u4E0B\u7684\u5143\u7D20\uFF0C\u5219\u8FD4\u56DE true\u3002</li><li><code>Object nextElement()</code>\uFF1A\u8FD4\u56DE\u8BE5\u8FED\u4EE3\u5668\u7684\u4E0B\u4E00\u4E2A\u5143\u7D20\uFF0C\u5982\u679C\u8FD8\u6709\u7684\u8BDD\uFF08\u5426\u5219\u629B\u51FA\u5F02\u5E38\uFF09\u3002</li></ol><p>Enumeration \u63A5\u53E3\u4E2D\u7684\u65B9\u6CD5\u540D\u79F0\u5197\u957F\uFF0C\u96BE\u4EE5\u8BB0\u5FC6\uFF0C\u800C\u4E14\u6CA1\u6709\u63D0\u4F9B Iterator \u7684 <code>remove()</code>\u65B9\u6CD5\u3002\u5982\u679C\u73B0\u5728\u7F16\u5199 Java \u7A0B\u5E8F\uFF0C\u5E94\u8BE5\u5C3D\u91CF\u91C7\u7528 Iterator \u8FED\u4EE3\u5668\uFF0C\u800C\u4E0D\u662F\u7528 Enumeration \u8FED\u4EE3\u5668\u3002</p><div class="custom-container info"><p class="custom-container-title">\u76F8\u5173\u4FE1\u606F</p><p>Java \u4E4B\u6240\u4EE5\u4FDD\u7559 Enumeration \u63A5\u53E3\uFF0C\u4E3B\u8981\u662F\u4E3A\u4E86\u7167\u987E\u4EE5\u524D\u90A3\u4E9B\u201C\u53E4\u8001\u201D\u7684\u7A0B\u5E8F\uFF0C\u90A3\u4E9B\u7A0B\u5E8F\u91CC\u5927\u91CF\u4F7F\u7528\u4E86 Enumeration \u63A5\u53E3\uFF0C\u5982\u679C\u65B0\u7248\u672C\u7684 Java \u91CC\u76F4\u63A5\u5220\u9664 Enumeration \u63A5\u53E3\uFF0C\u5C06\u4F1A\u5BFC\u81F4\u90A3\u4E9B\u7A0B\u5E8F\u5168\u90E8\u51FA\u9519\u3002\u5728\u8BA1\u7B97\u673A\u884C\u4E1A\u6709\u4E00\u6761\u89C4\u5219\uFF1A\u52A0\u5165\u4EFB\u4F55\u89C4\u5219\u90FD\u5FC5\u987B\u614E\u4E4B\u53C8\u614E\uFF0C\u56E0\u4E3A\u4EE5\u540E\u65E0\u6CD5\u5220\u9664\u89C4\u5219\u3002</p></div><p>\u5B9E\u9645\u4E0A\uFF0C\u524D\u9762\u4ECB\u7ECD\u7684 Vector\uFF08\u5305\u62EC\u5176\u5B50\u7C7B Stack\uFF09\u3001Hashtable \u4E24\u4E2A\u96C6\u5408\u7C7B\uFF0C\u4EE5\u53CA\u53E6\u4E00\u4E2A\u6781\u5C11\u4F7F\u7528\u7684 BitSet\uFF0C\u90FD\u662F\u4ECE JDK 1.0 \u9057\u7559\u4E0B\u6765\u7684\u96C6\u5408\u7C7B\uFF0C\u800C Enumeration \u63A5\u53E3\u53EF\u7528\u4E8E\u904D\u5386\u8FD9\u4E9B\u201C\u53E4\u8001\u201D\u7684\u96C6\u5408\u7C7B\u3002\u5BF9\u4E8E ArrayList\u3001HashMap \u7B49\u96C6\u5408\u7C7B\uFF0C\u4E0D\u518D\u652F\u6301\u4F7F\u7528 Enumeration \u8FED\u4EE3\u5668\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">EnumerationTest</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Vector</span> v <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vector</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        v<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;\u75AF\u72C2Java\u8BB2\u4E49&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        v<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;\u8F7B\u91CF\u7EA7Java EE\u4F01\u4E1A\u5E94\u7528\u5B9E\u6218&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Hashtable</span> scores <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Hashtable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        scores<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;\u8BED\u6587&quot;</span><span class="token punctuation">,</span> <span class="token number">78</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        scores<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;\u6570\u5B66&quot;</span><span class="token punctuation">,</span> <span class="token number">88</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Enumeration</span> em <span class="token operator">=</span> v<span class="token punctuation">.</span><span class="token function">elements</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>em<span class="token punctuation">.</span><span class="token function">hasMoreElements</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>em<span class="token punctuation">.</span><span class="token function">nextElement</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token class-name">Enumeration</span> keyEm <span class="token operator">=</span> scores<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>keyEm<span class="token punctuation">.</span><span class="token function">hasMoreElements</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">Object</span> key <span class="token operator">=</span> keyEm<span class="token punctuation">.</span><span class="token function">nextElement</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>key <span class="token operator">+</span> <span class="token string">&quot;---&gt;&quot;</span> <span class="token operator">+</span> scores<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,301),o=[e];function c(l,i){return s(),a("div",null,o)}const d=n(p,[["render",c],["__file","11. Java\u96C6\u5408.html.vue"]]);export{d as default};
