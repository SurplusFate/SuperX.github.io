import{_ as n}from"./_plugin-vue_export-helper.cdc0426e.js";import{o as s,c as a,d as t}from"./app.5195066a.js";const p={},e=t(`<h1 id="_12-filter" tabindex="-1"><a class="header-anchor" href="#_12-filter" aria-hidden="true">#</a> 12. Filter</h1><p>Filter\uFF1A\u8FC7\u6EE4\u5668 \uFF0C\u7528\u6765\u8FC7\u6EE4\u7F51\u7AD9\u7684\u6570\u636E\uFF1B</p><ul><li>\u5904\u7406\u4E2D\u6587\u4E71\u7801</li><li>\u767B\u5F55\u9A8C\u8BC1\u2026.</li></ul><p><img src="https://gcore.jsdelivr.net/gh/SurplusFate/guide_img@main/img/202208291211519.png" alt="1568424858708"></p><p>Filter \u5F00\u53D1\u6B65\u9AA4\uFF1A</p><ol><li><p>\u5BFC\u5305</p></li><li><p>\u7F16\u5199\u8FC7\u6EE4\u5668</p><p>\u5BFC\u5305\u4E0D\u8981\u9519</p><p><img src="https://gcore.jsdelivr.net/gh/SurplusFate/guide_img@main/img/202208291212506.png" alt="1568425162525"></p><p>\u5B9E\u73B0 Filter \u63A5\u53E3\uFF0C\u91CD\u5199\u5BF9\u5E94\u7684\u65B9\u6CD5\u5373\u53EF</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CharacterEncodingFilter</span> <span class="token keyword">implements</span> <span class="token class-name">Filter</span> <span class="token punctuation">{</span>

    <span class="token comment">//\u521D\u59CB\u5316\uFF1Aweb\u670D\u52A1\u5668\u542F\u52A8\uFF0C\u5C31\u4EE5\u53CA\u521D\u59CB\u5316\u4E86\uFF0C\u968F\u65F6\u7B49\u5F85\u8FC7\u6EE4\u5BF9\u8C61\u51FA\u73B0\uFF01</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token class-name">FilterConfig</span> filterConfig<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;CharacterEncodingFilter\u521D\u59CB\u5316&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//Chain : \u94FE</span>
    <span class="token comment">/*
    1. \u8FC7\u6EE4\u4E2D\u7684\u6240\u6709\u4EE3\u7801\uFF0C\u5728\u8FC7\u6EE4\u7279\u5B9A\u8BF7\u6C42\u7684\u65F6\u5019\u90FD\u4F1A\u6267\u884C
    2. \u5FC5\u987B\u8981\u8BA9\u8FC7\u6EE4\u5668\u7EE7\u7EED\u540C\u884C
        chain.doFilter(request,response);
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doFilter</span><span class="token punctuation">(</span><span class="token class-name">ServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">ServletResponse</span> response<span class="token punctuation">,</span> <span class="token class-name">FilterChain</span> chain<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span><span class="token punctuation">,</span> <span class="token class-name">ServletException</span> <span class="token punctuation">{</span>
        request<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">&quot;utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        response<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">&quot;utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        response<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">&quot;text/html;charset=UTF-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;CharacterEncodingFilter\u6267\u884C\u524D....&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        chain<span class="token punctuation">.</span><span class="token function">doFilter</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//\u8BA9\u6211\u4EEC\u7684\u8BF7\u6C42\u7EE7\u7EED\u8D70\uFF0C\u5982\u679C\u4E0D\u5199\uFF0C\u7A0B\u5E8F\u5230\u8FD9\u91CC\u5C31\u88AB\u62E6\u622A\u505C\u6B62\uFF01</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;CharacterEncodingFilter\u6267\u884C\u540E....&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//\u9500\u6BC1\uFF1Aweb\u670D\u52A1\u5668\u5173\u95ED\u7684\u65F6\u5019\uFF0C\u8FC7\u6EE4\u4F1A\u9500\u6BC1</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;CharacterEncodingFilter\u9500\u6BC1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>\u5728 web.xml \u4E2D\u914D\u7F6E Filter</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-name</span><span class="token punctuation">&gt;</span></span>CharacterEncodingFilter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-class</span><span class="token punctuation">&gt;</span></span>com.kuang.filter.CharacterEncodingFilter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-class</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-mapping</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-name</span><span class="token punctuation">&gt;</span></span>CharacterEncodingFilter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--\u53EA\u8981\u662F /servlet\u7684\u4EFB\u4F55\u8BF7\u6C42\uFF0C\u4F1A\u7ECF\u8FC7\u8FD9\u4E2A\u8FC7\u6EE4\u5668--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>/servlet/*<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--&lt;url-pattern&gt;/*&lt;/url-pattern&gt;--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-mapping</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol>`,6),c=[e];function l(o,i){return s(),a("div",null,c)}const k=n(p,[["render",l],["__file","12. Filter.html.vue"]]);export{k as default};
