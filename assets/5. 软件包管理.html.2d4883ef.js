import{_ as a}from"./_plugin-vue_export-helper.cdc0426e.js";import{o as e,c as s,e as n}from"./app.c378be79.js";const d={},i=n(`<h1 id="软件包管理" tabindex="-1"><a class="header-anchor" href="#软件包管理" aria-hidden="true">#</a> 软件包管理</h1><h2 id="rpm" tabindex="-1"><a class="header-anchor" href="#rpm" aria-hidden="true">#</a> RPM</h2><h3 id="概述" tabindex="-1"><a class="header-anchor" href="#概述" aria-hidden="true">#</a> 概述</h3><p>RPM(RedHat Package Manager),RedHat 软件包管理工具，类似于 windows 里面的 setup.exe，是 Linux 这系列操作系统的打包安装工具，它虽然是 RedHat 的标志，但理念是通用的。</p><p>RPM 包的名称格式</p><p>Apache-1.3.23-11.i386.rpm</p><p>“apache” 软件名称</p><p>“1.3.23-11”软件的版本号，主版本和此版本</p><p>“i386”是软件所运行的硬件平台，Intel 32 位处理器的统称</p><p>“rpm”文件扩展名，代表 RPM 包</p><h3 id="查询命令" tabindex="-1"><a class="header-anchor" href="#查询命令" aria-hidden="true">#</a> 查询命令</h3><p>查询所安装的所有 rpm 软件包</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">rpm</span> <span class="token parameter variable">-qa</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>由于软件包比较多，一般都会才去过滤 <code>rpm -qa | grep 名称</code></p><p>查询软件包是否安装</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">rpm</span> <span class="token parameter variable">-q</span> 名称
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>查询软件包信息</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">rpm</span> <span class="token parameter variable">-qi</span> 名称
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>查询软件包中的文件</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">rpm</span> <span class="token parameter variable">-ql</span> 名称
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>查询文件所属软件包</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">rpm</span> <span class="token parameter variable">-qf</span> 文件全路径名
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="卸载命令" tabindex="-1"><a class="header-anchor" href="#卸载命令" aria-hidden="true">#</a> 卸载命令</h3><p>卸载软件包</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">rpm</span> <span class="token parameter variable">-e</span> 名称
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>卸载软件时，不检查依赖。这样的话，那些使用该软件包的软件在此之后可能就不能正常工作</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">rpm</span> <span class="token parameter variable">-e</span> <span class="token parameter variable">--nodeps</span> 名称
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>卸载 firefox</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">rpm</span> <span class="token parameter variable">-e</span> firefox
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="安装命令" tabindex="-1"><a class="header-anchor" href="#安装命令" aria-hidden="true">#</a> 安装命令</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">rpm</span> <span class="token parameter variable">-ivh</span> 包全名
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><table><thead><tr><th>选项</th><th>功能</th></tr></thead><tbody><tr><td>-i</td><td>install 安装</td></tr><tr><td>-v</td><td>--verbose 显示详细信息</td></tr><tr><td>-h</td><td>--hase，进度条</td></tr><tr><td>--nodeps</td><td>安装前不检查依赖</td></tr></tbody></table><p>安装 firefox</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">rpm</span> <span class="token parameter variable">-ivh</span> firefox-45.0.1-1.el6.centos.x86_64.rpm
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="仓库配置" tabindex="-1"><a class="header-anchor" href="#仓库配置" aria-hidden="true">#</a> 仓库配置</h2><h3 id="yum-概述" tabindex="-1"><a class="header-anchor" href="#yum-概述" aria-hidden="true">#</a> YUM 概述</h3><p>YUM(全称为 Yellow dog Updater, Modified)是一个在 Fedora 和 RedHat 以及 CentOS 中的 Shell 前端软件包管理。基于 RPM 包管理，能够从指定的服务器自动下载 RPM 包并且安装，可以自动处理依赖性关系，并且一次 安装所有依赖的软件包，无须繁琐地一次一次下载，安装。</p><h3 id="yum-的常用命令" tabindex="-1"><a class="header-anchor" href="#yum-的常用命令" aria-hidden="true">#</a> YUM 的常用命令</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>yum <span class="token punctuation">[</span>选项<span class="token punctuation">]</span> <span class="token punctuation">[</span>参数<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><table><thead><tr><th>选项</th><th>功能</th></tr></thead><tbody><tr><td>-y</td><td>对所有提问都回答“yes&quot;</td></tr></tbody></table><table><thead><tr><th>参数</th><th>功能</th></tr></thead><tbody><tr><td>install</td><td>安装 rpm 软件包</td></tr><tr><td>update</td><td>更新 rpm 软件包</td></tr><tr><td>check-update</td><td>检查是否有可用的更新 rpm 软件包</td></tr><tr><td>remove</td><td>删除指定的 rpm 软件包</td></tr><tr><td>list</td><td>显示软件包信息</td></tr><tr><td>clean</td><td>清除 yum 过期的缓存</td></tr><tr><td>deplist</td><td>显示 yum 软件包的所有依赖关系</td></tr></tbody></table><p>yum 方式安装 firefox</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># 查询yum服务器是否有需要的软件</span>
yum list <span class="token operator">|</span> <span class="token function">grep</span> firefox
<span class="token comment"># 卸载老版本</span>
yum remove firefox
<span class="token comment"># 安装</span>
yum <span class="token parameter variable">-y</span> <span class="token function">install</span> firefox
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="修改网络-yum-源" tabindex="-1"><a class="header-anchor" href="#修改网络-yum-源" aria-hidden="true">#</a> 修改网络 YUM 源</h3><p>默认的系统 YUM 源(默认会自己搜索最近的)，需要连接国外 apache 网站，网速比较慢，可以修改关联的网络 YUM 源为国内镜像的网站，比如网易 163,aliyun 等</p><p>安装 wget, wget 用来从指定的 URL 下载文件</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>yum <span class="token function">install</span> <span class="token function">wget</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>在/etc/yum.repos.d/目录下，备份默认的 repos 文件</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">cp</span> CentOS-Base.repo CentOS-Base .repo.backup
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>下载网易 163 或者是 aliyun 的 repos 文件,任选其一</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">wget</span> http://mirrors.aliyun.com/repo/Centos-7.repo <span class="token comment"># 阿里云</span>
<span class="token function">wget</span> http://mirrors.163.com/.help/CentOS7-Base-163.repo <span class="token comment"># 网易</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>使用下载好的 repos 文件替换默认的 repos 文件 例如:用 CentOS7-Base-163.repo 替换 CentOS-Base.repo</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">mv</span> CentOS7-Base-163.repo CentOS-Base.repo
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>清理旧缓存数据，缓存新数据</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>yum clean all
yum makecache
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>yum makecache 就是把服务器的包信息下载到本地电脑缓存起来</p><p>测试</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>yum list <span class="token operator">|</span> <span class="token function">grep</span> firefox
yum <span class="token parameter variable">-y</span> <span class="token function">install</span> firefox
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div>`,58),t=[i];function r(l,p){return e(),s("div",null,t)}const u=a(d,[["render",r],["__file","5. 软件包管理.html.vue"]]);export{u as default};
