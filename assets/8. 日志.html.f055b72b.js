import{_ as l}from"./_plugin-vue_export-helper.cdc0426e.js";import{o as p,c as o,a,b as n,d as e,e as t,r as c}from"./app.331e95d7.js";const i={},r=t('<h1 id="_8-日志" tabindex="-1"><a class="header-anchor" href="#_8-日志" aria-hidden="true">#</a> 8. 日志</h1><h2 id="_1-日志工厂" tabindex="-1"><a class="header-anchor" href="#_1-日志工厂" aria-hidden="true">#</a> 1. 日志工厂</h2><p>SLF4J</p><p>LOG4J(掌握)</p><p>LOG4J2</p><p>JDK_LOGGING</p><p>COMMONS_LOGGING</p><p>STDOUT_LOGGING(掌握)</p><p>NO_LOGGING</p><h3 id="stdout-logging" tabindex="-1"><a class="header-anchor" href="#stdout-logging" aria-hidden="true">#</a> STDOUT_LOGGING</h3><p><img src="https://gcore.jsdelivr.net/gh/SurplusFate/guide_img@main/img/202208271712929.png" alt="Log"></p><h3 id="log4j" tabindex="-1"><a class="header-anchor" href="#log4j" aria-hidden="true">#</a> LOG4J</h3>',12),u={href:"https://baike.baidu.com/item/Apache/8512995",target:"_blank",rel:"noopener noreferrer"},d={href:"https://baike.baidu.com/item/%E6%8E%A7%E5%88%B6%E5%8F%B0/2438626",target:"_blank",rel:"noopener noreferrer"},g={href:"https://baike.baidu.com/item/GUI",target:"_blank",rel:"noopener noreferrer"},k=a("li",null,"我们可以控制每一条日志的输出格式",-1),v=a("li",null,"通过定义每一条信息的级别,我们能够更加细致的控制日志的生成过程",-1),m=a("li",null,"通过一个配置文件来灵活的进行配置,而不需要修改应用的代码",-1),h=t(`<ol><li><p>导入 log4j 的包</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>log4j<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>log4j<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.2.17<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>log4j.properties, 名字必须是 log4j</p><div class="language-properties line-numbers-mode" data-ext="properties"><pre class="language-properties"><code><span class="token key attr-name">log4j.rootLogger</span><span class="token punctuation">=</span><span class="token value attr-value">DEBUG,console,file</span>
<span class="token comment">#控制台输出的相关设置</span>
<span class="token key attr-name">log4j.appender.console</span> <span class="token punctuation">=</span> <span class="token value attr-value">org.apache.log4j.ConsoleAppender</span>
<span class="token key attr-name">log4j.appender.console.Target</span> <span class="token punctuation">=</span> <span class="token value attr-value">System.out</span>
<span class="token key attr-name">log4j.appender.console.Threshold</span><span class="token punctuation">=</span><span class="token value attr-value">DEBUG</span>
<span class="token key attr-name">log4j.appender.console.layout</span> <span class="token punctuation">=</span> <span class="token value attr-value">org.apache.log4j.PatternLayout</span>
<span class="token key attr-name">log4j.appender.console.layout.ConversionPattern</span><span class="token punctuation">=</span><span class="token value attr-value">【%c】-%m%n</span>
<span class="token comment">#文件输出的相关设置</span>
<span class="token key attr-name">log4j.appender.file</span> <span class="token punctuation">=</span> <span class="token value attr-value">org.apache.log4j.RollingFileAppender</span>
<span class="token key attr-name">log4j.appender.file.File</span><span class="token punctuation">=</span><span class="token value attr-value">./log/mybatisLog.log</span>
<span class="token key attr-name">log4j.appender.file.MaxFileSize</span><span class="token punctuation">=</span><span class="token value attr-value">10mb</span>
<span class="token key attr-name">log4j.appender.file.Threshold</span><span class="token punctuation">=</span><span class="token value attr-value">DEBUG</span>
<span class="token key attr-name">log4j.appender.file.layout</span><span class="token punctuation">=</span><span class="token value attr-value">org.apache.log4j.PatternLayout</span>
<span class="token key attr-name">log4j.appender.file.layout.ConversionPattern</span><span class="token punctuation">=</span><span class="token value attr-value">【%p】【%d{yy-MM-dd}】【%c】%m%n</span>
<span class="token comment">#日志输出级别</span>
<span class="token key attr-name">log4j.logger.org.mybatis</span><span class="token punctuation">=</span><span class="token value attr-value">DEBUG</span>
<span class="token key attr-name">log4j.logger.java.sql</span><span class="token punctuation">=</span><span class="token value attr-value">DEBUG</span>
<span class="token key attr-name">log4j.logger.java.sql.Statement</span><span class="token punctuation">=</span><span class="token value attr-value">DEBUG</span>
<span class="token key attr-name">log4j.logger.java.sql.ResultSet</span><span class="token punctuation">=</span><span class="token value attr-value">DEBUG</span>
<span class="token key attr-name">log4j.logger.java.sql.PreparedStatement</span><span class="token punctuation">=</span><span class="token value attr-value">DEBUG</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>配置 log4j 的日志实现</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>settings</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>setting</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>logImpl<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>LOG4J<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>settings</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>log4j 简单使用</p><ul><li><p>导包</p><p><code>import org.apache.log4j.Logger;</code></p></li><li><p>获取日志对象</p><p><code>Logger logger = Logger.getLogger(MybatisTest.class);</code></p></li><li><p>设置日志级别</p><p><code>logger.info(&quot;info&quot;);</code></p><p><code>logger.debug(&quot;debug&quot;);</code></p><p><code>logger.error(&quot;error&quot;);</code></p></li></ul></li></ol>`,1);function b(_,j){const s=c("ExternalLinkIcon");return p(),o("div",null,[r,a("ul",null,[a("li",null,[n("Log4j 是"),a("a",u,[n("Apache"),e(s)]),n("的一个开源项目，通过使用 Log4j，我们可以控制日志信息输送的目的地是"),a("a",d,[n("控制台"),e(s)]),n("、文件、"),a("a",g,[n("GUI"),e(s)]),n("组件")]),k,v,m]),h])}const G=l(i,[["render",b],["__file","8. 日志.html.vue"]]);export{G as default};
