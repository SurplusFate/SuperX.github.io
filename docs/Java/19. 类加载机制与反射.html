<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.53" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://SurplusFate.github.io/docs/Java/19.%20%E7%B1%BB%E5%8A%A0%E8%BD%BD%E6%9C%BA%E5%88%B6%E4%B8%8E%E5%8F%8D%E5%B0%84.html"><meta property="og:site_name" content="ç©º~"><meta property="og:title" content="19. ç±»åŠ è½½æœºåˆ¶ä¸åå°„"><meta property="og:type" content="article"><meta property="og:updated_time" content="2022-10-25T10:07:49.000Z"><meta property="og:locale" content="zh-CN"><meta property="article:published_time" content="2022-08-18T00:00:00.000Z"><meta property="article:modified_time" content="2022-10-25T10:07:49.000Z"><link rel="icon" href="/logo.png"><script type="text/javascript" src="/base.js"></script><link rel="stylesheet" type="text/css" href="//at.alicdn.com/t/c/font_3721935_vu3qq5p7wsp.css"><title>19. ç±»åŠ è½½æœºåˆ¶ä¸åå°„ | ç©º~</title><meta name="description" content="å­¦ä¹ è®°å½•">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d2025;
      }

      html,
      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.querySelector("html").setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="preload" href="/assets/style.ff301603.css" as="style" /><link rel="stylesheet" href="/assets/style.ff301603.css" />
    <link rel="modulepreload" href="/assets/app.dfee58c2.js"><link rel="modulepreload" href="/assets/19. ç±»åŠ è½½æœºåˆ¶ä¸åå°„.html.d88a3b67.js"><link rel="modulepreload" href="/assets/_plugin-vue_export-helper.cdc0426e.js"><link rel="modulepreload" href="/assets/19. ç±»åŠ è½½æœºåˆ¶ä¸åå°„.html.075dedb9.js"><link rel="prefetch" href="/assets/index.html.47c0506f.js" as="script" /><link rel="prefetch" href="/assets/1. Dubbo æ¡†æ¶.html.92754ef7.js" as="script" /><link rel="prefetch" href="/assets/2. ç›´è¿æ–¹å¼.html.8374d862.js" as="script" /><link rel="prefetch" href="/assets/3. æ”¹é€  Dubbo é¡¹ç›®.html.a2e95a90.js" as="script" /><link rel="prefetch" href="/assets/4. å¸¸ç”¨æ ‡ç­¾.html.13238c4f.js" as="script" /><link rel="prefetch" href="/assets/5. æ³¨å†Œä¸­å¿ƒ-Zookeeper.html.7645693f.js" as="script" /><link rel="prefetch" href="/assets/6. ä½¿ç”¨ Zookeeper.html.4673d731.js" as="script" /><link rel="prefetch" href="/assets/7. Dubbo çš„é…ç½®.html.a6478fa5.js" as="script" /><link rel="prefetch" href="/assets/8. ç›‘æ§ä¸­å¿ƒ.html.04dee71c.js" as="script" /><link rel="prefetch" href="/assets/index.html.0af87853.js" as="script" /><link rel="prefetch" href="/assets/index.html.21dfd148.js" as="script" /><link rel="prefetch" href="/assets/1. Javaè¯­è¨€æ¦‚è¿°ä¸å¼€å‘ç¯å¢ƒ.html.52ed6b2f.js" as="script" /><link rel="prefetch" href="/assets/10. é¢å‘å¯¹è±¡ï¼ˆä¸‹ï¼‰.html.3d3a0fe8.js" as="script" /><link rel="prefetch" href="/assets/11. ä¸è¿è¡Œç¯å¢ƒäº¤äº’.html.cb8fdce5.js" as="script" /><link rel="prefetch" href="/assets/12. Javaé›†åˆ.html.609aab68.js" as="script" /><link rel="prefetch" href="/assets/13. æ³›å‹.html.59a4f62a.js" as="script" /><link rel="prefetch" href="/assets/14. å‡½æ•°å¼ç¼–ç¨‹.html.b3445c56.js" as="script" /><link rel="prefetch" href="/assets/15. å¼‚å¸¸å¤„ç†.html.7d50f802.js" as="script" /><link rel="prefetch" href="/assets/16. æ³¨è§£.html.3f96b0c6.js" as="script" /><link rel="prefetch" href="/assets/17. IOæµ.html.36453993.js" as="script" /><link rel="prefetch" href="/assets/18. å¤šçº¿ç¨‹.html.13af2cc6.js" as="script" /><link rel="prefetch" href="/assets/2. ç¬¬ä¸€ä¸ªjavaç¨‹åº.html.d4c59790.js" as="script" /><link rel="prefetch" href="/assets/3. Javaç¨‹åºçš„åŸºæœ¬è§„åˆ™.html.f3b03ffc.js" as="script" /><link rel="prefetch" href="/assets/4. æ•°æ®ç±»å‹.html.6387e416.js" as="script" /><link rel="prefetch" href="/assets/5. è¿ç®—ç¬¦.html.de055abd.js" as="script" /><link rel="prefetch" href="/assets/6. æµç¨‹æ§åˆ¶.html.1626c798.js" as="script" /><link rel="prefetch" href="/assets/7. é¢å‘å¯¹è±¡ï¼ˆä¸Šï¼‰.html.bf0e40e3.js" as="script" /><link rel="prefetch" href="/assets/8. æ•°ç»„.html.114216b4.js" as="script" /><link rel="prefetch" href="/assets/9. æ•°ç»„çš„å¸¸è§ç®—æ³•.html.14bbcf95.js" as="script" /><link rel="prefetch" href="/assets/1. VMware.html.9331a7f9.js" as="script" /><link rel="prefetch" href="/assets/2. æ–‡ä»¶ç®¡ç†.html.6205a3a9.js" as="script" /><link rel="prefetch" href="/assets/3. ç³»ç»Ÿç®¡ç†.html.5ad3b3fa.js" as="script" /><link rel="prefetch" href="/assets/4. ç”¨æˆ·å’Œç»„.html.93a45eef.js" as="script" /><link rel="prefetch" href="/assets/5. è½¯ä»¶åŒ…ç®¡ç†.html.602c3e52.js" as="script" /><link rel="prefetch" href="/assets/6. JavaEEç¯å¢ƒæ­å»º.html.2f4dd371.js" as="script" /><link rel="prefetch" href="/assets/index.html.35f1d957.js" as="script" /><link rel="prefetch" href="/assets/1. åˆ›å»ºä¸ç®¡ç†æ•°æ®åº“.html.be813f81.js" as="script" /><link rel="prefetch" href="/assets/2. åˆ›å»ºä¸ç®¡ç†æ•°æ®è¡¨.html.6aae59ee.js" as="script" /><link rel="prefetch" href="/assets/3. çº¦æŸç®¡ç†.html.937e756f.js" as="script" /><link rel="prefetch" href="/assets/4. æ•°æ®è¡¨çš„åŸºæœ¬æ“ä½œ.html.9ef4ca43.js" as="script" /><link rel="prefetch" href="/assets/5. è§†å›¾.html.49d2aaca.js" as="script" /><link rel="prefetch" href="/assets/6. ç´¢å¼•.html.9f8e78a0.js" as="script" /><link rel="prefetch" href="/assets/7. äº‹åŠ¡.html.fe23f983.js" as="script" /><link rel="prefetch" href="/assets/1. å‡†å¤‡.html.51d9158d.js" as="script" /><link rel="prefetch" href="/assets/10. æ³¨è§£.html.c5847fbe.js" as="script" /><link rel="prefetch" href="/assets/11. å¤æ‚æŸ¥è¯¢ç¯å¢ƒæ­å»º.html.c4385df3.js" as="script" /><link rel="prefetch" href="/assets/12. åŠ¨æ€ SQL.html.64073815.js" as="script" /><link rel="prefetch" href="/assets/2. ä½¿ç”¨.html.a12f8c82.js" as="script" /><link rel="prefetch" href="/assets/3. ä¸»è¦ç±»ä»‹ç».html.495d676c.js" as="script" /><link rel="prefetch" href="/assets/4. é…ç½®æ–‡ä»¶è¯¦è§£.html.050a881b.js" as="script" /><link rel="prefetch" href="/assets/5. CRUD.html.ac65a8e6.js" as="script" /><link rel="prefetch" href="/assets/6. é…ç½® environments.html.57b86290.js" as="script" /><link rel="prefetch" href="/assets/7. ResultMap ç»“æœé›†æ˜ å°„.html.0daa1932.js" as="script" /><link rel="prefetch" href="/assets/8. æ—¥å¿—.html.e4e6af2a.js" as="script" /><link rel="prefetch" href="/assets/9. åˆ†é¡µ.html.a75ef80a.js" as="script" /><link rel="prefetch" href="/assets/index.html.1378d8f0.js" as="script" /><link rel="prefetch" href="/assets/1. Vue æ ¸å¿ƒ.html.897b9340.js" as="script" /><link rel="prefetch" href="/assets/2. ç»„ä»¶åŒ–ç¼–ç¨‹.html.a40a8955.js" as="script" /><link rel="prefetch" href="/assets/3. è„šæ‰‹æ¶.html.14171007.js" as="script" /><link rel="prefetch" href="/assets/index.html.9580dc3f.js" as="script" /><link rel="prefetch" href="/assets/index.html.936b03cc.js" as="script" /><link rel="prefetch" href="/assets/0. Maven.html.d586cccf.js" as="script" /><link rel="prefetch" href="/assets/1. HTML.html.e03ce7ef.js" as="script" /><link rel="prefetch" href="/assets/10. JavaBean.html.86c77912.js" as="script" /><link rel="prefetch" href="/assets/11. MVC æ¨¡å¼ä¸ä¸‰å±‚æ¶æ„çš„åŒºåˆ«.html.2f01f6f7.js" as="script" /><link rel="prefetch" href="/assets/12. Filter.html.7396bdb6.js" as="script" /><link rel="prefetch" href="/assets/13. ç›‘å¬å™¨.html.d78434f6.js" as="script" /><link rel="prefetch" href="/assets/14. JDBC.html.a045057e.js" as="script" /><link rel="prefetch" href="/assets/15. Ajax.html.1eb3a77a.js" as="script" /><link rel="prefetch" href="/assets/2. CSS.html.1cca7498.js" as="script" /><link rel="prefetch" href="/assets/3. JavaScript.html.7fd2af7e.js" as="script" /><link rel="prefetch" href="/assets/4. jQuery.html.893c1fc3.js" as="script" /><link rel="prefetch" href="/assets/5. xml å’Œ json.html.7403dc03.js" as="script" /><link rel="prefetch" href="/assets/6. tomcat.html.0dca1d95.js" as="script" /><link rel="prefetch" href="/assets/7. Servlet.html.8737c0da.js" as="script" /><link rel="prefetch" href="/assets/8. Cookie å’Œ Session.html.e713076f.js" as="script" /><link rel="prefetch" href="/assets/9. JSP.html.944ec6db.js" as="script" /><link rel="prefetch" href="/assets/Cookie å­˜ JSON.html.474f2ced.js" as="script" /><link rel="prefetch" href="/assets/SSMç¯å¢ƒæ­å»º.html.dd4974c1.js" as="script" /><link rel="prefetch" href="/assets/TypeReference è·å–æ³›å‹å±æ€§.html.c7838b41.js" as="script" /><link rel="prefetch" href="/assets/XXmappingæ³¨è§£.html.3bb9d232.js" as="script" /><link rel="prefetch" href="/assets/index.html.851eb02e.js" as="script" /><link rel="prefetch" href="/assets/åŸæ¥ @Autowired æ³¨è§£è¿˜å¯ä»¥è¿™ä¹ˆç©ï¼Ÿ.html.353c2766.js" as="script" /><link rel="prefetch" href="/assets/å¤„ç†å™¨æ–¹æ³•çš„è¿”å›å€¼.html.64e1c9da.js" as="script" /><link rel="prefetch" href="/assets/è¯·æ±‚è½¬å‘ä¸è¯·æ±‚é‡å®šå‘.html.c6182f64.js" as="script" /><link rel="prefetch" href="/assets/ç”¨æˆ·ä¸­å¿ƒ.html.9e210a1a.js" as="script" /><link rel="prefetch" href="/assets/1. Redis å¸¸è§å‘½ä»¤.html.d3a5c5e7.js" as="script" /><link rel="prefetch" href="/assets/2. Redis çš„ Java å®¢æˆ·ç«¯.html.ade96c62.js" as="script" /><link rel="prefetch" href="/assets/index.html.b2424a5f.js" as="script" /><link rel="prefetch" href="/assets/1. çŸ­ä¿¡ç™»å½•.html.9dd1618b.js" as="script" /><link rel="prefetch" href="/assets/10. ç”¨æˆ·ç­¾åˆ°.html.95710012.js" as="script" /><link rel="prefetch" href="/assets/11. UVç»Ÿè®¡.html.df53bc01.js" as="script" /><link rel="prefetch" href="/assets/2. å•†æˆ·æŸ¥è¯¢ç¼“å­˜.html.8b90cdc9.js" as="script" /><link rel="prefetch" href="/assets/3. ä¼˜æƒ åˆ¸ç§’æ€.html.d2b36f00.js" as="script" /><link rel="prefetch" href="/assets/4. åˆ†å¸ƒå¼é”.html.6eb51135.js" as="script" /><link rel="prefetch" href="/assets/5. ç§’æ€ä¼˜åŒ–.html.e29f9325.js" as="script" /><link rel="prefetch" href="/assets/6. Redis æ¶ˆæ¯é˜Ÿåˆ—.html.58b11081.js" as="script" /><link rel="prefetch" href="/assets/7. è¾¾äººæ¢åº—.html.15283fb3.js" as="script" /><link rel="prefetch" href="/assets/8. å¥½å‹å…³æ³¨.html.ca2bf578.js" as="script" /><link rel="prefetch" href="/assets/9. é™„è¿‘å•†æˆ·.html.1390ee4b.js" as="script" /><link rel="prefetch" href="/assets/1. IOC.html.87228202.js" as="script" /><link rel="prefetch" href="/assets/10. æ•´åˆ Mybatis.html.7d6738ea.js" as="script" /><link rel="prefetch" href="/assets/11. äº‹åŠ¡.html.43bb8b71.js" as="script" /><link rel="prefetch" href="/assets/12.  web é¡¹ç›®ä¸­ä½¿ç”¨å®¹å™¨å¯¹è±¡.html.a8c1a8bf.js" as="script" /><link rel="prefetch" href="/assets/2. Springåˆ›å»ºå¯¹è±¡.html.1360790c.js" as="script" /><link rel="prefetch" href="/assets/3. DI ä¾èµ–æ³¨å…¥.html.d4418271.js" as="script" /><link rel="prefetch" href="/assets/4. Spring é…ç½®.html.0998fb85.js" as="script" /><link rel="prefetch" href="/assets/5. Bean è‡ªåŠ¨è£…é….html.fe499b6e.js" as="script" /><link rel="prefetch" href="/assets/6. ä½¿ç”¨æ³¨è§£å¼€å‘.html.eb5099a7.js" as="script" /><link rel="prefetch" href="/assets/7. ä½¿ç”¨ java æ–¹å¼é…ç½® Spring.html.b042261d.js" as="script" /><link rel="prefetch" href="/assets/8. ä»£ç†æ¨¡å¼.html.c923854c.js" as="script" /><link rel="prefetch" href="/assets/9. Spring AOP.html.fad06f5f.js" as="script" /><link rel="prefetch" href="/assets/1. SpringBoot.html.35e21656.js" as="script" /><link rel="prefetch" href="/assets/2. JavaConfig.html.bee42eb0.js" as="script" /><link rel="prefetch" href="/assets/3. Webç»„ä»¶.html.8abc0ea2.js" as="script" /><link rel="prefetch" href="/assets/4. ORM æ“ä½œ MySQL.html.864a691e.js" as="script" /><link rel="prefetch" href="/assets/5. RESTful.html.dbc1c1f0.js" as="script" /><link rel="prefetch" href="/assets/6. æ€»ç»“.html.0be788f3.js" as="script" /><link rel="prefetch" href="/assets/index.html.c9458b88.js" as="script" /><link rel="prefetch" href="/assets/1. ç¬¬ä¸€ä¸ªSpringMVCç¨‹åº.html.11d96af4.js" as="script" /><link rel="prefetch" href="/assets/10. æ‹¦æˆªå™¨.html.aef5aec4.js" as="script" /><link rel="prefetch" href="/assets/2. é…ç½®è§†å›¾è§£æå™¨.html.c08e152f.js" as="script" /><link rel="prefetch" href="/assets/3. æ§åˆ¶è¯·æ±‚æ–¹å¼.html.2e3fbab4.js" as="script" /><link rel="prefetch" href="/assets/4. å¤„ç†å™¨æ–¹æ³•çš„å‚æ•°.html.53854fdf.js" as="script" /><link rel="prefetch" href="/assets/5. å¤„ç†å™¨æ–¹æ³•çš„è¿”å›å€¼.html.23b3d636.js" as="script" /><link rel="prefetch" href="/assets/6. url-pattern.html.6ba5e6af.js" as="script" /><link rel="prefetch" href="/assets/7. SSMæ•´åˆ.html.3659fdb0.js" as="script" /><link rel="prefetch" href="/assets/8. è¯·æ±‚é‡å®šå‘å’Œè½¬å‘.html.b0723fca.js" as="script" /><link rel="prefetch" href="/assets/9. å¼‚å¸¸å¤„ç†.html.cc763a84.js" as="script" /><link rel="prefetch" href="/assets/index.html.87086d12.js" as="script" /><link rel="prefetch" href="/assets/404.html.326b14c4.js" as="script" /><link rel="prefetch" href="/assets/index.html.1a3b71b5.js" as="script" /><link rel="prefetch" href="/assets/index.html.1b974156.js" as="script" /><link rel="prefetch" href="/assets/index.html.651691e2.js" as="script" /><link rel="prefetch" href="/assets/index.html.e2606eb8.js" as="script" /><link rel="prefetch" href="/assets/index.html.735c2dab.js" as="script" /><link rel="prefetch" href="/assets/index.html.89fb31a6.js" as="script" /><link rel="prefetch" href="/assets/index.html.bc3d2b77.js" as="script" /><link rel="prefetch" href="/assets/index.html.25880373.js" as="script" /><link rel="prefetch" href="/assets/index.html.4072d6ac.js" as="script" /><link rel="prefetch" href="/assets/index.html.1e23b2a6.js" as="script" /><link rel="prefetch" href="/assets/index.html.7ac11d6e.js" as="script" /><link rel="prefetch" href="/assets/index.html.019f9158.js" as="script" /><link rel="prefetch" href="/assets/index.html.db5e3287.js" as="script" /><link rel="prefetch" href="/assets/index.html.d70ec3fa.js" as="script" /><link rel="prefetch" href="/assets/index.html.4722db9f.js" as="script" /><link rel="prefetch" href="/assets/index.html.940fce9f.js" as="script" /><link rel="prefetch" href="/assets/index.html.b1c40ad6.js" as="script" /><link rel="prefetch" href="/assets/index.html.f0db9e83.js" as="script" /><link rel="prefetch" href="/assets/index.html.c363841e.js" as="script" /><link rel="prefetch" href="/assets/index.html.565f195f.js" as="script" /><link rel="prefetch" href="/assets/index.html.7588c70e.js" as="script" /><link rel="prefetch" href="/assets/1. Dubbo æ¡†æ¶.html.af44bc89.js" as="script" /><link rel="prefetch" href="/assets/2. ç›´è¿æ–¹å¼.html.02f6afb3.js" as="script" /><link rel="prefetch" href="/assets/3. æ”¹é€  Dubbo é¡¹ç›®.html.2ad7990e.js" as="script" /><link rel="prefetch" href="/assets/4. å¸¸ç”¨æ ‡ç­¾.html.1e436c06.js" as="script" /><link rel="prefetch" href="/assets/5. æ³¨å†Œä¸­å¿ƒ-Zookeeper.html.6d15bb56.js" as="script" /><link rel="prefetch" href="/assets/6. ä½¿ç”¨ Zookeeper.html.a4c2c311.js" as="script" /><link rel="prefetch" href="/assets/7. Dubbo çš„é…ç½®.html.9242bbb0.js" as="script" /><link rel="prefetch" href="/assets/8. ç›‘æ§ä¸­å¿ƒ.html.1503e235.js" as="script" /><link rel="prefetch" href="/assets/index.html.b74957b2.js" as="script" /><link rel="prefetch" href="/assets/index.html.5f35f95a.js" as="script" /><link rel="prefetch" href="/assets/1. Javaè¯­è¨€æ¦‚è¿°ä¸å¼€å‘ç¯å¢ƒ.html.f1b337df.js" as="script" /><link rel="prefetch" href="/assets/10. é¢å‘å¯¹è±¡ï¼ˆä¸‹ï¼‰.html.44397410.js" as="script" /><link rel="prefetch" href="/assets/11. ä¸è¿è¡Œç¯å¢ƒäº¤äº’.html.a14fcf82.js" as="script" /><link rel="prefetch" href="/assets/12. Javaé›†åˆ.html.9c42f07f.js" as="script" /><link rel="prefetch" href="/assets/13. æ³›å‹.html.49ab1d8a.js" as="script" /><link rel="prefetch" href="/assets/14. å‡½æ•°å¼ç¼–ç¨‹.html.6253eb06.js" as="script" /><link rel="prefetch" href="/assets/15. å¼‚å¸¸å¤„ç†.html.e3e199db.js" as="script" /><link rel="prefetch" href="/assets/16. æ³¨è§£.html.4bd2395e.js" as="script" /><link rel="prefetch" href="/assets/17. IOæµ.html.9440638e.js" as="script" /><link rel="prefetch" href="/assets/18. å¤šçº¿ç¨‹.html.1a7bc176.js" as="script" /><link rel="prefetch" href="/assets/2. ç¬¬ä¸€ä¸ªjavaç¨‹åº.html.c23ff96a.js" as="script" /><link rel="prefetch" href="/assets/3. Javaç¨‹åºçš„åŸºæœ¬è§„åˆ™.html.b80b1cd1.js" as="script" /><link rel="prefetch" href="/assets/4. æ•°æ®ç±»å‹.html.8d324abf.js" as="script" /><link rel="prefetch" href="/assets/5. è¿ç®—ç¬¦.html.f0869a5e.js" as="script" /><link rel="prefetch" href="/assets/6. æµç¨‹æ§åˆ¶.html.7702e5ff.js" as="script" /><link rel="prefetch" href="/assets/7. é¢å‘å¯¹è±¡ï¼ˆä¸Šï¼‰.html.c15335a4.js" as="script" /><link rel="prefetch" href="/assets/8. æ•°ç»„.html.c477dd1f.js" as="script" /><link rel="prefetch" href="/assets/9. æ•°ç»„çš„å¸¸è§ç®—æ³•.html.574388d7.js" as="script" /><link rel="prefetch" href="/assets/1. VMware.html.dbd37c65.js" as="script" /><link rel="prefetch" href="/assets/2. æ–‡ä»¶ç®¡ç†.html.42172103.js" as="script" /><link rel="prefetch" href="/assets/3. ç³»ç»Ÿç®¡ç†.html.ea97f295.js" as="script" /><link rel="prefetch" href="/assets/4. ç”¨æˆ·å’Œç»„.html.da04ab54.js" as="script" /><link rel="prefetch" href="/assets/5. è½¯ä»¶åŒ…ç®¡ç†.html.9188984b.js" as="script" /><link rel="prefetch" href="/assets/6. JavaEEç¯å¢ƒæ­å»º.html.a7d89cec.js" as="script" /><link rel="prefetch" href="/assets/index.html.8744b37e.js" as="script" /><link rel="prefetch" href="/assets/1. åˆ›å»ºä¸ç®¡ç†æ•°æ®åº“.html.bb907c0a.js" as="script" /><link rel="prefetch" href="/assets/2. åˆ›å»ºä¸ç®¡ç†æ•°æ®è¡¨.html.5abe1578.js" as="script" /><link rel="prefetch" href="/assets/3. çº¦æŸç®¡ç†.html.4f3ca4db.js" as="script" /><link rel="prefetch" href="/assets/4. æ•°æ®è¡¨çš„åŸºæœ¬æ“ä½œ.html.527f8367.js" as="script" /><link rel="prefetch" href="/assets/5. è§†å›¾.html.62a466a1.js" as="script" /><link rel="prefetch" href="/assets/6. ç´¢å¼•.html.d407a829.js" as="script" /><link rel="prefetch" href="/assets/7. äº‹åŠ¡.html.56891aea.js" as="script" /><link rel="prefetch" href="/assets/1. å‡†å¤‡.html.dd2d9430.js" as="script" /><link rel="prefetch" href="/assets/10. æ³¨è§£.html.d879387a.js" as="script" /><link rel="prefetch" href="/assets/11. å¤æ‚æŸ¥è¯¢ç¯å¢ƒæ­å»º.html.9d7d2e8e.js" as="script" /><link rel="prefetch" href="/assets/12. åŠ¨æ€ SQL.html.e0e47586.js" as="script" /><link rel="prefetch" href="/assets/2. ä½¿ç”¨.html.36bcfa5e.js" as="script" /><link rel="prefetch" href="/assets/3. ä¸»è¦ç±»ä»‹ç».html.f8ea32b1.js" as="script" /><link rel="prefetch" href="/assets/4. é…ç½®æ–‡ä»¶è¯¦è§£.html.82a5f138.js" as="script" /><link rel="prefetch" href="/assets/5. CRUD.html.314a1708.js" as="script" /><link rel="prefetch" href="/assets/6. é…ç½® environments.html.ead812b2.js" as="script" /><link rel="prefetch" href="/assets/7. ResultMap ç»“æœé›†æ˜ å°„.html.3e5e4235.js" as="script" /><link rel="prefetch" href="/assets/8. æ—¥å¿—.html.1e3948ff.js" as="script" /><link rel="prefetch" href="/assets/9. åˆ†é¡µ.html.2a57375f.js" as="script" /><link rel="prefetch" href="/assets/index.html.7df7ec41.js" as="script" /><link rel="prefetch" href="/assets/1. Vue æ ¸å¿ƒ.html.8da74229.js" as="script" /><link rel="prefetch" href="/assets/2. ç»„ä»¶åŒ–ç¼–ç¨‹.html.0e93d431.js" as="script" /><link rel="prefetch" href="/assets/3. è„šæ‰‹æ¶.html.02101b10.js" as="script" /><link rel="prefetch" href="/assets/index.html.af8dfed9.js" as="script" /><link rel="prefetch" href="/assets/index.html.5b39284b.js" as="script" /><link rel="prefetch" href="/assets/0. Maven.html.79269f71.js" as="script" /><link rel="prefetch" href="/assets/1. HTML.html.1a3ad2de.js" as="script" /><link rel="prefetch" href="/assets/10. JavaBean.html.1d39e5f6.js" as="script" /><link rel="prefetch" href="/assets/11. MVC æ¨¡å¼ä¸ä¸‰å±‚æ¶æ„çš„åŒºåˆ«.html.627a8454.js" as="script" /><link rel="prefetch" href="/assets/12. Filter.html.284de18f.js" as="script" /><link rel="prefetch" href="/assets/13. ç›‘å¬å™¨.html.55fa24f7.js" as="script" /><link rel="prefetch" href="/assets/14. JDBC.html.e9454675.js" as="script" /><link rel="prefetch" href="/assets/15. Ajax.html.48e86595.js" as="script" /><link rel="prefetch" href="/assets/2. CSS.html.79acdc14.js" as="script" /><link rel="prefetch" href="/assets/3. JavaScript.html.407cc3fb.js" as="script" /><link rel="prefetch" href="/assets/4. jQuery.html.07ddeadb.js" as="script" /><link rel="prefetch" href="/assets/5. xml å’Œ json.html.268b2bcb.js" as="script" /><link rel="prefetch" href="/assets/6. tomcat.html.166bba7e.js" as="script" /><link rel="prefetch" href="/assets/7. Servlet.html.a379aa64.js" as="script" /><link rel="prefetch" href="/assets/8. Cookie å’Œ Session.html.a8faa858.js" as="script" /><link rel="prefetch" href="/assets/9. JSP.html.6d9401b8.js" as="script" /><link rel="prefetch" href="/assets/Cookie å­˜ JSON.html.14718a3d.js" as="script" /><link rel="prefetch" href="/assets/SSMç¯å¢ƒæ­å»º.html.0a5c8c26.js" as="script" /><link rel="prefetch" href="/assets/TypeReference è·å–æ³›å‹å±æ€§.html.d5589da5.js" as="script" /><link rel="prefetch" href="/assets/XXmappingæ³¨è§£.html.26737cbd.js" as="script" /><link rel="prefetch" href="/assets/index.html.1e643b69.js" as="script" /><link rel="prefetch" href="/assets/åŸæ¥ @Autowired æ³¨è§£è¿˜å¯ä»¥è¿™ä¹ˆç©ï¼Ÿ.html.16d21319.js" as="script" /><link rel="prefetch" href="/assets/å¤„ç†å™¨æ–¹æ³•çš„è¿”å›å€¼.html.153642aa.js" as="script" /><link rel="prefetch" href="/assets/è¯·æ±‚è½¬å‘ä¸è¯·æ±‚é‡å®šå‘.html.0261497b.js" as="script" /><link rel="prefetch" href="/assets/ç”¨æˆ·ä¸­å¿ƒ.html.63340c81.js" as="script" /><link rel="prefetch" href="/assets/1. Redis å¸¸è§å‘½ä»¤.html.91cecabf.js" as="script" /><link rel="prefetch" href="/assets/2. Redis çš„ Java å®¢æˆ·ç«¯.html.c7ce0c17.js" as="script" /><link rel="prefetch" href="/assets/index.html.030619b3.js" as="script" /><link rel="prefetch" href="/assets/1. çŸ­ä¿¡ç™»å½•.html.e7264ab5.js" as="script" /><link rel="prefetch" href="/assets/10. ç”¨æˆ·ç­¾åˆ°.html.edbca09f.js" as="script" /><link rel="prefetch" href="/assets/11. UVç»Ÿè®¡.html.4cdd6279.js" as="script" /><link rel="prefetch" href="/assets/2. å•†æˆ·æŸ¥è¯¢ç¼“å­˜.html.c1fe4728.js" as="script" /><link rel="prefetch" href="/assets/3. ä¼˜æƒ åˆ¸ç§’æ€.html.27f9c032.js" as="script" /><link rel="prefetch" href="/assets/4. åˆ†å¸ƒå¼é”.html.8d99ab8e.js" as="script" /><link rel="prefetch" href="/assets/5. ç§’æ€ä¼˜åŒ–.html.5bca1800.js" as="script" /><link rel="prefetch" href="/assets/6. Redis æ¶ˆæ¯é˜Ÿåˆ—.html.e9b5791e.js" as="script" /><link rel="prefetch" href="/assets/7. è¾¾äººæ¢åº—.html.9752debb.js" as="script" /><link rel="prefetch" href="/assets/8. å¥½å‹å…³æ³¨.html.ae2e613b.js" as="script" /><link rel="prefetch" href="/assets/9. é™„è¿‘å•†æˆ·.html.66ca298f.js" as="script" /><link rel="prefetch" href="/assets/1. IOC.html.86207154.js" as="script" /><link rel="prefetch" href="/assets/10. æ•´åˆ Mybatis.html.b4669578.js" as="script" /><link rel="prefetch" href="/assets/11. äº‹åŠ¡.html.f886f853.js" as="script" /><link rel="prefetch" href="/assets/12.  web é¡¹ç›®ä¸­ä½¿ç”¨å®¹å™¨å¯¹è±¡.html.509c79df.js" as="script" /><link rel="prefetch" href="/assets/2. Springåˆ›å»ºå¯¹è±¡.html.d1048216.js" as="script" /><link rel="prefetch" href="/assets/3. DI ä¾èµ–æ³¨å…¥.html.810f22ad.js" as="script" /><link rel="prefetch" href="/assets/4. Spring é…ç½®.html.9a8cb40b.js" as="script" /><link rel="prefetch" href="/assets/5. Bean è‡ªåŠ¨è£…é….html.99c56475.js" as="script" /><link rel="prefetch" href="/assets/6. ä½¿ç”¨æ³¨è§£å¼€å‘.html.c069bb28.js" as="script" /><link rel="prefetch" href="/assets/7. ä½¿ç”¨ java æ–¹å¼é…ç½® Spring.html.482f0708.js" as="script" /><link rel="prefetch" href="/assets/8. ä»£ç†æ¨¡å¼.html.e052f842.js" as="script" /><link rel="prefetch" href="/assets/9. Spring AOP.html.1e88366f.js" as="script" /><link rel="prefetch" href="/assets/1. SpringBoot.html.69fcc7c2.js" as="script" /><link rel="prefetch" href="/assets/2. JavaConfig.html.d3ca8ce8.js" as="script" /><link rel="prefetch" href="/assets/3. Webç»„ä»¶.html.96a18166.js" as="script" /><link rel="prefetch" href="/assets/4. ORM æ“ä½œ MySQL.html.aee2204e.js" as="script" /><link rel="prefetch" href="/assets/5. RESTful.html.558f8ef6.js" as="script" /><link rel="prefetch" href="/assets/6. æ€»ç»“.html.31fc7c9f.js" as="script" /><link rel="prefetch" href="/assets/index.html.230e5590.js" as="script" /><link rel="prefetch" href="/assets/1. ç¬¬ä¸€ä¸ªSpringMVCç¨‹åº.html.ed762e6f.js" as="script" /><link rel="prefetch" href="/assets/10. æ‹¦æˆªå™¨.html.699c2568.js" as="script" /><link rel="prefetch" href="/assets/2. é…ç½®è§†å›¾è§£æå™¨.html.267f20da.js" as="script" /><link rel="prefetch" href="/assets/3. æ§åˆ¶è¯·æ±‚æ–¹å¼.html.6a8e8159.js" as="script" /><link rel="prefetch" href="/assets/4. å¤„ç†å™¨æ–¹æ³•çš„å‚æ•°.html.dfe00015.js" as="script" /><link rel="prefetch" href="/assets/5. å¤„ç†å™¨æ–¹æ³•çš„è¿”å›å€¼.html.d884af8a.js" as="script" /><link rel="prefetch" href="/assets/6. url-pattern.html.1b4928b4.js" as="script" /><link rel="prefetch" href="/assets/7. SSMæ•´åˆ.html.e991a165.js" as="script" /><link rel="prefetch" href="/assets/8. è¯·æ±‚é‡å®šå‘å’Œè½¬å‘.html.bbbd73a9.js" as="script" /><link rel="prefetch" href="/assets/9. å¼‚å¸¸å¤„ç†.html.4d4c1c69.js" as="script" /><link rel="prefetch" href="/assets/index.html.b71d3760.js" as="script" /><link rel="prefetch" href="/assets/404.html.876e41eb.js" as="script" /><link rel="prefetch" href="/assets/index.html.71e7787a.js" as="script" /><link rel="prefetch" href="/assets/index.html.2f39d438.js" as="script" /><link rel="prefetch" href="/assets/index.html.75d77054.js" as="script" /><link rel="prefetch" href="/assets/index.html.9ab1bac9.js" as="script" /><link rel="prefetch" href="/assets/index.html.e00c074c.js" as="script" /><link rel="prefetch" href="/assets/index.html.65d07c82.js" as="script" /><link rel="prefetch" href="/assets/index.html.54ea548a.js" as="script" /><link rel="prefetch" href="/assets/index.html.990bbdf5.js" as="script" /><link rel="prefetch" href="/assets/index.html.99dde5cf.js" as="script" /><link rel="prefetch" href="/assets/index.html.175fa01a.js" as="script" /><link rel="prefetch" href="/assets/index.html.2a91ce45.js" as="script" /><link rel="prefetch" href="/assets/index.html.17b01dfe.js" as="script" /><link rel="prefetch" href="/assets/index.html.9f2db901.js" as="script" /><link rel="prefetch" href="/assets/index.html.7d3516fa.js" as="script" /><link rel="prefetch" href="/assets/index.html.e085d508.js" as="script" /><link rel="prefetch" href="/assets/index.html.17d347ec.js" as="script" /><link rel="prefetch" href="/assets/index.html.339d82ca.js" as="script" /><link rel="prefetch" href="/assets/index.html.34aa697b.js" as="script" /><link rel="prefetch" href="/assets/index.html.67c53e5a.js" as="script" /><link rel="prefetch" href="/assets/index.html.1aa7c681.js" as="script" /><link rel="prefetch" href="/assets/photoswipe.esm.09e03fed.js" as="script" />
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">Skip to content</a><!--]--><div class="theme-container has-toc"><!--[--><!--[--><header class="navbar"><div class="navbar-left"><button class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><a href="/" class="brand"><img class="logo" src="/logo.svg" alt="ç©º~"><!----><span class="site-name hide-in-pad">ç©º~</span></a><!--[--><!----><!--]--></div><div class="navbar-center"><!--[--><!----><!--]--><nav class="nav-links"><div class="nav-item hide-in-mobile"><a href="/" class="nav-link" aria-label="ä¸»é¡µ"><span class="icon iconfont icon-home"></span>ä¸»é¡µ<!----></a></div><div class="nav-item hide-in-mobile"><a href="/docs/guide/" class="nav-link" aria-label="å­¦ä¹ æŒ‡å—"><span class="icon iconfont icon-creative"></span>å­¦ä¹ æŒ‡å—<!----></a></div><div class="nav-item hide-in-mobile"><a href="/docs/Java/1.%20Java%E8%AF%AD%E8%A8%80%E6%A6%82%E8%BF%B0%E4%B8%8E%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83.html" class="nav-link" aria-label="JavaSE"><span class="icon iconfont icon-java"></span>JavaSE<!----></a></div><div class="nav-item hide-in-mobile"><a href="/docs/MySQL/1.%20%E5%88%9B%E5%BB%BA%E4%B8%8E%E7%AE%A1%E7%90%86%E6%95%B0%E6%8D%AE%E5%BA%93.html" class="nav-link" aria-label="MySQL"><span class="icon iconfont icon-mysql"></span>MySQL<!----></a></div><div class="nav-item hide-in-mobile"><a href="/docs/javaWeb/0.%20Maven.html" class="nav-link" aria-label="JavaWeb"><span class="icon iconfont icon-Apache"></span>JavaWeb<!----></a></div><div class="nav-item hide-in-mobile"><a href="/docs/Mybatis/" class="nav-link" aria-label="Mybatis"><span class="icon iconfont icon-stack"></span>Mybatis<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Springç³»åˆ—"><span class="title"><span class="icon iconfont icon-stack"></span>Springç³»åˆ—</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/docs/Spring%E7%B3%BB%E5%88%97/Spring/1.%20IOC.html" class="nav-link" aria-label="Spring"><span class="icon iconfont icon-module"></span>Spring<!----></a></li><li class="dropdown-item"><a href="/docs/Spring%E7%B3%BB%E5%88%97/SpringMVC/" class="nav-link" aria-label="SpringMVC"><span class="icon iconfont icon-module"></span>SpringMVC<!----></a></li><li class="dropdown-item"><a href="/docs/Spring%E7%B3%BB%E5%88%97/SpringBoot/" class="nav-link" aria-label="SpringBoot"><span class="icon iconfont icon-module"></span>SpringBoot<!----></a></li><li class="dropdown-item"><a href="/docs/Springç³»åˆ—/SpringCloud/" class="nav-link" aria-label="SpringCloud"><span class="icon iconfont icon-module"></span>SpringCloud<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><a href="/docs/Vue/" class="nav-link" aria-label="Vue"><span class="icon iconfont icon-vue"></span>Vue<!----></a></div><div class="nav-item hide-in-mobile"><a href="/docs/Linux/" class="nav-link" aria-label="Linux"><span class="icon iconfont icon-linux"></span>Linux<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Redis"><span class="title"><span class="icon iconfont icon-redis"></span>Redis</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/docs/Redis/Redis%20%E5%9F%BA%E7%A1%80/" class="nav-link" aria-label="Redis åŸºç¡€"><span class="icon iconfont icon-redis"></span>Redis åŸºç¡€<!----></a></li><li class="dropdown-item"><a href="/docs/Redis/Redis%20%E5%AE%9E%E6%88%98/1.%20%E7%9F%AD%E4%BF%A1%E7%99%BB%E5%BD%95.html" class="nav-link" aria-label="Redis å®æˆ˜"><span class="icon iconfont icon-redis"></span>Redis å®æˆ˜<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><a href="/docs/Dubbo/" class="nav-link" aria-label="Dubbo"><span class="icon iconfont icon-tool"></span>Dubbo<!----></a></div><div class="nav-item hide-in-mobile"><a href="/docs/%E5%B0%8F%E8%AE%B0/" class="nav-link" aria-label="å°è®°"><span class="icon iconfont icon-write"></span>å°è®°<!----></a></div></nav><!--[--><!----><!--]--></div><div class="navbar-right"><!--[--><!----><!--]--><!----><div class="nav-item"><a class="repo-link" href="https://github.com/SurplusFate/SurplusFate.github.io" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button class="outlook-button" tabindex="-1" ariahidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon outlook-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="outlook icon"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4 38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32 51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0 102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2 6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4 0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2 9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224 419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4 470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0 22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6 12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128 505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2 16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8 86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4 80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6 6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg><div class="outlook-dropdown"><!----></div></button></div><form class="search-box" role="search"><input type="search" placeholder="Search" autocomplete="off" spellcheck="false" value><!----></form><!--[--><!----><!--]--><button class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow left"></span></div><aside class="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"><li><!--[--><a href="/docs/Java/1.%20Java%E8%AF%AD%E8%A8%80%E6%A6%82%E8%BF%B0%E4%B8%8E%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83.html" class="nav-link sidebar-link sidebar-page" aria-label="1. Java è¯­è¨€æ¦‚è¿°ä¸å¼€å‘ç¯å¢ƒ"><span class="icon iconfont icon-note"></span>1. Java è¯­è¨€æ¦‚è¿°ä¸å¼€å‘ç¯å¢ƒ<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/Java/2.%20%E7%AC%AC%E4%B8%80%E4%B8%AAjava%E7%A8%8B%E5%BA%8F.html" class="nav-link sidebar-link sidebar-page" aria-label="2. ç¬¬ä¸€ä¸ª java ç¨‹åº"><span class="icon iconfont icon-note"></span>2. ç¬¬ä¸€ä¸ª java ç¨‹åº<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/Java/3.%20Java%E7%A8%8B%E5%BA%8F%E7%9A%84%E5%9F%BA%E6%9C%AC%E8%A7%84%E5%88%99.html" class="nav-link sidebar-link sidebar-page" aria-label="3. Java ç¨‹åºçš„åŸºæœ¬è§„åˆ™"><span class="icon iconfont icon-note"></span>3. Java ç¨‹åºçš„åŸºæœ¬è§„åˆ™<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/Java/4.%20%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.html" class="nav-link sidebar-link sidebar-page" aria-label="4. æ•°æ®ç±»å‹"><span class="icon iconfont icon-note"></span>4. æ•°æ®ç±»å‹<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/Java/5.%20%E8%BF%90%E7%AE%97%E7%AC%A6.html" class="nav-link sidebar-link sidebar-page" aria-label="5. è¿ç®—ç¬¦"><span class="icon iconfont icon-note"></span>5. è¿ç®—ç¬¦<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/Java/6.%20%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6.html" class="nav-link sidebar-link sidebar-page" aria-label="6. æµç¨‹æ§åˆ¶"><span class="icon iconfont icon-note"></span>6. æµç¨‹æ§åˆ¶<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/Java/7.%20%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%EF%BC%88%E4%B8%8A%EF%BC%89.html" class="nav-link sidebar-link sidebar-page" aria-label="7. é¢å‘å¯¹è±¡ï¼ˆä¸Šï¼‰"><span class="icon iconfont icon-note"></span>7. é¢å‘å¯¹è±¡ï¼ˆä¸Šï¼‰<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/Java/8.%20%E6%95%B0%E7%BB%84.html" class="nav-link sidebar-link sidebar-page" aria-label="8. æ•°ç»„"><span class="icon iconfont icon-note"></span>8. æ•°ç»„<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/Java/9.%20%E6%95%B0%E7%BB%84%E7%9A%84%E5%B8%B8%E8%A7%81%E7%AE%97%E6%B3%95.html" class="nav-link sidebar-link sidebar-page" aria-label="9. æ•°ç»„çš„å¸¸è§ç®—æ³•"><span class="icon iconfont icon-note"></span>9. æ•°ç»„çš„å¸¸è§ç®—æ³•<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/Java/10.%20%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%EF%BC%88%E4%B8%8B%EF%BC%89.html" class="nav-link sidebar-link sidebar-page" aria-label="10. é¢å‘å¯¹è±¡ï¼ˆä¸‹ï¼‰"><span class="icon iconfont icon-note"></span>10. é¢å‘å¯¹è±¡ï¼ˆä¸‹ï¼‰<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/Java/11.%20%E4%B8%8E%E8%BF%90%E8%A1%8C%E7%8E%AF%E5%A2%83%E4%BA%A4%E4%BA%92.html" class="nav-link sidebar-link sidebar-page" aria-label="11. ä¸è¿è¡Œç¯å¢ƒäº¤äº’"><span class="icon iconfont icon-note"></span>11. ä¸è¿è¡Œç¯å¢ƒäº¤äº’<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/Java/12.%20Java%E9%9B%86%E5%90%88.html" class="nav-link sidebar-link sidebar-page" aria-label="12. Java é›†åˆ"><span class="icon iconfont icon-note"></span>12. Java é›†åˆ<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/Java/13.%20%E6%B3%9B%E5%9E%8B.html" class="nav-link sidebar-link sidebar-page" aria-label="13. æ³›å‹"><span class="icon iconfont icon-note"></span>13. æ³›å‹<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/Java/14.%20%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B.html" class="nav-link sidebar-link sidebar-page" aria-label="14. å‡½æ•°å¼ç¼–ç¨‹"><span class="icon iconfont icon-note"></span>14. å‡½æ•°å¼ç¼–ç¨‹<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/Java/15.%20%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86.html" class="nav-link sidebar-link sidebar-page" aria-label="15. å¼‚å¸¸å¤„ç†"><span class="icon iconfont icon-note"></span>15. å¼‚å¸¸å¤„ç†<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/Java/16.%20%E6%B3%A8%E8%A7%A3.html" class="nav-link sidebar-link sidebar-page" aria-label="16. æ³¨è§£"><span class="icon iconfont icon-note"></span>16. æ³¨è§£<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/Java/17.%20IO%E6%B5%81.html" class="nav-link sidebar-link sidebar-page" aria-label="17. IO æµ"><span class="icon iconfont icon-note"></span>17. IO æµ<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/Java/18.%20%E5%A4%9A%E7%BA%BF%E7%A8%8B.html" class="nav-link sidebar-link sidebar-page" aria-label="18. å¤šçº¿ç¨‹"><span class="icon iconfont icon-note"></span>18. å¤šçº¿ç¨‹<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-current="page" href="/docs/Java/19.%20%E7%B1%BB%E5%8A%A0%E8%BD%BD%E6%9C%BA%E5%88%B6%E4%B8%8E%E5%8F%8D%E5%B0%84.html" class="router-link-active router-link-exact-active nav-link active sidebar-link sidebar-page active" aria-label="19. ç±»åŠ è½½æœºåˆ¶ä¸åå°„"><span class="icon iconfont icon-note"></span>19. ç±»åŠ è½½æœºåˆ¶ä¸åå°„<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/docs/Java/19.%20%E7%B1%BB%E5%8A%A0%E8%BD%BD%E6%9C%BA%E5%88%B6%E4%B8%8E%E5%8F%8D%E5%B0%84.html#ç±»çš„åŠ è½½ã€è¿æ¥å’Œåˆå§‹åŒ–" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ç±»çš„åŠ è½½ã€è¿æ¥å’Œåˆå§‹åŒ–"><!---->ç±»çš„åŠ è½½ã€è¿æ¥å’Œåˆå§‹åŒ–<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/docs/Java/19.%20%E7%B1%BB%E5%8A%A0%E8%BD%BD%E6%9C%BA%E5%88%B6%E4%B8%8E%E5%8F%8D%E5%B0%84.html#jvm-å’Œç±»" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="JVM å’Œç±»"><!---->JVM å’Œç±»<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/Java/19.%20%E7%B1%BB%E5%8A%A0%E8%BD%BD%E6%9C%BA%E5%88%B6%E4%B8%8E%E5%8F%8D%E5%B0%84.html#ç±»çš„åŠ è½½" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ç±»çš„åŠ è½½"><!---->ç±»çš„åŠ è½½<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/Java/19.%20%E7%B1%BB%E5%8A%A0%E8%BD%BD%E6%9C%BA%E5%88%B6%E4%B8%8E%E5%8F%8D%E5%B0%84.html#ç±»çš„è¿æ¥" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ç±»çš„è¿æ¥"><!---->ç±»çš„è¿æ¥<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/Java/19.%20%E7%B1%BB%E5%8A%A0%E8%BD%BD%E6%9C%BA%E5%88%B6%E4%B8%8E%E5%8F%8D%E5%B0%84.html#ç±»çš„åˆå§‹åŒ–" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ç±»çš„åˆå§‹åŒ–"><!---->ç±»çš„åˆå§‹åŒ–<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/Java/19.%20%E7%B1%BB%E5%8A%A0%E8%BD%BD%E6%9C%BA%E5%88%B6%E4%B8%8E%E5%8F%8D%E5%B0%84.html#ç±»åˆå§‹åŒ–çš„æ—¶æœº" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ç±»åˆå§‹åŒ–çš„æ—¶æœº"><!---->ç±»åˆå§‹åŒ–çš„æ—¶æœº<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/Java/19.%20%E7%B1%BB%E5%8A%A0%E8%BD%BD%E6%9C%BA%E5%88%B6%E4%B8%8E%E5%8F%8D%E5%B0%84.html#ç±»åŠ è½½å™¨" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ç±»åŠ è½½å™¨"><!---->ç±»åŠ è½½å™¨<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/docs/Java/19.%20%E7%B1%BB%E5%8A%A0%E8%BD%BD%E6%9C%BA%E5%88%B6%E4%B8%8E%E5%8F%8D%E5%B0%84.html#ç±»åŠ è½½å™¨ç®€ä»‹" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ç±»åŠ è½½å™¨ç®€ä»‹"><!---->ç±»åŠ è½½å™¨ç®€ä»‹<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/Java/19.%20%E7%B1%BB%E5%8A%A0%E8%BD%BD%E6%9C%BA%E5%88%B6%E4%B8%8E%E5%8F%8D%E5%B0%84.html#ç±»åŠ è½½æœºåˆ¶" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ç±»åŠ è½½æœºåˆ¶"><!---->ç±»åŠ è½½æœºåˆ¶<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/Java/19.%20%E7%B1%BB%E5%8A%A0%E8%BD%BD%E6%9C%BA%E5%88%B6%E4%B8%8E%E5%8F%8D%E5%B0%84.html#åˆ›å»ºå¹¶ä½¿ç”¨è‡ªå®šä¹‰çš„ç±»åŠ è½½å™¨" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="åˆ›å»ºå¹¶ä½¿ç”¨è‡ªå®šä¹‰çš„ç±»åŠ è½½å™¨"><!---->åˆ›å»ºå¹¶ä½¿ç”¨è‡ªå®šä¹‰çš„ç±»åŠ è½½å™¨<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/Java/19.%20%E7%B1%BB%E5%8A%A0%E8%BD%BD%E6%9C%BA%E5%88%B6%E4%B8%8E%E5%8F%8D%E5%B0%84.html#urlclassloader-ç±»" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="URLClassLoader ç±»"><!---->URLClassLoader ç±»<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/Java/19.%20%E7%B1%BB%E5%8A%A0%E8%BD%BD%E6%9C%BA%E5%88%B6%E4%B8%8E%E5%8F%8D%E5%B0%84.html#åå°„" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="åå°„"><!---->åå°„<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/docs/Java/19.%20%E7%B1%BB%E5%8A%A0%E8%BD%BD%E6%9C%BA%E5%88%B6%E4%B8%8E%E5%8F%8D%E5%B0%84.html#class-ç±»" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Class ç±»"><!---->Class ç±»<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/Java/19.%20%E7%B1%BB%E5%8A%A0%E8%BD%BD%E6%9C%BA%E5%88%B6%E4%B8%8E%E5%8F%8D%E5%B0%84.html#è®¿é—®å­—æ®µ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="è®¿é—®å­—æ®µ"><!---->è®¿é—®å­—æ®µ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/Java/19.%20%E7%B1%BB%E5%8A%A0%E8%BD%BD%E6%9C%BA%E5%88%B6%E4%B8%8E%E5%8F%8D%E5%B0%84.html#è°ƒç”¨æ–¹æ³•" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="è°ƒç”¨æ–¹æ³•"><!---->è°ƒç”¨æ–¹æ³•<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/Java/19.%20%E7%B1%BB%E5%8A%A0%E8%BD%BD%E6%9C%BA%E5%88%B6%E4%B8%8E%E5%8F%8D%E5%B0%84.html#è°ƒç”¨æ„é€ æ–¹æ³•" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="è°ƒç”¨æ„é€ æ–¹æ³•"><!---->è°ƒç”¨æ„é€ æ–¹æ³•<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/Java/19.%20%E7%B1%BB%E5%8A%A0%E8%BD%BD%E6%9C%BA%E5%88%B6%E4%B8%8E%E5%8F%8D%E5%B0%84.html#è·å–ç»§æ‰¿å…³ç³»" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="è·å–ç»§æ‰¿å…³ç³»"><!---->è·å–ç»§æ‰¿å…³ç³»<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/Java/19.%20%E7%B1%BB%E5%8A%A0%E8%BD%BD%E6%9C%BA%E5%88%B6%E4%B8%8E%E5%8F%8D%E5%B0%84.html#è·å–çˆ¶ç±»çš„-class" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="è·å–çˆ¶ç±»çš„ Class"><!---->è·å–çˆ¶ç±»çš„ Class<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/Java/19.%20%E7%B1%BB%E5%8A%A0%E8%BD%BD%E6%9C%BA%E5%88%B6%E4%B8%8E%E5%8F%8D%E5%B0%84.html#åŠ¨æ€ä»£ç†" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="åŠ¨æ€ä»£ç†"><!---->åŠ¨æ€ä»£ç†<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li></ul><!--]--></li></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!--[--><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><span class="icon iconfont icon-note"></span>19. ç±»åŠ è½½æœºåˆ¶ä¸åå°„</h1><div class="page-info"><span class="author-info" aria-label="ä½œè€…ğŸ–Š" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="author-item" href="https://SurplusFate.github.io" target="_blank" rel="noopener noreferrer">ç©º~</a></span><span property="author" content="ç©º~"></span></span><!----><span class="date-info" aria-label="å†™ä½œæ—¥æœŸğŸ“…" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span>2022å¹´8æœˆ18æ—¥</span><meta property="datePublished" content="2022-08-18T00:00:00.000Z"></span><span class="category-info" aria-label="åˆ†ç±»ğŸŒˆ" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><ul class="categories-wrapper"><li><span class="category category6 clickable" role="navigation">java</span></li></ul><meta property="articleSection" content="java"></span><!----><span class="reading-time-info" aria-label="é˜…è¯»æ—¶é—´âŒ›" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>å¤§çº¦ 39 åˆ†é’Ÿ</span><meta property="timeRequired" content="PT39M"></span></div><hr></div><div class="toc-place-holder"><aside id="toc"><div class="toc-header">æ­¤é¡µå†…å®¹</div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/docs/Java/19.%20%E7%B1%BB%E5%8A%A0%E8%BD%BD%E6%9C%BA%E5%88%B6%E4%B8%8E%E5%8F%8D%E5%B0%84.html#ç±»çš„åŠ è½½ã€è¿æ¥å’Œåˆå§‹åŒ–" class="router-link-active router-link-exact-active toc-link level2">ç±»çš„åŠ è½½ã€è¿æ¥å’Œåˆå§‹åŒ–</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/docs/Java/19.%20%E7%B1%BB%E5%8A%A0%E8%BD%BD%E6%9C%BA%E5%88%B6%E4%B8%8E%E5%8F%8D%E5%B0%84.html#jvm-å’Œç±»" class="router-link-active router-link-exact-active toc-link level3">JVM å’Œç±»</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/Java/19.%20%E7%B1%BB%E5%8A%A0%E8%BD%BD%E6%9C%BA%E5%88%B6%E4%B8%8E%E5%8F%8D%E5%B0%84.html#ç±»çš„åŠ è½½" class="router-link-active router-link-exact-active toc-link level3">ç±»çš„åŠ è½½</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/Java/19.%20%E7%B1%BB%E5%8A%A0%E8%BD%BD%E6%9C%BA%E5%88%B6%E4%B8%8E%E5%8F%8D%E5%B0%84.html#ç±»çš„è¿æ¥" class="router-link-active router-link-exact-active toc-link level3">ç±»çš„è¿æ¥</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/Java/19.%20%E7%B1%BB%E5%8A%A0%E8%BD%BD%E6%9C%BA%E5%88%B6%E4%B8%8E%E5%8F%8D%E5%B0%84.html#ç±»çš„åˆå§‹åŒ–" class="router-link-active router-link-exact-active toc-link level3">ç±»çš„åˆå§‹åŒ–</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/Java/19.%20%E7%B1%BB%E5%8A%A0%E8%BD%BD%E6%9C%BA%E5%88%B6%E4%B8%8E%E5%8F%8D%E5%B0%84.html#ç±»åˆå§‹åŒ–çš„æ—¶æœº" class="router-link-active router-link-exact-active toc-link level3">ç±»åˆå§‹åŒ–çš„æ—¶æœº</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/Java/19.%20%E7%B1%BB%E5%8A%A0%E8%BD%BD%E6%9C%BA%E5%88%B6%E4%B8%8E%E5%8F%8D%E5%B0%84.html#ç±»åŠ è½½å™¨" class="router-link-active router-link-exact-active toc-link level2">ç±»åŠ è½½å™¨</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/docs/Java/19.%20%E7%B1%BB%E5%8A%A0%E8%BD%BD%E6%9C%BA%E5%88%B6%E4%B8%8E%E5%8F%8D%E5%B0%84.html#ç±»åŠ è½½å™¨ç®€ä»‹" class="router-link-active router-link-exact-active toc-link level3">ç±»åŠ è½½å™¨ç®€ä»‹</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/Java/19.%20%E7%B1%BB%E5%8A%A0%E8%BD%BD%E6%9C%BA%E5%88%B6%E4%B8%8E%E5%8F%8D%E5%B0%84.html#ç±»åŠ è½½æœºåˆ¶" class="router-link-active router-link-exact-active toc-link level3">ç±»åŠ è½½æœºåˆ¶</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/Java/19.%20%E7%B1%BB%E5%8A%A0%E8%BD%BD%E6%9C%BA%E5%88%B6%E4%B8%8E%E5%8F%8D%E5%B0%84.html#åˆ›å»ºå¹¶ä½¿ç”¨è‡ªå®šä¹‰çš„ç±»åŠ è½½å™¨" class="router-link-active router-link-exact-active toc-link level3">åˆ›å»ºå¹¶ä½¿ç”¨è‡ªå®šä¹‰çš„ç±»åŠ è½½å™¨</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/Java/19.%20%E7%B1%BB%E5%8A%A0%E8%BD%BD%E6%9C%BA%E5%88%B6%E4%B8%8E%E5%8F%8D%E5%B0%84.html#urlclassloader-ç±»" class="router-link-active router-link-exact-active toc-link level3">URLClassLoader ç±»</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/Java/19.%20%E7%B1%BB%E5%8A%A0%E8%BD%BD%E6%9C%BA%E5%88%B6%E4%B8%8E%E5%8F%8D%E5%B0%84.html#åå°„" class="router-link-active router-link-exact-active toc-link level2">åå°„</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/docs/Java/19.%20%E7%B1%BB%E5%8A%A0%E8%BD%BD%E6%9C%BA%E5%88%B6%E4%B8%8E%E5%8F%8D%E5%B0%84.html#class-ç±»" class="router-link-active router-link-exact-active toc-link level3">Class ç±»</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/Java/19.%20%E7%B1%BB%E5%8A%A0%E8%BD%BD%E6%9C%BA%E5%88%B6%E4%B8%8E%E5%8F%8D%E5%B0%84.html#è®¿é—®å­—æ®µ" class="router-link-active router-link-exact-active toc-link level3">è®¿é—®å­—æ®µ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/Java/19.%20%E7%B1%BB%E5%8A%A0%E8%BD%BD%E6%9C%BA%E5%88%B6%E4%B8%8E%E5%8F%8D%E5%B0%84.html#è°ƒç”¨æ–¹æ³•" class="router-link-active router-link-exact-active toc-link level3">è°ƒç”¨æ–¹æ³•</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/Java/19.%20%E7%B1%BB%E5%8A%A0%E8%BD%BD%E6%9C%BA%E5%88%B6%E4%B8%8E%E5%8F%8D%E5%B0%84.html#è°ƒç”¨æ„é€ æ–¹æ³•" class="router-link-active router-link-exact-active toc-link level3">è°ƒç”¨æ„é€ æ–¹æ³•</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/Java/19.%20%E7%B1%BB%E5%8A%A0%E8%BD%BD%E6%9C%BA%E5%88%B6%E4%B8%8E%E5%8F%8D%E5%B0%84.html#è·å–ç»§æ‰¿å…³ç³»" class="router-link-active router-link-exact-active toc-link level3">è·å–ç»§æ‰¿å…³ç³»</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/Java/19.%20%E7%B1%BB%E5%8A%A0%E8%BD%BD%E6%9C%BA%E5%88%B6%E4%B8%8E%E5%8F%8D%E5%B0%84.html#è·å–çˆ¶ç±»çš„-class" class="router-link-active router-link-exact-active toc-link level3">è·å–çˆ¶ç±»çš„ Class</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/Java/19.%20%E7%B1%BB%E5%8A%A0%E8%BD%BD%E6%9C%BA%E5%88%B6%E4%B8%8E%E5%8F%8D%E5%B0%84.html#åŠ¨æ€ä»£ç†" class="router-link-active router-link-exact-active toc-link level3">åŠ¨æ€ä»£ç†</a></li><!----><!--]--></ul><!--]--></ul></div></aside></div><!----><div class="theme-hope-content"><h1 id="_19-ç±»åŠ è½½æœºåˆ¶ä¸åå°„" tabindex="-1"><a class="header-anchor" href="#_19-ç±»åŠ è½½æœºåˆ¶ä¸åå°„" aria-hidden="true">#</a> 19. ç±»åŠ è½½æœºåˆ¶ä¸åå°„</h1><h2 id="ç±»çš„åŠ è½½ã€è¿æ¥å’Œåˆå§‹åŒ–" tabindex="-1"><a class="header-anchor" href="#ç±»çš„åŠ è½½ã€è¿æ¥å’Œåˆå§‹åŒ–" aria-hidden="true">#</a> ç±»çš„åŠ è½½ã€è¿æ¥å’Œåˆå§‹åŒ–</h2><p>ç³»ç»Ÿå¯èƒ½åœ¨ç¬¬ä¸€æ¬¡ä½¿ç”¨æŸä¸ªç±»æ—¶åŠ è½½è¯¥ç±»ï¼Œä¹Ÿå¯èƒ½é‡‡ç”¨é¢„åŠ è½½æœºåˆ¶æ¥åŠ è½½æŸä¸ªç±»ã€‚</p><h3 id="jvm-å’Œç±»" tabindex="-1"><a class="header-anchor" href="#jvm-å’Œç±»" aria-hidden="true">#</a> JVM å’Œç±»</h3><p>å½“æˆ‘ä»¬è°ƒç”¨ Java å‘½ä»¤è¿è¡ŒæŸä¸ª Java ç¨‹åºæ—¶ï¼Œè¯¥å‘½ä»¤å°†ä¼šå¯åŠ¨ä¸€ä¸ª Java è™šæ‹Ÿæœºè¿›ç¨‹ï¼Œä¸ç®¡è¯¥ Java ç¨‹åºæœ‰å¤šä¹ˆå¤æ‚ï¼Œè¯¥ç¨‹åºå¯åŠ¨äº†å¤šå°‘ä¸ªçº¿ç¨‹ï¼Œå®ƒä»¬éƒ½å¤„äºè¯¥ Java è™šæ‹Ÿæœºè¿›ç¨‹é‡Œã€‚</p><p>åŒä¸€ä¸ª JVM çš„æ‰€æœ‰çº¿ç¨‹ã€æ‰€æœ‰å˜é‡éƒ½å¤„äºåŒä¸€ä¸ªè¿›ç¨‹é‡Œï¼Œå®ƒä»¬éƒ½ä½¿ç”¨è¯¥ JVM è¿›ç¨‹çš„å†…å­˜åŒºã€‚</p><p>å½“ç³»ç»Ÿå‡ºç°ä»¥ä¸‹å‡ ç§æƒ…å†µæ—¶ï¼ŒJVM è¿›ç¨‹å°†è¢«ç»ˆæ­¢ã€‚</p><ul><li>ç¨‹åºè¿è¡Œåˆ°æœ€åæ­£å¸¸ç»“æŸã€‚</li><li>ç¨‹åºè¿è¡Œåˆ°ä½¿ç”¨<code>System.exit()</code>æˆ–<code>Runtime.getRuntime().exit()</code>ä»£ç å¤„ç»“æŸç¨‹åºã€‚</li><li>ç¨‹åºæ‰§è¡Œè¿‡ç¨‹ä¸­é‡åˆ°æœªæ•è·çš„å¼‚å¸¸æˆ–é”™è¯¯è€Œç»“æŸã€‚</li><li>ç¨‹åºæ‰€åœ¨å¹³å°å¼ºåˆ¶ç»“æŸäº† JVM è¿›ç¨‹ã€‚</li></ul><p>JVM è¿›ç¨‹ç»“æŸï¼Œè¯¥è¿›ç¨‹åœ¨å†…å­˜ä¸­çš„çŠ¶æ€å°†ä¼šä¸¢å¤±ã€‚</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">A</span> <span class="token punctuation">{</span>

  <span class="token comment">// å®šä¹‰è¯¥ç±»çš„é™æ€Field</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å®šä¹‰ä¸€ä¸ªç±»åˆ›å»º<code>A</code>ç±»çš„å®ä¾‹ï¼Œå¹¶è®¿é—®<code>A</code>å¯¹è±¡çš„<code>a Field</code>ã€‚</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ATest1</span> <span class="token punctuation">{</span>

  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// åˆ›å»ºAç±»çš„å®ä¾‹</span>
    <span class="token class-name">A</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">A</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// è®©aå®ä¾‹çš„a Fieldå€¼è‡ªåŠ </span>
    <span class="token class-name">A</span><span class="token punctuation">.</span>a<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">A</span><span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸‹é¢ç¨‹åºä¹Ÿåˆ›å»º<code>A</code>å¯¹è±¡ï¼Œå¹¶è®¿é—®å…¶<code>a Field</code>å€¼ã€‚</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ATest2</span> <span class="token punctuation">{</span>

  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// åˆ›å»ºAç±»çš„å®ä¾‹</span>
    <span class="token class-name">A</span> b <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">A</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// è¾“å‡ºbå®ä¾‹çš„a Fieldå€¼</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">A</span><span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>ATest1</code>ç»“æœè¾“å‡º 7ï¼Œä½†<code>ATest2</code>ç»“æœè¾“å‡º 6ã€‚è¿è¡Œ<code>ATest1</code>å’Œ<code>ATest2</code>æ˜¯ä¸¤æ¬¡è¿è¡Œ JVM è¿›ç¨‹ï¼Œç¬¬ä¸€æ¬¡è¿è¡Œ JVM ç»“æŸåï¼Œå®ƒå¯¹<code>A</code>ç±»æ‰€åšçš„ä¿®æ”¹å°†å…¨éƒ¨ä¸¢å¤±â€”â€”ç¬¬äºŒæ¬¡è¿è¡Œ JVM æ—¶å°†å†æ¬¡åˆå§‹åŒ–<code>A</code>ç±»ã€‚</p><p>ä¸¤ä¸ª JVM ä¹‹é—´å¹¶ä¸ä¼šå…±äº«æ•°æ®ã€‚</p><h3 id="ç±»çš„åŠ è½½" tabindex="-1"><a class="header-anchor" href="#ç±»çš„åŠ è½½" aria-hidden="true">#</a> ç±»çš„åŠ è½½</h3><p>å½“ç¨‹åºä¸»åŠ¨ä½¿ç”¨æŸä¸ªç±»æ—¶ï¼Œå¦‚æœè¯¥ç±»è¿˜æœªè¢«åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œåˆ™ç³»ç»Ÿä¼šé€šè¿‡åŠ è½½ã€è¿æ¥ã€åˆå§‹åŒ– 3 ä¸ªæ­¥éª¤æ¥å¯¹è¯¥ç±»è¿›è¡Œåˆå§‹åŒ–ã€‚</p><p>å¦‚æœæ²¡æœ‰æ„å¤–ï¼ŒJVM å°†ä¼šè¿ç»­å®Œæˆè¿™ 3 ä¸ªæ­¥éª¤ï¼Œæ‰€ä»¥æœ‰æ—¶ä¹ŸæŠŠè¿™ 3 ä¸ªæ­¥éª¤ç»Ÿç§°ä¸ºç±»åŠ è½½æˆ–ç±»åˆå§‹åŒ–ã€‚</p><p>ç±»åŠ è½½æŒ‡çš„æ˜¯å°†ç±»çš„ class æ–‡ä»¶è¯»å…¥å†…å­˜ï¼Œå¹¶ä¸ºä¹‹åˆ›å»ºä¸€ä¸ª<code>java.lang.Class</code>å¯¹è±¡ï¼Œå½“ç¨‹åºä¸­ä½¿ç”¨ä»»ä½•ç±»æ—¶ï¼Œç³»ç»Ÿéƒ½ä¼šä¸ºä¹‹å»ºç«‹ä¸€ä¸ª<code>java.lang.Class</code>å¯¹è±¡ã€‚</p><p>ç±»çš„åŠ è½½ç”±ç±»åŠ è½½å™¨å®Œæˆï¼Œç±»åŠ è½½å™¨é€šå¸¸ç”± JVM æä¾›ï¼Œè¿™äº›ç±»åŠ è½½å™¨ä¹Ÿæ˜¯å‰é¢æ‰€æœ‰ç¨‹åºè¿è¡Œçš„åŸºç¡€ï¼ŒJVM æä¾›çš„è¿™äº›ç±»åŠ è½½å™¨é€šå¸¸è¢«ç§°ä¸ºç³»ç»Ÿç±»åŠ è½½å™¨ã€‚</p><p>é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜å¯ä»¥é€šè¿‡ç»§æ‰¿<code>ClassLoader</code>åŸºç±»æ¥åˆ›å»ºè‡ªå·±çš„ç±»åŠ è½½å™¨ã€‚</p><p>é€šè¿‡ä½¿ç”¨ä¸åŒçš„ç±»åŠ è½½å™¨ï¼Œå¯ä»¥ä»ä¸åŒæ¥æºåŠ è½½ç±»çš„äºŒè¿›åˆ¶æ•°æ®ï¼Œé€šå¸¸æœ‰å¦‚ä¸‹å‡ ç§æ¥æºã€‚</p><ul><li>ä»æœ¬åœ°æ–‡ä»¶ç³»ç»ŸåŠ è½½ class æ–‡ä»¶ã€‚</li><li>ä» JAR åŒ…åŠ è½½ class æ–‡ä»¶ã€‚</li><li>é€šè¿‡ç½‘ç»œåŠ è½½ class æ–‡ä»¶ã€‚</li><li>æŠŠä¸€ä¸ª Java æºæ–‡ä»¶åŠ¨æ€ç¼–è¯‘ï¼Œå¹¶æ‰§è¡ŒåŠ è½½ã€‚</li></ul><p>ç±»åŠ è½½å™¨é€šå¸¸æ— é¡»ç­‰åˆ°â€œé¦–æ¬¡ä½¿ç”¨â€è¯¥ç±»æ—¶æ‰åŠ è½½è¯¥ç±»ï¼ŒJava è™šæ‹Ÿæœºè§„èŒƒå…è®¸ç³»ç»Ÿé¢„å…ˆåŠ è½½æŸäº›ç±»ã€‚</p><h3 id="ç±»çš„è¿æ¥" tabindex="-1"><a class="header-anchor" href="#ç±»çš„è¿æ¥" aria-hidden="true">#</a> ç±»çš„è¿æ¥</h3><p>å½“ç±»è¢«åŠ è½½ä¹‹åï¼Œç³»ç»Ÿä¸ºä¹‹ç”Ÿæˆä¸€ä¸ªå¯¹åº”çš„ Class å¯¹è±¡ï¼Œæ¥ç€å°†ä¼šè¿›å…¥è¿æ¥é˜¶æ®µï¼Œè¿æ¥é˜¶æ®µè´Ÿè´£æŠŠç±»çš„äºŒè¿›åˆ¶æ•°æ®åˆå¹¶åˆ° JRE ä¸­ã€‚</p><p>ç±»è¿æ¥åˆå¯åˆ†ä¸ºå¦‚ä¸‹ 3 ä¸ªé˜¶æ®µã€‚</p><ol><li>éªŒè¯ï¼šéªŒè¯é˜¶æ®µç”¨äºæ£€éªŒè¢«åŠ è½½çš„ç±»æ˜¯å¦æœ‰æ­£ç¡®çš„å†…éƒ¨ç»“æ„ï¼Œå¹¶å’Œå…¶ä»–ç±»åè°ƒä¸€è‡´ã€‚</li><li>å‡†å¤‡ï¼šç±»å‡†å¤‡é˜¶æ®µåˆ™è´Ÿè´£ä¸ºç±»çš„é™æ€<code>Field</code>åˆ†é…å†…å­˜ï¼Œå¹¶è®¾ç½®é»˜è®¤åˆå§‹å€¼ã€‚</li><li>è§£æï¼šå°†ç±»çš„äºŒè¿›åˆ¶æ•°æ®ä¸­çš„ç¬¦å·å¼•ç”¨æ›¿æ¢æˆç›´æ¥å¼•ç”¨ã€‚</li></ol><h3 id="ç±»çš„åˆå§‹åŒ–" tabindex="-1"><a class="header-anchor" href="#ç±»çš„åˆå§‹åŒ–" aria-hidden="true">#</a> ç±»çš„åˆå§‹åŒ–</h3><p>åœ¨ç±»çš„åˆå§‹åŒ–é˜¶æ®µï¼Œè™šæ‹Ÿæœºè´Ÿè´£å¯¹ç±»è¿›è¡Œåˆå§‹åŒ–ï¼Œä¸»è¦å°±æ˜¯å¯¹é™æ€<code>Field</code>è¿›è¡Œåˆå§‹åŒ–ã€‚</p><p>åœ¨ Java ç±»ä¸­å¯¹é™æ€<code>Field</code>æŒ‡å®šåˆå§‹å€¼æœ‰ä¸¤ç§æ–¹å¼ï¼š</p><ol><li>å£°æ˜é™æ€<code>Field</code>æ—¶æŒ‡å®šåˆå§‹å€¼ï¼›</li><li>ä½¿ç”¨é™æ€åˆå§‹åŒ–å—ä¸ºé™æ€<code>Field</code>æŒ‡å®šåˆå§‹å€¼ã€‚</li></ol><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>

  <span class="token comment">// å£°æ˜aå˜é‡æ—¶æŒ‡å®šåˆå§‹å€¼</span>
  <span class="token keyword">static</span> <span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
  <span class="token keyword">static</span> <span class="token keyword">int</span> b<span class="token punctuation">;</span>
  <span class="token keyword">static</span> <span class="token keyword">int</span> c<span class="token punctuation">;</span>

  <span class="token keyword">static</span> <span class="token punctuation">{</span>
    <span class="token comment">// ä½¿ç”¨é™æ€åˆå§‹åŒ–å—ä¸ºbå˜é‡æŒ‡å®šåˆå§‹å€¼</span>
    b <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é™æ€<code>Field c</code>åˆ™æ²¡æœ‰æŒ‡å®šåˆå§‹å€¼ï¼Œå®ƒå°†é‡‡ç”¨é»˜è®¤åˆå§‹å€¼ 0ã€‚</p><p>å£°æ˜å˜é‡æ—¶æŒ‡å®šåˆå§‹å€¼ï¼Œé™æ€åˆå§‹åŒ–å—éƒ½å°†è¢«å½“æˆç±»çš„åˆå§‹åŒ–è¯­å¥ï¼ŒJVM ä¼šæŒ‰è¿™äº›è¯­å¥åœ¨ç¨‹åºä¸­çš„æ’åˆ—é¡ºåºä¾æ¬¡æ‰§è¡Œå®ƒä»¬ã€‚</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>

  <span class="token keyword">static</span> <span class="token punctuation">{</span>
    <span class="token comment">// ä½¿ç”¨é™æ€åˆå§‹åŒ–å—ä¸ºbå˜é‡æŒ‡å®šåˆå§‹å€¼</span>
    b <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;----------&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// å£°æ˜aå˜é‡æ—¶æŒ‡å®šåˆå§‹å€¼</span>
  <span class="token keyword">static</span> <span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
  <span class="token keyword">static</span> <span class="token keyword">int</span> b <span class="token operator">=</span> <span class="token number">9</span><span class="token punctuation">;</span>        <span class="token comment">// â‘ </span>
  <span class="token keyword">static</span> <span class="token keyword">int</span> c<span class="token punctuation">;</span>

  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Test</span><span class="token punctuation">.</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å½“<code>Test</code>ç±»åˆå§‹åŒ–ç»“æŸåï¼Œè¯¥ç±»çš„é™æ€<code>Field b</code>çš„å€¼ä¸º 9ã€‚</p><p>JVM åˆå§‹åŒ–ä¸€ä¸ªç±»åŒ…å«å¦‚ä¸‹å‡ ä¸ªæ­¥éª¤ã€‚</p><ol><li>å‡å¦‚è¿™ä¸ªç±»è¿˜æ²¡æœ‰è¢«åŠ è½½å’Œè¿æ¥ï¼Œåˆ™ç¨‹åºå…ˆåŠ è½½å¹¶è¿æ¥è¯¥ç±»ã€‚</li><li>å‡å¦‚è¯¥ç±»çš„ç›´æ¥çˆ¶ç±»è¿˜æ²¡æœ‰è¢«åˆå§‹åŒ–ï¼Œåˆ™å…ˆåˆå§‹åŒ–å…¶ç›´æ¥çˆ¶ç±»ã€‚</li><li>å‡å¦‚ç±»ä¸­æœ‰åˆå§‹åŒ–è¯­å¥ï¼Œåˆ™ç³»ç»Ÿä¾æ¬¡æ‰§è¡Œè¿™äº›åˆå§‹åŒ–è¯­å¥ã€‚</li></ol><p>JVM æœ€å…ˆåˆå§‹åŒ–çš„æ€»æ˜¯<code>java.lang.Object</code>ç±»ã€‚å½“ç¨‹åºä¸»åŠ¨ä½¿ç”¨ä»»ä½•ä¸€ä¸ªç±»æ—¶ï¼Œç³»ç»Ÿä¼šä¿è¯è¯¥ç±»ä»¥åŠæ‰€æœ‰çˆ¶ç±»ï¼ˆåŒ…æ‹¬ç›´æ¥çˆ¶ç±»å’Œé—´æ¥çˆ¶ç±»ï¼‰éƒ½ä¼šè¢«åˆå§‹åŒ–ã€‚</p><h3 id="ç±»åˆå§‹åŒ–çš„æ—¶æœº" tabindex="-1"><a class="header-anchor" href="#ç±»åˆå§‹åŒ–çš„æ—¶æœº" aria-hidden="true">#</a> ç±»åˆå§‹åŒ–çš„æ—¶æœº</h3><p>å½“ Java ç¨‹åºé¦–æ¬¡é€šè¿‡ä¸‹é¢ 6 ç§æ–¹å¼æ¥ä½¿ç”¨æŸä¸ªç±»æˆ–æ¥å£æ—¶ï¼Œç³»ç»Ÿå°±ä¼šåˆå§‹åŒ–è¯¥ç±»æˆ–æ¥å£ã€‚</p><ul><li><p>åˆ›å»ºç±»çš„å®ä¾‹ã€‚ä¸ºæŸä¸ªç±»åˆ›å»ºå®ä¾‹çš„æ–¹å¼åŒ…æ‹¬ï¼šä½¿ç”¨<code>new</code>æ“ä½œç¬¦æ¥åˆ›å»ºå®ä¾‹ï¼Œé€šè¿‡åå°„æ¥åˆ›å»ºå®ä¾‹ï¼Œé€šè¿‡ååºåˆ—åŒ–çš„æ–¹å¼æ¥åˆ›å»ºå®ä¾‹ã€‚</p></li><li><p>è°ƒç”¨æŸä¸ªç±»çš„é™æ€æ–¹æ³•ã€‚</p></li><li><p>è®¿é—®æŸä¸ªç±»æˆ–æ¥å£çš„é™æ€<code>Field</code>ï¼Œæˆ–ä¸ºè¯¥é™æ€<code>Field</code>èµ‹å€¼ã€‚</p></li><li><p>ä½¿ç”¨åå°„æ–¹å¼æ¥å¼ºåˆ¶åˆ›å»ºæŸä¸ªç±»æˆ–æ¥å£å¯¹åº”çš„<code>java.lang.Class</code>å¯¹è±¡ã€‚</p><p>ä¾‹å¦‚ä»£ç ï¼š<code>Class.forName(&quot;Person&quot;)</code>ï¼Œå¦‚æœç³»ç»Ÿè¿˜æœªåˆå§‹åŒ–<code>Person</code>ç±»ï¼Œåˆ™è¿™è¡Œä»£ç å°†ä¼šå¯¼è‡´è¯¥<code>Person</code>ç±»è¢«åˆå§‹åŒ–ï¼Œå¹¶è¿”å›<code>Person</code>ç±»å¯¹åº”çš„<code>java.lang.Class</code>å¯¹è±¡ã€‚</p></li><li><p>åˆå§‹åŒ–æŸä¸ªç±»çš„å­ç±»ã€‚å½“åˆå§‹åŒ–æŸä¸ªç±»çš„å­ç±»æ—¶ï¼Œè¯¥å­ç±»çš„æ‰€æœ‰çˆ¶ç±»éƒ½ä¼šè¢«åˆå§‹åŒ–ã€‚</p></li><li><p>ç›´æ¥ä½¿ç”¨<code>java.exe</code>å‘½ä»¤æ¥è¿è¡ŒæŸä¸ªä¸»ç±»ã€‚å½“è¿è¡ŒæŸä¸ªä¸»ç±»æ—¶ï¼Œç¨‹åºä¼šå…ˆåˆå§‹åŒ–è¯¥ä¸»ç±»ã€‚</p></li></ul><p>é™¤æ­¤ä¹‹å¤–ï¼Œä¸‹é¢çš„å‡ ç§æƒ…å½¢éœ€è¦ç‰¹åˆ«æŒ‡å‡ºã€‚</p><p>å¯¹äºä¸€ä¸ª<code>final</code>å‹çš„é™æ€<code>Field</code>ï¼Œå¦‚æœè¯¥<code>Field</code>çš„å€¼åœ¨ç¼–è¯‘æ—¶å°±å¯ä»¥ç¡®å®šä¸‹æ¥ï¼Œé‚£ä¹ˆè¿™ä¸ª<code>Field</code>ç›¸å½“äºâ€œå®å˜é‡â€ã€‚Java ç¼–è¯‘å™¨ä¼šåœ¨ç¼–è¯‘æ—¶ç›´æ¥æŠŠè¿™ä¸ª<code>Field</code>å‡ºç°çš„åœ°æ–¹æ›¿æ¢æˆå®ƒçš„å€¼ï¼Œå› æ­¤å³ä½¿ç¨‹åºä½¿ç”¨è¯¥é™æ€<code>Field</code>ï¼Œä¹Ÿä¸ä¼šå¯¼è‡´è¯¥ç±»çš„åˆå§‹åŒ–ã€‚</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">MyTest</span> <span class="token punctuation">{</span>

  <span class="token comment">// ä½¿ç”¨ä¸€ä¸ªå­—ç¬¦ä¸²ç›´æ¥é‡ä¸ºstatic final Fieldèµ‹å€¼</span>
  <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span> compileConstant <span class="token operator">=</span> <span class="token string">&quot;ç–¯ç‹‚Javaè®²ä¹‰&quot;</span><span class="token punctuation">;</span>

  <span class="token keyword">static</span> <span class="token punctuation">{</span>
    <span class="token comment">// åªåœ¨ç¬¬ä¸€æ¬¡åˆå§‹åŒ–çš„æ—¶å€™è¿è¡Œ</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;é™æ€åˆå§‹åŒ–å—...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CompileConstantTest</span> <span class="token punctuation">{</span>

  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// è®¿é—®ã€è¾“å‡ºMyTestä¸­çš„compileConstant Field</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">MyTest</span><span class="token punctuation">.</span>compileConstant<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//â‘ </span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å½“æŸä¸ªé™æ€<code>Field</code>ä½¿ç”¨äº†<code>final</code>ä¿®é¥°ï¼Œè€Œä¸”å®ƒçš„å€¼å¯ä»¥åœ¨ç¼–è¯‘æ—¶å°±ç¡®å®šä¸‹æ¥ï¼Œé‚£ä¹ˆç¨‹åºå…¶ä»–åœ°æ–¹ä½¿ç”¨è¯¥é™æ€<code>Field</code>æ—¶ï¼Œå®é™…ä¸Šå¹¶æ²¡æœ‰ä½¿ç”¨è¯¥é™æ€<code>Field</code>ï¼Œè€Œæ˜¯ç›¸å½“äºä½¿ç”¨å¸¸é‡ã€‚</p><p>åä¹‹ï¼Œå¦‚æœ<code>final</code>ç±»å‹çš„é™æ€<code>Field</code>çš„å€¼ä¸èƒ½åœ¨ç¼–è¯‘æ—¶ç¡®å®šä¸‹æ¥ï¼Œåˆ™å¿…é¡»ç­‰åˆ°è¿è¡Œæ—¶æ‰å¯ä»¥ç¡®å®šè¯¥<code>Field</code>çš„å€¼ï¼Œå¦‚æœé€šè¿‡è¯¥ç±»æ¥è®¿é—®å®ƒçš„é™æ€<code>Field</code>ï¼Œåˆ™ä¼šå¯¼è‡´è¯¥ç±»è¢«åˆå§‹åŒ–ã€‚</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">MyTest</span> <span class="token punctuation">{</span>

  <span class="token comment">// é‡‡ç”¨ç³»ç»Ÿå½“å‰æ—¶é—´ä¸ºstatic final Fieldèµ‹å€¼</span>
  <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span> compileConstant <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>


  <span class="token keyword">static</span> <span class="token punctuation">{</span>
    <span class="token comment">// æ¯æ¬¡éƒ½ä¼šè¿è¡Œ</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;é™æ€åˆå§‹åŒ–å—...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CompileConstantTest</span> <span class="token punctuation">{</span>

  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// è®¿é—®ã€è¾“å‡ºMyTestä¸­çš„compileConstant Field</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">MyTest</span><span class="token punctuation">.</span>compileConstant<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//â‘ </span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å½“ä½¿ç”¨<code>ClassLoader</code>ç±»çš„<code>loadClass()</code>æ–¹æ³•æ¥åŠ è½½æŸä¸ªç±»æ—¶ï¼Œè¯¥æ–¹æ³•åªæ˜¯åŠ è½½è¯¥ç±»ï¼Œå¹¶ä¸ä¼šæ‰§è¡Œè¯¥ç±»çš„åˆå§‹åŒ–ã€‚ä½¿ç”¨<code>Class</code>çš„<code>forName()</code>é™æ€æ–¹æ³•æ‰ä¼šå¯¼è‡´å¼ºåˆ¶åˆå§‹åŒ–è¯¥ç±»ã€‚</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">classLoading</span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * <span class="token keyword">@author</span> ç©º~ 2022/8/22 å‘¨ä¸€ 16:21
 **/</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Tester</span> <span class="token punctuation">{</span>

  <span class="token keyword">static</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Testerç±»çš„é™æ€åˆå§‹åŒ–å—...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¼ºåˆ¶åˆå§‹åŒ–ã€‚</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">classLoading</span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * <span class="token keyword">@author</span> ç©º~ 2022/8/22 å‘¨ä¸€ 16:18
 **/</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ClassLoaderTest</span> <span class="token punctuation">{</span>

  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ClassNotFoundException</span> <span class="token punctuation">{</span>
    <span class="token class-name">ClassLoader</span> cl <span class="token operator">=</span> <span class="token class-name">ClassLoader</span><span class="token punctuation">.</span><span class="token function">getSystemClassLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// ä¸‹é¢è¯­å¥ä»…ä»…æ˜¯åŠ è½½Testerç±»</span>
    cl<span class="token punctuation">.</span><span class="token function">loadClass</span><span class="token punctuation">(</span><span class="token string">&quot;classLoading.Tester&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;ç³»ç»ŸåŠ è½½Testerç±»&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// ä¸‹é¢è¯­å¥æ‰ä¼šåˆå§‹åŒ–Testerç±»</span>
    <span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span><span class="token string">&quot;classLoading.Tester&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç»“æœï¼š</p><blockquote><p>ç³»ç»ŸåŠ è½½ Tester ç±» Tester ç±»çš„é™æ€åˆå§‹åŒ–å—...</p></blockquote><p>ä»ä¸Šé¢è¿è¡Œç»“æœå¯ä»¥çœ‹å‡ºï¼Œå¿…é¡»ç­‰åˆ°æ‰§è¡Œ<code>Class.forName(&quot;Tester&quot;)</code>æ—¶æ‰å®Œæˆå¯¹<code>Tester</code>ç±»çš„åˆå§‹åŒ–ã€‚</p><h2 id="ç±»åŠ è½½å™¨" tabindex="-1"><a class="header-anchor" href="#ç±»åŠ è½½å™¨" aria-hidden="true">#</a> ç±»åŠ è½½å™¨</h2><p>ç±»åŠ è½½å™¨è´Ÿè´£å°†.class æ–‡ä»¶ï¼ˆå¯èƒ½åœ¨ç£ç›˜ä¸Šï¼Œä¹Ÿå¯èƒ½åœ¨ç½‘ç»œä¸Šï¼‰åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œå¹¶ä¸ºä¹‹ç”Ÿæˆå¯¹åº”çš„<code>java.lang.Class</code>å¯¹è±¡ã€‚</p><h3 id="ç±»åŠ è½½å™¨ç®€ä»‹" tabindex="-1"><a class="header-anchor" href="#ç±»åŠ è½½å™¨ç®€ä»‹" aria-hidden="true">#</a> ç±»åŠ è½½å™¨ç®€ä»‹</h3><p>ç±»åŠ è½½å™¨è´Ÿè´£åŠ è½½æ‰€æœ‰çš„ç±»ï¼Œç³»ç»Ÿä¸ºæ‰€æœ‰è¢«è½½å…¥å†…å­˜ä¸­çš„ç±»ç”Ÿæˆä¸€ä¸ª<code>java.lang.Class</code>å®ä¾‹ã€‚ä¸€æ—¦ä¸€ä¸ªç±»è¢«è½½å…¥ JVM ä¸­ï¼ŒåŒä¸€ä¸ªç±»å°±ä¸ä¼šè¢«å†æ¬¡è½½å…¥äº†ã€‚</p><p>åœ¨ Java ä¸­ï¼Œä¸€ä¸ªç±»ç”¨å…¶å…¨é™å®šç±»åï¼ˆåŒ…æ‹¬åŒ…åå’Œç±»åï¼‰ä½œä¸ºæ ‡è¯†ï¼›ä½†åœ¨ JVM ä¸­ï¼Œä¸€ä¸ªç±»ç”¨å…¶å…¨é™å®šç±»åå’Œå…¶ç±»åŠ è½½å™¨ä½œä¸ºå…¶å”¯ä¸€æ ‡è¯†ã€‚ä¾‹å¦‚ï¼Œå¦‚æœåœ¨<code>pg</code>çš„åŒ…ä¸­æœ‰ä¸€ä¸ªåä¸º<code>Person</code>çš„ç±»ï¼Œè¢«ç±»åŠ è½½å™¨<code>ClassLoader</code>çš„å®ä¾‹<code>kl</code>è´Ÿè´£åŠ è½½ï¼Œåˆ™è¯¥<code>Person</code>ç±»å¯¹åº”çš„<code>Class</code>å¯¹è±¡åœ¨ JVM ä¸­è¡¨ç¤ºä¸ºï¼ˆ<code>Person</code>ã€<code>pg</code>ã€<code>kl</code>ï¼‰ã€‚</p><p>è¿™æ„å‘³ç€ä¸¤ä¸ªç±»åŠ è½½å™¨åŠ è½½çš„åŒåç±»ï¼šï¼ˆ<code>Person</code>ã€<code>pg</code>ã€<code>kl</code>ï¼‰å’Œï¼ˆ<code>Person</code>ã€<code>pg</code>ã€<code>kl2</code>ï¼‰æ˜¯ä¸åŒçš„ã€å®ƒä»¬æ‰€åŠ è½½çš„ç±»ä¹Ÿæ˜¯å®Œå…¨ä¸åŒã€äº’ä¸å…¼å®¹çš„ã€‚</p><p>å½“ JVM å¯åŠ¨æ—¶ï¼Œä¼šå½¢æˆç”± 3 ä¸ªç±»åŠ è½½å™¨ç»„æˆçš„åˆå§‹ç±»åŠ è½½å™¨å±‚æ¬¡ç»“æ„ã€‚</p><ul><li><code>Bootstrap ClassLoader</code>ï¼šæ ¹ç±»åŠ è½½å™¨ã€‚</li><li><code>Extension ClassLoader</code>ï¼šæ‰©å±•ç±»åŠ è½½å™¨ã€‚</li><li><code>System ClassLoader</code>ï¼šç³»ç»Ÿç±»åŠ è½½å™¨ã€‚</li></ul><p><code>Bootstrap ClassLoader</code>è¢«ç§°ä¸ºå¼•å¯¼ï¼ˆä¹Ÿç§°ä¸ºåŸå§‹æˆ–æ ¹ï¼‰ç±»åŠ è½½å™¨ï¼Œå®ƒè´Ÿè´£åŠ è½½ Java çš„æ ¸å¿ƒç±»ã€‚åœ¨ Sun çš„ JVM ä¸­ï¼Œå½“æ‰§è¡Œ<code>java.exe</code>å‘½ä»¤æ—¶ï¼Œä½¿ç”¨<code>-Xbootclasspath</code>é€‰é¡¹æˆ–ä½¿ç”¨<code>-D</code>é€‰é¡¹æŒ‡å®š<code>sun.boot.class.path</code>ç³»ç»Ÿå±æ€§å€¼å¯ä»¥æŒ‡å®šåŠ è½½é™„åŠ çš„ç±»ã€‚</p><p>æ ¹ç±»åŠ è½½å™¨éå¸¸ç‰¹æ®Šï¼Œå®ƒå¹¶ä¸æ˜¯<code>java.lang.ClassLoader</code>çš„å­ç±»ï¼Œè€Œæ˜¯ç”± JVM è‡ªèº«å®ç°çš„ã€‚</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BootstrapTest</span> <span class="token punctuation">{</span>

  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// è·å–æ ¹ç±»åŠ è½½å™¨æ‰€åŠ è½½çš„å…¨éƒ¨URLæ•°ç»„</span>
    <span class="token constant">URL</span><span class="token punctuation">[</span><span class="token punctuation">]</span> urls <span class="token operator">=</span> <span class="token class-name"><span class="token namespace">sun<span class="token punctuation">.</span>misc<span class="token punctuation">.</span></span>Launcher</span><span class="token punctuation">.</span>
        <span class="token function">getBootstrapClassPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getURLs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// éå†ã€è¾“å‡ºæ ¹ç±»åŠ è½½å™¨åŠ è½½çš„å…¨éƒ¨URL</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token constant">URL</span> url <span class="token operator">:</span> urls<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>url<span class="token punctuation">.</span><span class="token function">toExternalForm</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://gcore.jsdelivr.net/gh/SurplusFate/guide_img@main/img/202208221634771.png" alt="image-20220822163415329"></p><p><code>Extension Classloader</code>è¢«ç§°ä¸ºæ‰©å±•ç±»åŠ è½½å™¨ï¼Œå®ƒè´Ÿè´£åŠ è½½ JRE çš„æ‰©å±•ç›®å½•ï¼ˆ<code>%JAVA_HOME%/jre/lib/ext</code>æˆ–è€…ç”±<code>java.ext.dirs</code>ç³»ç»Ÿå±æ€§æŒ‡å®šçš„ç›®å½•ï¼‰ä¸­ JAR åŒ…çš„ç±»ã€‚</p><p>é€šè¿‡è¿™ç§æ–¹å¼ï¼Œå°±å¯ä»¥ä¸º Java æ‰©å±•æ ¸å¿ƒç±»ä»¥å¤–çš„æ–°åŠŸèƒ½ï¼Œåªè¦æˆ‘ä»¬æŠŠè‡ªå·±å¼€å‘çš„ç±»æ‰“åŒ…æˆ JAR æ–‡ä»¶ï¼Œç„¶åæ”¾å…¥<code>JAVA_HOME/jre/lib/ext</code>è·¯å¾„å³å¯ã€‚</p><p><code>System Classloader</code>è¢«ç§°ä¸ºç³»ç»Ÿï¼ˆä¹Ÿç§°ä¸ºåº”ç”¨ï¼‰ç±»åŠ è½½å™¨ï¼Œå®ƒè´Ÿè´£åœ¨ JVM å¯åŠ¨æ—¶åŠ è½½æ¥è‡ª java å‘½ä»¤çš„<code>-classpath</code>é€‰é¡¹ã€<code>java.class.path</code>ç³»ç»Ÿå±æ€§ï¼Œæˆ– CLASSPATH ç¯å¢ƒå˜é‡æ‰€æŒ‡å®šçš„ JAR åŒ…å’Œç±»è·¯å¾„ã€‚ç¨‹åºå¯ä»¥é€šè¿‡<code>ClassLoader</code>çš„é™æ€æ–¹æ³•<code>getSystemClassLoader()</code>æ¥è·å–ç³»ç»Ÿç±»åŠ è½½å™¨ã€‚å¦‚æœæ²¡æœ‰ç‰¹åˆ«æŒ‡å®šï¼Œåˆ™ç”¨æˆ·è‡ªå®šä¹‰çš„ç±»åŠ è½½å™¨éƒ½ä»¥ç±»åŠ è½½å™¨ä½œä¸ºçˆ¶åŠ è½½å™¨ã€‚</p><h3 id="ç±»åŠ è½½æœºåˆ¶" tabindex="-1"><a class="header-anchor" href="#ç±»åŠ è½½æœºåˆ¶" aria-hidden="true">#</a> ç±»åŠ è½½æœºåˆ¶</h3><p>JVM çš„ç±»åŠ è½½æœºåˆ¶ä¸»è¦æœ‰å¦‚ä¸‹ 3 ç§ã€‚</p><ul><li>å…¨ç›˜è´Ÿè´£ã€‚æ‰€è°“å…¨ç›˜è´Ÿè´£ï¼Œå°±æ˜¯å½“ä¸€ä¸ªç±»åŠ è½½å™¨è´Ÿè´£åŠ è½½æŸä¸ª Class æ—¶ï¼Œè¯¥ Class æ‰€ä¾èµ–çš„å’Œå¼•ç”¨çš„å…¶ä»– Class ä¹Ÿå°†ç”±è¯¥ç±»åŠ è½½å™¨è´Ÿè´£è½½å…¥ï¼Œé™¤éæ˜¾å¼ä½¿ç”¨å¦å¤–ä¸€ä¸ªç±»åŠ è½½å™¨æ¥è½½å…¥ã€‚</li><li>çˆ¶ç±»å§”æ‰˜ã€‚æ‰€è°“çˆ¶ç±»å§”æ‰˜ï¼Œåˆ™æ˜¯å…ˆè®© parentï¼ˆçˆ¶ï¼‰ç±»åŠ è½½å™¨è¯•å›¾åŠ è½½è¯¥ Classï¼Œåªæœ‰åœ¨çˆ¶ç±»åŠ è½½å™¨æ— æ³•åŠ è½½è¯¥ç±»æ—¶æ‰å°è¯•ä»è‡ªå·±çš„ç±»è·¯å¾„ä¸­åŠ è½½è¯¥ç±»ã€‚</li><li>ç¼“å­˜æœºåˆ¶ã€‚ç¼“å­˜æœºåˆ¶å°†ä¼šä¿è¯æ‰€æœ‰åŠ è½½è¿‡çš„ Class éƒ½ä¼šè¢«ç¼“å­˜ï¼Œå½“ç¨‹åºä¸­éœ€è¦ä½¿ç”¨æŸä¸ª Class æ—¶ï¼Œç±»åŠ è½½å™¨å…ˆä»ç¼“å­˜åŒºä¸­æœå¯»è¯¥ Classï¼Œåªæœ‰å½“ç¼“å­˜åŒºä¸­ä¸å­˜åœ¨è¯¥ Class å¯¹è±¡æ—¶ï¼Œç³»ç»Ÿæ‰ä¼šè¯»å–è¯¥ç±»å¯¹åº”çš„äºŒè¿›åˆ¶æ•°æ®ï¼Œå¹¶å°†å…¶è½¬æ¢æˆ Class å¯¹è±¡ï¼Œå­˜å…¥ç¼“å­˜åŒºä¸­ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆä¿®æ”¹äº† Class åï¼Œå¿…é¡»é‡æ–°å¯åŠ¨ JVMï¼Œç¨‹åºæ‰€åšçš„ä¿®æ”¹æ‰ä¼šç”Ÿæ•ˆçš„åŸå› ã€‚</li></ul><div class="custom-container tip"><p class="custom-container-title">æç¤º</p><p>ç±»åŠ è½½å™¨ä¹‹é—´çš„çˆ¶å­å…³ç³»å¹¶ä¸æ˜¯ç±»ç»§æ‰¿ä¸Šçš„çˆ¶å­å…³ç³»ï¼Œè¿™é‡Œçš„çˆ¶å­å…³ç³»æ˜¯ç±»åŠ è½½å™¨å®ä¾‹ä¹‹é—´çš„å…³ç³»ã€‚</p></div><p>é™¤äº†å¯ä»¥ä½¿ç”¨ Java æä¾›çš„ç±»åŠ è½½å™¨ä¹‹å¤–ï¼Œä¹Ÿå¯ä»¥å®ç°è‡ªå·±çš„ç±»åŠ è½½å™¨ï¼Œè‡ªå®šä¹‰çš„ç±»åŠ è½½å™¨é€šè¿‡ç»§æ‰¿<code>ClassLoader</code>æ¥å®ç°ã€‚JVM ä¸­è¿™ 4 ç§ç±»åŠ è½½å™¨çš„å±‚æ¬¡ç»“æ„å¦‚å›¾æ‰€ç¤ºã€‚</p><p><img src="https://gcore.jsdelivr.net/gh/SurplusFate/guide_img@main/img/202208221641557.jpeg" alt="epub_681336_2424"></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ClassLoaderPropTest</span> <span class="token punctuation">{</span>

  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span>
      <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token comment">// è·å–ç³»ç»Ÿç±»åŠ è½½å™¨</span>
    <span class="token class-name">ClassLoader</span> systemLoader <span class="token operator">=</span> <span class="token class-name">ClassLoader</span><span class="token punctuation">.</span><span class="token function">getSystemClassLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;ç³»ç»Ÿç±»åŠ è½½å™¨ï¼š&quot;</span> <span class="token operator">+</span> systemLoader<span class="token punctuation">)</span><span class="token punctuation">;</span>
                  <span class="token comment">/*
                  è·å–ç³»ç»Ÿç±»åŠ è½½å™¨çš„åŠ è½½è·¯å¾„â€”â€”é€šå¸¸ç”±CLASSPATHç¯å¢ƒå˜é‡æŒ‡å®š
                  å¦‚æœæ“ä½œç³»ç»Ÿæ²¡æœ‰æŒ‡å®šCLASSPATHç¯å¢ƒå˜é‡ï¼Œåˆ™é»˜è®¤ä»¥å½“å‰è·¯å¾„ä½œä¸º
                  ç³»ç»Ÿç±»åŠ è½½å™¨çš„åŠ è½½è·¯å¾„
                  */</span>
    <span class="token class-name">Enumeration</span><span class="token generics"><span class="token punctuation">&lt;</span>URL<span class="token punctuation">&gt;</span></span> em1 <span class="token operator">=</span> systemLoader<span class="token punctuation">.</span><span class="token function">getResources</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>em1<span class="token punctuation">.</span><span class="token function">hasMoreElements</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>em1<span class="token punctuation">.</span><span class="token function">nextElement</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// è·å–ç³»ç»Ÿç±»åŠ è½½å™¨çš„çˆ¶ç±»åŠ è½½å™¨ï¼Œå¾—åˆ°æ‰©å±•ç±»åŠ è½½å™¨</span>
    <span class="token class-name">ClassLoader</span> extensionLoader <span class="token operator">=</span> systemLoader<span class="token punctuation">.</span><span class="token function">getParent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æ‰©å±•ç±»åŠ è½½å™¨ï¼š&quot;</span> <span class="token operator">+</span> extensionLoader<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æ‰©å±•ç±»åŠ è½½å™¨çš„åŠ è½½è·¯å¾„ï¼š&quot;</span>
        <span class="token operator">+</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token string">&quot;java.ext.dirs&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æ‰©å±•ç±»åŠ è½½å™¨çš„parent: &quot;</span>
        <span class="token operator">+</span> extensionLoader<span class="token punctuation">.</span><span class="token function">getParent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>ç³»ç»Ÿç±»åŠ è½½å™¨ï¼š<code>sun.misc.Launcher$AppClassLoader@18b4aac2</code> &gt; <code>file:/E:/Project/demo/out/production/test/</code> æ‰©å±•ç±»åŠ è½½å™¨ï¼š<code>sun.misc.Launcher$ExtClassLoader@74a14482</code> æ‰©å±•ç±»åŠ è½½å™¨çš„åŠ è½½è·¯å¾„ï¼š<code>D:\jdk\jre\lib\ext;C:\WINDOWS\Sun\Java\lib\ext</code> æ‰©å±•ç±»åŠ è½½å™¨çš„ parent: <code>null</code></p></blockquote><p>è¡¨é¢ä¸Šçœ‹æ‰©å±•ç±»åŠ è½½å™¨çš„çˆ¶åŠ è½½å™¨æ˜¯<code>null</code>ï¼Œå¹¶ä¸æ˜¯æ ¹ç±»åŠ è½½å™¨ã€‚è¿™æ˜¯å› ä¸ºæ ¹ç±»åŠ è½½å™¨å¹¶æ²¡æœ‰ç»§æ‰¿<code>ClassLoader</code>æŠ½è±¡ç±»ï¼Œæ‰€ä»¥æ‰©å±•ç±»åŠ è½½å™¨çš„<code>getParent()</code>æ–¹æ³•è¿”å›<code>null</code>ã€‚ä½†å®é™…ä¸Šï¼Œæ‰©å±•ç±»åŠ è½½å™¨çš„çˆ¶ç±»åŠ è½½å™¨æ˜¯æ ¹ç±»åŠ è½½å™¨ï¼Œåªæ˜¯æ ¹ç±»åŠ è½½å™¨å¹¶ä¸æ˜¯ Java å®ç°çš„ã€‚</p><p>ç³»ç»Ÿç±»åŠ è½½å™¨æ˜¯<code>AppClassLoader</code>çš„å®ä¾‹ï¼Œæ‰©å±•ç±»åŠ è½½å™¨æ˜¯<code>ExtClassLoader</code>çš„å®ä¾‹ã€‚</p><p>ç±»åŠ è½½å™¨åŠ è½½ Class å¤§è‡´è¦ç»è¿‡å¦‚ä¸‹ 8 ä¸ªæ­¥éª¤ã€‚</p><ol><li>æ£€æµ‹æ­¤ Class æ˜¯å¦è½½å…¥è¿‡ï¼ˆå³åœ¨ç¼“å­˜åŒºä¸­æ˜¯å¦æœ‰æ­¤ Classï¼‰ï¼Œå¦‚æœæœ‰åˆ™ç›´æ¥è¿›å…¥ç¬¬ 8 æ­¥ï¼Œå¦åˆ™æ¥ç€æ‰§è¡Œç¬¬ 2 æ­¥ã€‚</li><li>å¦‚æœçˆ¶ç±»åŠ è½½å™¨ä¸å­˜åœ¨ï¼ˆå¦‚æœæ²¡æœ‰çˆ¶ç±»åŠ è½½å™¨ï¼Œåˆ™è¦ä¹ˆ parent ä¸€å®šæ˜¯æ ¹ç±»åŠ è½½å™¨ï¼Œè¦ä¹ˆæœ¬èº«å°±æ˜¯æ ¹ç±»åŠ è½½å™¨ï¼‰ï¼Œåˆ™è·³åˆ°ç¬¬ 4 æ­¥æ‰§è¡Œï¼›å¦‚æœçˆ¶ç±»åŠ è½½å™¨å­˜åœ¨ï¼Œåˆ™æ¥ç€æ‰§è¡Œç¬¬ 3 æ­¥ã€‚</li><li>è¯·æ±‚ä½¿ç”¨çˆ¶ç±»åŠ è½½å™¨å»è½½å…¥ç›®æ ‡ç±»ï¼Œå¦‚æœæˆåŠŸè½½å…¥åˆ™è·³åˆ°ç¬¬ 8 æ­¥ï¼Œå¦åˆ™æ¥ç€æ‰§è¡Œç¬¬ 5 æ­¥ã€‚</li><li>è¯·æ±‚ä½¿ç”¨æ ¹ç±»åŠ è½½å™¨æ¥è½½å…¥ç›®æ ‡ç±»ï¼Œå¦‚æœæˆåŠŸè½½å…¥åˆ™è·³åˆ°ç¬¬ 8 æ­¥ï¼Œå¦åˆ™è·³åˆ°ç¬¬ 7 æ­¥ã€‚</li><li>å½“å‰ç±»åŠ è½½å™¨å°è¯•å¯»æ‰¾ Class æ–‡ä»¶ï¼ˆä»ä¸æ­¤<code>ClassLoader</code>ç›¸å…³çš„ç±»è·¯å¾„ä¸­å¯»æ‰¾ï¼‰ï¼Œå¦‚æœæ‰¾åˆ°åˆ™æ‰§è¡Œç¬¬ 6 æ­¥ï¼Œå¦‚æœæ‰¾ä¸åˆ°åˆ™è·³åˆ°ç¬¬ 7 æ­¥ã€‚</li><li>ä»æ–‡ä»¶ä¸­è½½å…¥ Classï¼ŒæˆåŠŸè½½å…¥åè·³åˆ°ç¬¬ 8 æ­¥ã€‚</li><li>æŠ›å‡º<code>ClassNotFoundException</code>å¼‚å¸¸ã€‚</li><li>è¿”å›å¯¹åº”çš„<code>java.lang.Class</code>å¯¹è±¡ã€‚</li></ol><p>å…¶ä¸­ï¼Œç¬¬ 5ã€6 æ­¥å…è®¸é‡å†™<code>ClassLoader</code>çš„<code>findClass()</code>æ–¹æ³•æ¥å®ç°è‡ªå·±çš„è½½å…¥ç­–ç•¥ï¼Œç”šè‡³é‡å†™<code>loadClass()</code>æ–¹æ³•æ¥å®ç°è‡ªå·±çš„è½½å…¥è¿‡ç¨‹ã€‚</p><h3 id="åˆ›å»ºå¹¶ä½¿ç”¨è‡ªå®šä¹‰çš„ç±»åŠ è½½å™¨" tabindex="-1"><a class="header-anchor" href="#åˆ›å»ºå¹¶ä½¿ç”¨è‡ªå®šä¹‰çš„ç±»åŠ è½½å™¨" aria-hidden="true">#</a> åˆ›å»ºå¹¶ä½¿ç”¨è‡ªå®šä¹‰çš„ç±»åŠ è½½å™¨</h3><p>JVM ä¸­é™¤æ ¹ç±»åŠ è½½å™¨ä¹‹å¤–çš„æ‰€æœ‰ç±»åŠ è½½å™¨éƒ½æ˜¯<code>ClassLoader</code>å­ç±»çš„å®ä¾‹ï¼Œå¯ä»¥é€šè¿‡æ‰©å±•<code>ClassLoader</code>çš„å­ç±»ï¼Œå¹¶é‡å†™è¯¥<code>ClassLoader</code>æ‰€åŒ…å«çš„æ–¹æ³•æ¥å®ç°è‡ªå®šä¹‰çš„ç±»åŠ è½½å™¨ã€‚</p><p><code>ClassLoader</code>ç±»æœ‰å¦‚ä¸‹ä¸¤ä¸ªå…³é”®æ–¹æ³•ã€‚</p><ul><li><code>oadClass(String name, boolean resolve)</code>ï¼šè¯¥æ–¹æ³•ä¸º<code>ClassLoader</code>çš„å…¥å£ç‚¹ï¼Œæ ¹æ®æŒ‡å®šçš„äºŒè¿›åˆ¶åç§°æ¥åŠ è½½ç±»ï¼Œç³»ç»Ÿå°±æ˜¯è°ƒç”¨<code>ClassLoader</code>çš„è¯¥æ–¹æ³•æ¥è·å–æŒ‡å®šç±»å¯¹åº”çš„<code>Class</code>å¯¹è±¡ã€‚</li><li><code>findClass(String name)</code>ï¼šæ ¹æ®äºŒè¿›åˆ¶åç§°æ¥æŸ¥æ‰¾ç±»ã€‚</li></ul><p><code>loadClass()</code>æ–¹æ³•çš„æ‰§è¡Œæ­¥éª¤å¦‚ä¸‹ï¼š</p><ol><li>ç”¨<code>findLoadedClass(String)</code> æ¥æ£€æŸ¥æ˜¯å¦å·²ç»åŠ è½½ç±»ï¼Œå¦‚æœå·²ç»åŠ è½½åˆ™ç›´æ¥è¿”å›ã€‚</li><li>åœ¨çˆ¶ç±»åŠ è½½å™¨ä¸Šè°ƒç”¨<code>loadClass()</code>æ–¹æ³•ã€‚å¦‚æœçˆ¶ç±»åŠ è½½å™¨ä¸º<code>null</code>ï¼Œåˆ™ä½¿ç”¨æ ¹ç±»åŠ è½½å™¨æ¥åŠ è½½ã€‚</li><li>è°ƒç”¨<code>findClass(String)</code>æ–¹æ³•æŸ¥æ‰¾ç±»ã€‚</li></ol><p>é‡å†™<code>findClass()</code>æ–¹æ³•å¯ä»¥é¿å…è¦†ç›–é»˜è®¤ç±»åŠ è½½å™¨çš„çˆ¶ç±»å§”æ‰˜ã€ç¼“å†²æœºåˆ¶ä¸¤ç§ç­–ç•¥ï¼›å¦‚æœé‡å†™<code>loadClass()</code>æ–¹æ³•ï¼Œåˆ™å®ç°é€»è¾‘æ›´ä¸ºå¤æ‚ã€‚</p><p>åœ¨<code>ClassLoader</code>é‡Œè¿˜æœ‰ä¸€ä¸ªæ ¸å¿ƒæ–¹æ³•ï¼š<code>Class defineClass(String name, byte[] b,int off, int len)</code>ï¼Œè¯¥æ–¹æ³•è´Ÿè´£å°†æŒ‡å®šç±»çš„å­—èŠ‚ç æ–‡ä»¶ï¼ˆå³ Class æ–‡ä»¶ï¼Œå¦‚<code>Hello.class</code>ï¼‰è¯»å…¥å­—èŠ‚æ•°ç»„<code>byte[] b</code>å†…ï¼Œå¹¶æŠŠå®ƒè½¬æ¢ä¸º<code>Class</code>å¯¹è±¡ï¼Œè¯¥å­—èŠ‚ç æ–‡ä»¶å¯ä»¥æ¥æºäºæ–‡ä»¶ã€ç½‘ç»œç­‰ã€‚</p><p><code>defineClass()</code>æ–¹æ³•ç®¡ç† JVM çš„è®¸å¤šå¤æ‚çš„å®ç°ï¼Œå®ƒè´Ÿè´£å°†å­—èŠ‚ç åˆ†ææˆè¿è¡Œæ—¶æ•°æ®ç»“æ„ï¼Œå¹¶æ ¡éªŒæœ‰æ•ˆæ€§ç­‰ã€‚</p><p><code>ClassLoader</code>é‡Œè¿˜åŒ…å«å¦‚ä¸‹ä¸€äº›æ™®é€šæ–¹æ³•ã€‚</p><ul><li><code>findSystemClass(String name)</code>ï¼šä»æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿè£…å…¥æ–‡ä»¶ã€‚å®ƒåœ¨æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿä¸­å¯»æ‰¾ç±»æ–‡ä»¶ï¼Œå¦‚æœå­˜åœ¨ï¼Œå°±ä½¿ç”¨<code>defineClass()</code>æ–¹æ³•å°†åŸå§‹å­—èŠ‚è½¬æ¢æˆ<code>Class</code>å¯¹è±¡ï¼Œä»¥å°†è¯¥æ–‡ä»¶è½¬æ¢æˆç±»ã€‚</li><li><code>static getSystemClassLoader()</code>ï¼šè¿™æ˜¯ä¸€ä¸ªé™æ€æ–¹æ³•ï¼Œç”¨äºè¿”å›ç³»ç»Ÿç±»åŠ è½½å™¨ã€‚</li><li><code>getParent()</code>ï¼šè·å–è¯¥ç±»åŠ è½½å™¨çš„çˆ¶ç±»åŠ è½½å™¨ã€‚</li><li><code>resolveClass(Class&lt;?&gt; c)</code>ï¼šé“¾æ¥æŒ‡å®šçš„ç±»ã€‚ç±»åŠ è½½å™¨å¯ä»¥ä½¿ç”¨æ­¤æ–¹æ³•æ¥é“¾æ¥ç±» cã€‚</li><li><code>findLoadedClass(String name)</code>ï¼šå¦‚æœæ­¤ Java è™šæ‹Ÿæœºå·²åŠ è½½äº†åä¸º<code>name</code>çš„ç±»ï¼Œåˆ™ç›´æ¥è¿”å›è¯¥ç±»å¯¹åº”çš„<code>Class</code>å®ä¾‹ï¼Œå¦åˆ™è¿”å›<code>null</code>ã€‚è¯¥æ–¹æ³•æ˜¯ Java ç±»åŠ è½½ç¼“å­˜æœºåˆ¶çš„ä½“ç°ã€‚</li></ul><p>ä¸‹é¢ç¨‹åºå¼€å‘äº†ä¸€ä¸ªè‡ªå®šä¹‰çš„<code>ClassLoader</code>ï¼Œè¯¥<code>ClassLoader</code>é€šè¿‡é‡å†™<code>findClass()</code>æ–¹æ³•æ¥å®ç°è‡ªå®šä¹‰çš„ç±»åŠ è½½æœºåˆ¶ã€‚è¿™ä¸ª<code>ClassLoader</code>å¯ä»¥åœ¨åŠ è½½ç±»ä¹‹å‰å…ˆç¼–è¯‘è¯¥ç±»çš„æºæ–‡ä»¶ï¼Œä»è€Œå®ç°è¿è¡Œ Java ä¹‹å‰å…ˆç¼–è¯‘è¯¥ç¨‹åºçš„ç›®æ ‡ï¼Œè¿™æ ·å³å¯é€šè¿‡è¯¥<code>ClassLoader</code>ç›´æ¥è¿è¡Œ Java æºæ–‡ä»¶ã€‚</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">File</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">FileInputStream</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>reflect<span class="token punctuation">.</span></span><span class="token class-name">Method</span></span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * <span class="token keyword">@author</span> ç©º~ 2022/8/22 å‘¨ä¸€ 17:05
 **/</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CompileClassLoader</span> <span class="token keyword">extends</span> <span class="token class-name">ClassLoader</span> <span class="token punctuation">{</span>

  <span class="token comment">// å®šä¹‰ä¸€ä¸ªä¸»æ–¹æ³•</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
    <span class="token comment">// å¦‚æœè¿è¡Œè¯¥ç¨‹åºæ—¶æ²¡æœ‰å‚æ•°ï¼Œå³æ²¡æœ‰ç›®æ ‡ç±»</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>args<span class="token punctuation">.</span>length <span class="token operator">&lt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;ç¼ºå°‘ç›®æ ‡ç±»ï¼Œè¯·æŒ‰å¦‚ä¸‹æ ¼å¼è¿è¡ŒJavaæºæ–‡ä»¶ï¼š&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;java CompileClassLoader ClassName&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯éœ€è¦è¿è¡Œçš„ç±»</span>
    <span class="token class-name">String</span> progClass <span class="token operator">=</span> args<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token comment">// å‰©ä¸‹çš„å‚æ•°å°†ä½œä¸ºè¿è¡Œç›®æ ‡ç±»æ—¶çš„å‚æ•°</span>
    <span class="token comment">// å°†è¿™äº›å‚æ•°å¤åˆ¶åˆ°ä¸€ä¸ªæ–°æ•°ç»„ä¸­</span>
    <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> progArgs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">[</span>args<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">arraycopy</span><span class="token punctuation">(</span>args<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> progArgs
        <span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> progArgs<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">CompileClassLoader</span> ccl <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CompileClassLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// åŠ è½½éœ€è¦è¿è¡Œçš„ç±»</span>
    <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> clazz <span class="token operator">=</span> ccl<span class="token punctuation">.</span><span class="token function">loadClass</span><span class="token punctuation">(</span>progClass<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// è·å–éœ€è¦è¿è¡Œçš„ç±»çš„ä¸»æ–¹æ³•</span>
    <span class="token class-name">Method</span> main <span class="token operator">=</span> clazz<span class="token punctuation">.</span><span class="token function">getMethod</span><span class="token punctuation">(</span><span class="token string">&quot;main&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span> argsArray <span class="token operator">=</span> <span class="token punctuation">{</span>progArgs<span class="token punctuation">}</span><span class="token punctuation">;</span>
    main<span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> argsArray<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// è¯»å–ä¸€ä¸ªæ–‡ä»¶çš„å†…å®¹</span>
  <span class="token keyword">private</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token class-name">String</span> filename<span class="token punctuation">)</span>
      <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token class-name">File</span> file <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span>filename<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">long</span> len <span class="token operator">=</span> file<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> raw <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> len<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">try</span> <span class="token punctuation">(</span>
        <span class="token class-name">FileInputStream</span> fin <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// ä¸€æ¬¡è¯»å–Classæ–‡ä»¶çš„å…¨éƒ¨äºŒè¿›åˆ¶æ•°æ®</span>
      <span class="token keyword">int</span> r <span class="token operator">=</span> fin<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>raw<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>r <span class="token operator">!=</span> len<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">IOException</span><span class="token punctuation">(</span><span class="token string">&quot;æ— æ³•è¯»å–å…¨éƒ¨æ–‡ä»¶ï¼š&quot;</span> <span class="token operator">+</span> r <span class="token operator">+</span> <span class="token string">&quot; !=&quot;</span> <span class="token operator">+</span> len<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">return</span> raw<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// å®šä¹‰ç¼–è¯‘æŒ‡å®šJavaæ–‡ä»¶çš„æ–¹æ³•</span>
  <span class="token keyword">private</span> <span class="token keyword">boolean</span> <span class="token function">compile</span><span class="token punctuation">(</span><span class="token class-name">String</span> javaFile<span class="token punctuation">)</span>
      <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;CompileClassLoader:æ­£åœ¨ç¼–è¯‘ &quot;</span> <span class="token operator">+</span> javaFile <span class="token operator">+</span> <span class="token string">&quot;...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// è°ƒç”¨ç³»ç»Ÿçš„javacå‘½ä»¤</span>
    <span class="token class-name">Process</span> p <span class="token operator">=</span> <span class="token class-name">Runtime</span><span class="token punctuation">.</span><span class="token function">getRuntime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token string">&quot;javac &quot;</span> <span class="token operator">+</span> javaFile<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
      <span class="token comment">// å…¶ä»–çº¿ç¨‹éƒ½ç­‰å¾…è¿™ä¸ªçº¿ç¨‹å®Œæˆ</span>
      p<span class="token punctuation">.</span><span class="token function">waitFor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> ie<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>ie<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// è·å–javacçº¿ç¨‹çš„é€€å‡ºå€¼</span>
    <span class="token keyword">int</span> ret <span class="token operator">=</span> p<span class="token punctuation">.</span><span class="token function">exitValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// è¿”å›ç¼–è¯‘æ˜¯å¦æˆåŠŸ</span>
    <span class="token keyword">return</span> ret <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// é‡å†™ClassLoaderçš„findClassæ–¹æ³•</span>
  <span class="token keyword">protected</span> <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> <span class="token function">findClass</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ClassNotFoundException</span> <span class="token punctuation">{</span>
    <span class="token class-name">Class</span> clazz <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token comment">// å°†åŒ…è·¯å¾„ä¸­çš„ç‚¹ï¼ˆ.ï¼‰æ›¿æ¢æˆæ–œçº¿ï¼ˆ/ï¼‰</span>
    <span class="token class-name">String</span> fileStub <span class="token operator">=</span> name<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">&quot;.&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;/&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> javaFilename <span class="token operator">=</span> fileStub <span class="token operator">+</span> <span class="token string">&quot;.java&quot;</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> classFilename <span class="token operator">=</span> fileStub <span class="token operator">+</span> <span class="token string">&quot;.class&quot;</span><span class="token punctuation">;</span>
    <span class="token class-name">File</span> javaFile <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span>javaFilename<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">File</span> classFile <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span>classFilename<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// å½“æŒ‡å®šJavaæºæ–‡ä»¶å­˜åœ¨ï¼Œä¸”Classæ–‡ä»¶ä¸å­˜åœ¨ï¼Œæˆ–è€…Javaæºæ–‡ä»¶</span>
    <span class="token comment">// çš„ä¿®æ”¹æ—¶é—´æ¯”Classæ–‡ä»¶çš„ä¿®æ”¹æ—¶é—´æ›´æ™šæ—¶ï¼Œé‡æ–°ç¼–è¯‘</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>javaFile<span class="token punctuation">.</span><span class="token function">exists</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span><span class="token operator">!</span>classFile<span class="token punctuation">.</span><span class="token function">exists</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token operator">||</span> javaFile<span class="token punctuation">.</span><span class="token function">lastModified</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> classFile<span class="token punctuation">.</span><span class="token function">lastModified</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token comment">// å¦‚æœç¼–è¯‘å¤±è´¥ï¼Œæˆ–è€…è¯¥Classæ–‡ä»¶ä¸å­˜åœ¨</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">compile</span><span class="token punctuation">(</span>javaFilename<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token operator">!</span>classFile<span class="token punctuation">.</span><span class="token function">exists</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">ClassNotFoundException</span><span class="token punctuation">(</span>
              <span class="token string">&quot;ClassNotFoundException:&quot;</span> <span class="token operator">+</span> javaFilename<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ex<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// å¦‚æœClassæ–‡ä»¶å­˜åœ¨ï¼Œç³»ç»Ÿè´Ÿè´£å°†è¯¥æ–‡ä»¶è½¬æ¢æˆClasså¯¹è±¡</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>classFile<span class="token punctuation">.</span><span class="token function">exists</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token comment">// å°†Classæ–‡ä»¶çš„äºŒè¿›åˆ¶æ•°æ®è¯»å…¥æ•°ç»„</span>
        <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> raw <span class="token operator">=</span> <span class="token function">getBytes</span><span class="token punctuation">(</span>classFilename<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// è°ƒç”¨ClassLoaderçš„defineClassæ–¹æ³•å°†äºŒè¿›åˆ¶æ•°æ®è½¬æ¢æˆClasså¯¹è±¡</span>
        clazz <span class="token operator">=</span> <span class="token function">defineClass</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> raw<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> raw<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> ie<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ie<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// å¦‚æœclazzä¸ºnullï¼Œè¡¨æ˜åŠ è½½å¤±è´¥ï¼Œåˆ™æŠ›å‡ºå¼‚å¸¸</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>clazz <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">ClassNotFoundException</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> clazz<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æä¾›ä¸€ä¸ªç®€å•çš„ä¸»ç±»ï¼Œè¯¥ä¸»ç±»æ— é¡»ç¼–è¯‘å°±å¯ä»¥ä½¿ç”¨ä¸Šé¢çš„<code>CompileClassLoader</code>æ¥è¿è¡Œå®ƒã€‚</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Hello</span> <span class="token punctuation">{</span>

  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> arg <span class="token operator">:</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;è¿è¡ŒHelloçš„å‚æ•°ï¼š&quot;</span> <span class="token operator">+</span> arg<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å› ä¸º<code>cmd</code>é»˜è®¤ç¼–ç ä¸º<code>GBK</code>ï¼Œç›´æ¥ç¼–è¯‘ä¼šå¯¼è‡´ä¹±ç ï¼Œå…ˆå°†éœ€è¦çš„ Java æ–‡ä»¶ç¼–ç æ ¼å¼æ”¹ä¸ºç›¸åº”ç±»å‹ã€‚</p><p><img src="https://gcore.jsdelivr.net/gh/SurplusFate/guide_img@main/img/202208221803871.png" alt="image-20220822180333754"></p><p><img src="https://gcore.jsdelivr.net/gh/SurplusFate/guide_img@main/img/202208221803788.png" alt="image-20220822180300669"></p><p>ä¿è¯<code>CompileClassLoader</code>ç±»å’Œ<code>Hello</code>åœ¨åŒä¸€ä¸ªåŒ…ä¸‹ï¼ˆä¸å¸¦åŒ…æœ€å¥½ï¼‰ï¼Œå…ˆå°†<code>CompileClassLoader</code>ç±»ç¼–è¯‘æˆ class æ–‡ä»¶ã€‚</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>javac CompileClassLoader.java
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ç„¶åå°±å¯ä»¥ç›´æ¥ä½¿ç”¨ java å‘½ä»¤ç¼–è¯‘ Hello ç±»äº†ã€‚</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">java</span> CompileClassLoader Hello ç–¯ç‹‚Javaè®²ä¹‰
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="https://gcore.jsdelivr.net/gh/SurplusFate/guide_img@main/img/202208221800656.png" alt="image-20220822180042871"></p><p>ä½¿ç”¨è‡ªå®šä¹‰çš„ç±»åŠ è½½å™¨ï¼Œå¯ä»¥å®ç°å¦‚ä¸‹å¸¸è§åŠŸèƒ½ã€‚</p><ul><li>æ‰§è¡Œä»£ç å‰è‡ªåŠ¨éªŒè¯æ•°å­—ç­¾åã€‚</li><li>æ ¹æ®ç”¨æˆ·æä¾›çš„å¯†ç è§£å¯†ä»£ç ï¼Œä»è€Œå¯ä»¥å®ç°ä»£ç æ··æ·†å™¨æ¥é¿å…åç¼–è¯‘ Class æ–‡ä»¶ã€‚</li><li>æ ¹æ®ç”¨æˆ·éœ€æ±‚æ¥åŠ¨æ€åœ°åŠ è½½ç±»ã€‚</li><li>æ ¹æ®åº”ç”¨éœ€æ±‚æŠŠå…¶ä»–æ•°æ®ä»¥å­—èŠ‚ç çš„å½¢å¼åŠ è½½åˆ°åº”ç”¨ä¸­ã€‚</li></ul><h3 id="urlclassloader-ç±»" tabindex="-1"><a class="header-anchor" href="#urlclassloader-ç±»" aria-hidden="true">#</a> URLClassLoader ç±»</h3><p>Java ä¸º<code>ClassLoader</code>æä¾›äº†ä¸€ä¸ª<code>URLClassLoader</code>å®ç°ç±»ï¼Œè¯¥ç±»ä¹Ÿæ˜¯ç³»ç»Ÿç±»åŠ è½½å™¨å’Œæ‰©å±•ç±»åŠ è½½å™¨çš„çˆ¶ç±»ï¼ˆæ­¤å¤„æ˜¯çˆ¶ç±»ï¼Œå°±æ˜¯æŒ‡ç±»ä¸ç±»ä¹‹é—´çš„ç»§æ‰¿å…³ç³»ï¼‰ã€‚<code>URLClassLoader</code>åŠŸèƒ½æ¯”è¾ƒå¼ºå¤§ï¼Œå®ƒæ—¢å¯ä»¥ä»æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿè·å–äºŒè¿›åˆ¶æ–‡ä»¶æ¥åŠ è½½ç±»ï¼Œä¹Ÿå¯ä»¥ä»è¿œç¨‹ä¸»æœºè·å–äºŒè¿›åˆ¶æ–‡ä»¶æ¥åŠ è½½ç±»ã€‚</p><p>å®é™…ä¸Šï¼Œåœ¨åº”ç”¨ç¨‹åºä¸­å¯ä»¥ç›´æ¥ä½¿ç”¨<code>URLClassLoader</code>æ¥åŠ è½½ç±»ï¼Œ<code>URLClassLoader</code>ç±»æä¾›äº†å¦‚ä¸‹ä¸¤ä¸ªæ„é€ å™¨ã€‚</p><ul><li><code>URLClassLoader(URL[] urls)</code>ï¼šä½¿ç”¨é»˜è®¤çš„çˆ¶ç±»åŠ è½½å™¨åˆ›å»ºä¸€ä¸ª<code>ClassLoader</code>å¯¹è±¡ï¼Œè¯¥å¯¹è±¡å°†ä»<code>urls</code>æ‰€æŒ‡å®šçš„ç³»åˆ—è·¯å¾„æ¥æŸ¥è¯¢å¹¶åŠ è½½ç±»ã€‚</li><li><code>URLClassLoader(URL[] urls, ClassLoader parent)</code>ï¼šä½¿ç”¨æŒ‡å®šçš„çˆ¶ç±»åŠ è½½å™¨åˆ›å»ºä¸€ä¸ª<code>ClassLoader</code>å¯¹è±¡ï¼Œå…¶ä»–åŠŸèƒ½ä¸å‰ä¸€ä¸ªæ„é€ å™¨ç›¸åŒã€‚</li></ul><p>ä¸€æ—¦å¾—åˆ°äº†<code>URLClassLoader</code>å¯¹è±¡ä¹‹åï¼Œå°±å¯ä»¥è°ƒç”¨è¯¥å¯¹è±¡çš„<code>loadClass()</code>æ–¹æ³•æ¥åŠ è½½æŒ‡å®šç±»ã€‚ä¸‹é¢ç¨‹åºç¤ºèŒƒäº†å¦‚ä½•ç›´æ¥ä»æ–‡ä»¶ç³»ç»Ÿä¸­åŠ è½½<code>MySQL</code>é©±åŠ¨ï¼Œå¹¶ä½¿ç”¨è¯¥é©±åŠ¨æ¥è·å–æ•°æ®åº“è¿æ¥ã€‚é€šè¿‡è¿™ç§æ–¹å¼æ¥è·å–æ•°æ®åº“è¿æ¥ï¼Œå¯ä»¥æ— é¡»å°†<code>MySQL</code>é©±åŠ¨æ·»åŠ åˆ°<code>CLASSPATH</code>ç¯å¢ƒå˜é‡ä¸­ã€‚</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">URLClassLoaderTest</span> <span class="token punctuation">{</span>

  <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Connection</span> conn<span class="token punctuation">;</span>

  <span class="token comment">// å®šä¹‰ä¸€ä¸ªè·å–æ•°æ®åº“è¿æ¥çš„æ–¹æ³•</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Connection</span> <span class="token function">getConn</span><span class="token punctuation">(</span><span class="token class-name">String</span> url<span class="token punctuation">,</span>
      <span class="token class-name">String</span> user<span class="token punctuation">,</span> <span class="token class-name">String</span> pass<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>conn <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// åˆ›å»ºä¸€ä¸ªURLæ•°ç»„</span>
      <span class="token constant">URL</span><span class="token punctuation">[</span><span class="token punctuation">]</span> urls <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token keyword">new</span> <span class="token class-name">URL</span><span class="token punctuation">(</span>
          <span class="token string">&quot;mysql-connector-java-5.1.47.jar&quot;</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token comment">// ä»¥é»˜è®¤çš„ClassLoaderä½œä¸ºçˆ¶ClassLoaderï¼Œåˆ›å»ºURLClassLoader</span>
      <span class="token class-name">URLClassLoader</span> myClassLoader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">URLClassLoader</span><span class="token punctuation">(</span>urls<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// åŠ è½½MySQLçš„JDBCé©±åŠ¨ï¼Œå¹¶åˆ›å»ºé»˜è®¤å®ä¾‹</span>
      <span class="token class-name">Driver</span> driver <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Driver</span><span class="token punctuation">)</span> myClassLoader<span class="token punctuation">.</span>
          <span class="token function">loadClass</span><span class="token punctuation">(</span><span class="token string">&quot;com.mysql.jdbc.Driver&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// åˆ›å»ºä¸€ä¸ªè®¾ç½®JDBCè¿æ¥å±æ€§çš„Propertieså¯¹è±¡</span>
      <span class="token class-name">Properties</span> props <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Properties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// è‡³å°‘éœ€è¦ä¸ºè¯¥å¯¹è±¡ä¼ å…¥userå’Œpasswordä¸¤ä¸ªå±æ€§</span>
      props<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">&quot;user&quot;</span><span class="token punctuation">,</span> user<span class="token punctuation">)</span><span class="token punctuation">;</span>
      props<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">&quot;password&quot;</span><span class="token punctuation">,</span> pass<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// è°ƒç”¨Driverå¯¹è±¡çš„connectæ–¹æ³•æ¥å–å¾—æ•°æ®åº“è¿æ¥</span>
      conn <span class="token operator">=</span> driver<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> props<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> conn<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token function">getConn</span><span class="token punctuation">(</span><span class="token string">&quot;jdbc:mysql://localhost:3306/bjpowernode&quot;</span>
        <span class="token punctuation">,</span> <span class="token string">&quot;root&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;root&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å½“æˆ‘ä»¬åˆ›å»º<code>URLClassLoader</code>æ—¶ä¼ å…¥äº†ä¸€ä¸ª URL æ•°ç»„å‚æ•°ï¼Œè¯¥<code>ClassLoader</code>å°±å¯ä»¥ä»è¿™ç³»åˆ— URL æŒ‡å®šçš„èµ„æºä¸­åŠ è½½æŒ‡å®šç±»ï¼Œè¿™é‡Œçš„<code>URL</code>å¯ä»¥ä»¥<code>file:</code>ä¸ºå‰ç¼€ï¼Œè¡¨æ˜ä»æœ¬åœ°æ–‡ä»¶ç³»ç»ŸåŠ è½½ï¼›å¯ä»¥ä»¥<code>http:</code>ä¸ºå‰ç¼€ï¼Œè¡¨æ˜ä»äº’è”ç½‘é€šè¿‡<code>HTTP</code>è®¿é—®æ¥åŠ è½½ï¼›ä¹Ÿå¯ä»¥ä»¥<code>ftp:</code>ä¸ºå‰ç¼€ï¼Œè¡¨æ˜ä»äº’è”ç½‘é€šè¿‡<code>FTP</code>è®¿é—®æ¥åŠ è½½â€¦â€¦åŠŸèƒ½éå¸¸å¼ºå¤§ã€‚</p><h2 id="åå°„" tabindex="-1"><a class="header-anchor" href="#åå°„" aria-hidden="true">#</a> åå°„</h2><p>ä»€ä¹ˆæ˜¯åå°„ï¼Ÿ</p><p>åå°„å°±æ˜¯ Reflectionï¼ŒJava çš„åå°„æ˜¯æŒ‡ç¨‹åºåœ¨è¿è¡ŒæœŸå¯ä»¥æ‹¿åˆ°ä¸€ä¸ªå¯¹è±¡çš„æ‰€æœ‰ä¿¡æ¯ã€‚</p><h3 id="class-ç±»" tabindex="-1"><a class="header-anchor" href="#class-ç±»" aria-hidden="true">#</a> Class ç±»</h3><p>é™¤äº†<code>int</code>ç­‰åŸºæœ¬ç±»å‹å¤–ï¼ŒJava çš„å…¶ä»–ç±»å‹å…¨éƒ¨éƒ½æ˜¯<code>class</code>ï¼ˆåŒ…æ‹¬<code>interface</code>ï¼‰ã€‚ä¾‹å¦‚ï¼š</p><ul><li><code>String</code></li><li><code>Object</code></li><li><code>Runnable</code></li><li><code>Exception</code></li><li>...</li></ul><p><code>class</code>ï¼ˆåŒ…æ‹¬<code>interface</code>ï¼‰çš„æœ¬è´¨æ˜¯æ•°æ®ç±»å‹ï¼ˆ<code>Type</code>ï¼‰ã€‚æ— ç»§æ‰¿å…³ç³»çš„æ•°æ®ç±»å‹æ— æ³•èµ‹å€¼ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">Number</span> n <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Double</span><span class="token punctuation">(</span><span class="token number">123.456</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// OK</span>
<span class="token class-name">String</span> s <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Double</span><span class="token punctuation">(</span><span class="token number">123.456</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// compile error!</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>è€Œ <code>class</code> æ˜¯ç”± JVM åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­åŠ¨æ€åŠ è½½çš„ã€‚JVM åœ¨ç¬¬ä¸€æ¬¡è¯»å–åˆ°ä¸€ç§ <code>class</code> ç±»å‹æ—¶ï¼Œå°†å…¶åŠ è½½è¿›å†…å­˜ã€‚</p><p>æ¯åŠ è½½ä¸€ç§ <code>class</code>ï¼ŒJVM å°±ä¸ºå…¶åˆ›å»ºä¸€ä¸ª <code>Class</code> ç±»å‹çš„å®ä¾‹ï¼Œå¹¶å…³è”èµ·æ¥ã€‚æ³¨æ„ï¼šè¿™é‡Œçš„ <code>Class</code> ç±»å‹æ˜¯ä¸€ä¸ªåå« <code>Class</code> çš„ <code>class</code>ã€‚å®ƒé•¿è¿™æ ·ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token keyword">class</span> <span class="token class-name">Class</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">Class</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä»¥ <code>String</code> ç±»ä¸ºä¾‹ï¼Œå½“ JVM åŠ è½½ <code>String</code> ç±»æ—¶ï¼Œå®ƒé¦–å…ˆè¯»å– <code>String.class</code> æ–‡ä»¶åˆ°å†…å­˜ï¼Œç„¶åï¼Œä¸º <code>String</code> ç±»åˆ›å»ºä¸€ä¸ª <code>Class</code> å®ä¾‹å¹¶å…³è”èµ·æ¥ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">Class</span> cls <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Class</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>è¿™ä¸ª <code>Class</code> å®ä¾‹æ˜¯ JVM å†…éƒ¨åˆ›å»ºçš„ï¼ŒæŸ¥çœ‹ JDK æºç ï¼Œå¯ä»¥å‘ç° <code>Class</code> ç±»çš„æ„é€ æ–¹æ³•æ˜¯ <code>private</code>ï¼Œåªæœ‰ JVM èƒ½åˆ›å»º <code>Class</code> å®ä¾‹ï¼Œè‡ªå·±çš„ Java ç¨‹åºæ˜¯æ— æ³•åˆ›å»º <code>Class</code> å®ä¾‹çš„ã€‚</p><p>æ‰€ä»¥ï¼ŒJVM æŒæœ‰çš„æ¯ä¸ª <code>Class</code> å®ä¾‹éƒ½æŒ‡å‘ä¸€ä¸ªæ•°æ®ç±»å‹ï¼ˆ<code>class</code> æˆ– <code>interface</code>ï¼‰ï¼š</p><div class="language-ascii line-numbers-mode" data-ext="ascii"><pre class="language-ascii"><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      Class Instance       â”‚â”€â”€â”€â”€â”€â”€&gt; String
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚name = &quot;java.lang.String&quot;  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      Class Instance       â”‚â”€â”€â”€â”€â”€â”€&gt; Random
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚name = &quot;java.util.Random&quot;  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      Class Instance       â”‚â”€â”€â”€â”€â”€â”€&gt; Runnable
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚name = &quot;java.lang.Runnable&quot;â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸€ä¸ª <code>Class</code> å®ä¾‹åŒ…å«äº†è¯¥ <code>class</code> çš„æ‰€æœ‰å®Œæ•´ä¿¡æ¯ï¼š</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      Class Instance       â”‚â”€â”€â”€â”€â”€â”€<span class="token operator">&gt;</span> String
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚name <span class="token operator">=</span> <span class="token string">&quot;java.lang.String&quot;</span>  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚package <span class="token operator">=</span> <span class="token string">&quot;java.lang&quot;</span>      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚super <span class="token operator">=</span> <span class="token string">&quot;java.lang.Object&quot;</span> â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚interface <span class="token operator">=</span> CharSequence<span class="token punctuation">..</span>.â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚field <span class="token operator">=</span> value<span class="token punctuation">[</span><span class="token punctuation">]</span>,hash,<span class="token punctuation">..</span>.   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚method <span class="token operator">=</span> indexOf<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">..</span>.      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç”±äº JVM ä¸ºæ¯ä¸ªåŠ è½½çš„ <code>class</code> åˆ›å»ºäº†å¯¹åº”çš„ <code>Class</code> å®ä¾‹ï¼Œå¹¶åœ¨å®ä¾‹ä¸­ä¿å­˜äº†è¯¥ <code>class</code> çš„æ‰€æœ‰ä¿¡æ¯ï¼ŒåŒ…æ‹¬ç±»åã€åŒ…åã€çˆ¶ç±»ã€å®ç°çš„æ¥å£ã€æ‰€æœ‰æ–¹æ³•ã€å­—æ®µç­‰ï¼Œå› æ­¤ï¼Œå¦‚æœè·å–äº†æŸä¸ª <code>Class</code> å®ä¾‹ï¼Œå°±å¯ä»¥é€šè¿‡è¿™ä¸ª <code>Class</code> å®ä¾‹è·å–åˆ°è¯¥å®ä¾‹å¯¹åº”çš„ <code>class</code> çš„æ‰€æœ‰ä¿¡æ¯ã€‚</p><p>è¿™ç§é€šè¿‡ <code>Class</code> å®ä¾‹è·å– <code>class</code> ä¿¡æ¯çš„æ–¹æ³•ç§°ä¸ºåå°„ï¼ˆReflectionï¼‰ã€‚</p><p>æœ‰ä¸‰ä¸ªæ–¹æ³•è·å¯ä»¥å–ä¸€ä¸ª <code>class</code> çš„ <code>Class</code> å®ä¾‹ï¼š</p><p>æ–¹æ³•ä¸€ï¼šç›´æ¥é€šè¿‡ä¸€ä¸ª <code>class</code> çš„é™æ€å˜é‡ <code>class</code> è·å–ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">Class</span> cls <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>æ–¹æ³•äºŒï¼šå¦‚æœæœ‰ä¸€ä¸ªå®ä¾‹å˜é‡ï¼Œå¯ä»¥é€šè¿‡è¯¥å®ä¾‹å˜é‡æä¾›çš„ <code>getClass()</code> æ–¹æ³•è·å–ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">String</span> s <span class="token operator">=</span> <span class="token string">&quot;Hello&quot;</span><span class="token punctuation">;</span>
<span class="token class-name">Class</span> cls <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>æ–¹æ³•ä¸‰ï¼šå¦‚æœçŸ¥é“ä¸€ä¸ª <code>class</code> çš„å®Œæ•´ç±»åï¼Œå¯ä»¥é€šè¿‡é™æ€æ–¹æ³• <code>Class.forName()</code> è·å–ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">Class</span> cls <span class="token operator">=</span> <span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span><span class="token string">&quot;java.lang.String&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å› ä¸º <code>Class</code> å®ä¾‹åœ¨ JVM ä¸­æ˜¯å”¯ä¸€çš„ï¼Œæ‰€ä»¥ï¼Œä¸Šè¿°æ–¹æ³•è·å–çš„ <code>Class</code> å®ä¾‹æ˜¯åŒä¸€ä¸ªå®ä¾‹ã€‚å¯ä»¥ç”¨ <code>==</code> æ¯”è¾ƒä¸¤ä¸ª <code>Class</code> å®ä¾‹ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">Class</span> cls1 <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">;</span>

<span class="token class-name">String</span> s <span class="token operator">=</span> <span class="token string">&quot;Hello&quot;</span><span class="token punctuation">;</span>
<span class="token class-name">Class</span> cls2 <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">boolean</span> sameClass <span class="token operator">=</span> cls1 <span class="token operator">==</span> cls2<span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>Class</code> å®ä¾‹æ¯”è¾ƒå’Œ <code>instanceof</code> çš„å·®åˆ«ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">Integer</span> n <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Integer</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">boolean</span> b1 <span class="token operator">=</span> n <span class="token keyword">instanceof</span> <span class="token class-name">Integer</span><span class="token punctuation">;</span> <span class="token comment">// trueï¼Œå› ä¸ºnæ˜¯Integerç±»å‹</span>
<span class="token keyword">boolean</span> b2 <span class="token operator">=</span> n <span class="token keyword">instanceof</span> <span class="token class-name">Number</span><span class="token punctuation">;</span> <span class="token comment">// trueï¼Œå› ä¸ºnæ˜¯Numberç±»å‹çš„å­ç±»</span>

<span class="token keyword">boolean</span> b3 <span class="token operator">=</span> n<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">;</span> <span class="token comment">// trueï¼Œå› ä¸ºn.getClass()è¿”å›Integer.class</span>
<span class="token keyword">boolean</span> b4 <span class="token operator">=</span> n<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">Number</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">;</span> <span class="token comment">// falseï¼Œå› ä¸ºInteger.class!=Number.class</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç”¨ <code>instanceof</code> ä¸ä½†åŒ¹é…æŒ‡å®šç±»å‹ï¼Œè¿˜åŒ¹é…æŒ‡å®šç±»å‹çš„å­ç±»ã€‚è€Œç”¨ <code>==</code> åˆ¤æ–­ <code>class</code> å®ä¾‹å¯ä»¥ç²¾ç¡®åœ°åˆ¤æ–­æ•°æ®ç±»å‹ï¼Œä½†ä¸èƒ½ä½œå­ç±»å‹æ¯”è¾ƒã€‚</p><p>é€šå¸¸æƒ…å†µä¸‹ï¼Œåº”è¯¥ç”¨ <code>instanceof</code> åˆ¤æ–­æ•°æ®ç±»å‹ï¼Œå› ä¸ºé¢å‘æŠ½è±¡ç¼–ç¨‹çš„æ—¶å€™ï¼Œä¸å…³å¿ƒå…·ä½“çš„å­ç±»å‹ã€‚åªæœ‰åœ¨éœ€è¦ç²¾ç¡®åˆ¤æ–­ä¸€ä¸ªç±»å‹æ˜¯ä¸æ˜¯æŸä¸ª <code>class</code> çš„æ—¶å€™ï¼Œæ‰ä½¿ç”¨ <code>==</code> åˆ¤æ–­ <code>class</code> å®ä¾‹ã€‚</p><p>å› ä¸ºåå°„çš„ç›®çš„æ˜¯ä¸ºäº†è·å¾—æŸä¸ªå®ä¾‹çš„ä¿¡æ¯ã€‚å› æ­¤ï¼Œå½“æ‹¿åˆ°æŸä¸ª <code>Object</code> å®ä¾‹æ—¶ï¼Œå¯ä»¥é€šè¿‡åå°„è·å–è¯¥ <code>Object</code> çš„ <code>class</code> ä¿¡æ¯ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">void</span> <span class="token function">printObjectInfo</span><span class="token punctuation">(</span><span class="token class-name">Object</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Class</span> cls <span class="token operator">=</span> obj<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä» <code>Class</code> å®ä¾‹è·å–è·å–çš„åŸºæœ¬ä¿¡æ¯ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">printClassInfo</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">printClassInfo</span><span class="token punctuation">(</span><span class="token class-name">Runnable</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">printClassInfo</span><span class="token punctuation">(</span><span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>time<span class="token punctuation">.</span></span>Month</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">printClassInfo</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">printClassInfo</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">printClassInfo</span><span class="token punctuation">(</span><span class="token class-name">Class</span> cls<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Class name: &quot;</span> <span class="token operator">+</span> cls<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Simple name: &quot;</span> <span class="token operator">+</span> cls<span class="token punctuation">.</span><span class="token function">getSimpleName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>cls<span class="token punctuation">.</span><span class="token function">getPackage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Package name: &quot;</span> <span class="token operator">+</span> cls<span class="token punctuation">.</span><span class="token function">getPackage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;is interface: &quot;</span> <span class="token operator">+</span> cls<span class="token punctuation">.</span><span class="token function">isInterface</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;is enum: &quot;</span> <span class="token operator">+</span> cls<span class="token punctuation">.</span><span class="token function">isEnum</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;is array: &quot;</span> <span class="token operator">+</span> cls<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;is primitive: &quot;</span> <span class="token operator">+</span> cls<span class="token punctuation">.</span><span class="token function">isPrimitive</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ•°ç»„ï¼ˆä¾‹å¦‚ <code>String[]</code>ï¼‰ä¹Ÿæ˜¯ä¸€ç§ç±»ï¼Œè€Œä¸”ä¸åŒäº <code>String.class</code>ï¼Œå®ƒçš„ç±»åæ˜¯ <code>[Ljava.lang.String;</code>ã€‚æ­¤å¤–ï¼ŒJVM ä¸ºæ¯ä¸€ç§åŸºæœ¬ç±»å‹å¦‚ <code>int</code> ä¹Ÿåˆ›å»ºäº† <code>Class</code> å®ä¾‹ï¼Œé€šè¿‡ <code>int.class</code> è®¿é—®ã€‚</p><p>å¦‚æœè·å–åˆ°äº†ä¸€ä¸ª <code>Class</code> å®ä¾‹ï¼Œå°±å¯ä»¥é€šè¿‡è¯¥ <code>Class</code> å®ä¾‹æ¥åˆ›å»ºå¯¹åº”ç±»å‹çš„å®ä¾‹ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// è·å–Stringçš„Classå®ä¾‹:</span>
<span class="token class-name">Class</span> cls <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">;</span>
<span class="token comment">// åˆ›å»ºä¸€ä¸ªStringå®ä¾‹:</span>
<span class="token class-name">String</span> s <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span> cls<span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šè¿°ä»£ç ç›¸å½“äº <code>new String()</code>ã€‚é€šè¿‡ <code>Class.newInstance()</code> å¯ä»¥åˆ›å»ºç±»å®ä¾‹ï¼Œå®ƒçš„å±€é™æ˜¯ï¼šåªèƒ½è°ƒç”¨ <code>public</code> çš„æ— å‚æ•°æ„é€ æ–¹æ³•ã€‚å¸¦å‚æ•°çš„æ„é€ æ–¹æ³•ï¼Œæˆ–è€…é <code>public</code> çš„æ„é€ æ–¹æ³•éƒ½æ— æ³•é€šè¿‡ <code>Class.newInstance()</code> è¢«è°ƒç”¨ã€‚</p><h4 id="åŠ¨æ€åŠ è½½" tabindex="-1"><a class="header-anchor" href="#åŠ¨æ€åŠ è½½" aria-hidden="true">#</a> åŠ¨æ€åŠ è½½</h4><p>JVM åœ¨æ‰§è¡Œ Java ç¨‹åºçš„æ—¶å€™ï¼Œå¹¶ä¸æ˜¯ä¸€æ¬¡æ€§æŠŠæ‰€æœ‰ç”¨åˆ°çš„ class å…¨éƒ¨åŠ è½½åˆ°å†…å­˜ï¼Œè€Œæ˜¯ç¬¬ä¸€æ¬¡éœ€è¦ç”¨åˆ° class æ—¶æ‰åŠ è½½ã€‚ä¾‹å¦‚ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>args<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">create</span><span class="token punctuation">(</span>args<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">create</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Person</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å½“æ‰§è¡Œ <code>Main.java</code> æ—¶ï¼Œç”±äºç”¨åˆ°äº† <code>Main</code>ï¼Œå› æ­¤ï¼ŒJVM é¦–å…ˆä¼šæŠŠ <code>Main.class</code> åŠ è½½åˆ°å†…å­˜ã€‚ç„¶è€Œï¼Œå¹¶ä¸ä¼šåŠ è½½ <code>Person.class</code>ï¼Œé™¤éç¨‹åºæ‰§è¡Œåˆ° <code>create()</code> æ–¹æ³•ï¼ŒJVM å‘ç°éœ€è¦åŠ è½½ <code>Person</code> ç±»æ—¶ï¼Œæ‰ä¼šé¦–æ¬¡åŠ è½½ <code>Person.class</code>ã€‚å¦‚æœæ²¡æœ‰æ‰§è¡Œ <code>create()</code> æ–¹æ³•ï¼Œé‚£ä¹ˆ <code>Person.class</code> æ ¹æœ¬å°±ä¸ä¼šè¢«åŠ è½½ã€‚</p><p>è¿™å°±æ˜¯ JVM åŠ¨æ€åŠ è½½ <code>class</code> çš„ç‰¹æ€§ã€‚</p><p>åŠ¨æ€åŠ è½½ <code>class</code> çš„ç‰¹æ€§å¯¹äº Java ç¨‹åºéå¸¸é‡è¦ã€‚åˆ©ç”¨ JVM åŠ¨æ€åŠ è½½ <code>class</code> çš„ç‰¹æ€§ï¼Œæ‰èƒ½åœ¨è¿è¡ŒæœŸæ ¹æ®æ¡ä»¶åŠ è½½ä¸åŒçš„å®ç°ç±»ã€‚ä¾‹å¦‚ï¼ŒCommons Logging æ€»æ˜¯ä¼˜å…ˆä½¿ç”¨ Log4jï¼Œåªæœ‰å½“ Log4j ä¸å­˜åœ¨æ—¶ï¼Œæ‰ä½¿ç”¨ JDK çš„ loggingã€‚åˆ©ç”¨ JVM åŠ¨æ€åŠ è½½ç‰¹æ€§ï¼Œå¤§è‡´çš„å®ç°ä»£ç å¦‚ä¸‹ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// Commons Loggingä¼˜å…ˆä½¿ç”¨Log4j:</span>
<span class="token class-name">LogFactory</span> factory <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isClassPresent</span><span class="token punctuation">(</span><span class="token string">&quot;org.apache.logging.log4j.Logger&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    factory <span class="token operator">=</span> <span class="token function">createLog4j</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    factory <span class="token operator">=</span> <span class="token function">createJdkLog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">boolean</span> <span class="token function">isClassPresent</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™å°±æ˜¯ä¸ºä»€ä¹ˆåªéœ€è¦æŠŠ Log4j çš„ jar åŒ…æ”¾åˆ° <code>classpath</code> ä¸­ï¼ŒCommons Logging å°±ä¼šè‡ªåŠ¨ä½¿ç”¨ Log4j çš„åŸå› ã€‚</p><h3 id="è®¿é—®å­—æ®µ" tabindex="-1"><a class="header-anchor" href="#è®¿é—®å­—æ®µ" aria-hidden="true">#</a> è®¿é—®å­—æ®µ</h3><p>å¯¹ä»»æ„çš„ä¸€ä¸ª <code>Object</code> å®ä¾‹ï¼Œåªè¦è·å–äº†å®ƒçš„ <code>Class</code>ï¼Œå°±å¯ä»¥è·å–å®ƒçš„ä¸€åˆ‡ä¿¡æ¯ã€‚</p><p>å¦‚ä½•é€šè¿‡ <code>Class</code> å®ä¾‹è·å–å­—æ®µä¿¡æ¯ã€‚<code>Class</code> ç±»æä¾›äº†ä»¥ä¸‹å‡ ä¸ªæ–¹æ³•æ¥è·å–å­—æ®µï¼š</p><ul><li><code>Field getField (name)</code>ï¼šæ ¹æ®å­—æ®µåè·å–æŸä¸ª <code>public</code> çš„ <code>field</code>ï¼ˆåŒ…æ‹¬çˆ¶ç±»ï¼‰</li><li><code>Field getDeclaredField (name)</code>ï¼šæ ¹æ®å­—æ®µåè·å–å½“å‰ç±»çš„æŸä¸ª <code>field</code>ï¼ˆä¸åŒ…æ‹¬çˆ¶ç±»ï¼‰</li><li><code>Field [] getFields ()</code>ï¼šè·å–æ‰€æœ‰ <code>public</code> çš„ <code>field</code>ï¼ˆåŒ…æ‹¬çˆ¶ç±»ï¼‰</li><li><code>Field [] getDeclaredFields ()</code>ï¼šè·å–å½“å‰ç±»çš„æ‰€æœ‰ <code>field</code>ï¼ˆä¸åŒ…æ‹¬çˆ¶ç±»ï¼‰</li></ul><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
        <span class="token class-name">Class</span> stdClass <span class="token operator">=</span> <span class="token class-name">Student</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">;</span>
        <span class="token comment">// è·å–publicå­—æ®µ&quot;score&quot;:</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>stdClass<span class="token punctuation">.</span><span class="token function">getField</span><span class="token punctuation">(</span><span class="token string">&quot;score&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// è·å–ç»§æ‰¿çš„publicå­—æ®µ&quot;name&quot;:</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>stdClass<span class="token punctuation">.</span><span class="token function">getField</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// è·å–privateå­—æ®µ&quot;grade&quot;:</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>stdClass<span class="token punctuation">.</span><span class="token function">getDeclaredField</span><span class="token punctuation">(</span><span class="token string">&quot;grade&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Student</span> <span class="token keyword">extends</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> score<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> grade<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šè¿°ä»£ç é¦–å…ˆè·å– <code>Student</code> çš„ <code>Class</code> å®ä¾‹ï¼Œç„¶åï¼Œåˆ†åˆ«è·å– <code>public</code> å­—æ®µã€ç»§æ‰¿çš„ <code>public</code> å­—æ®µä»¥åŠ <code>private</code> å­—æ®µï¼Œæ‰“å°å‡ºçš„ <code>Field</code> ç±»ä¼¼ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token class-name">Student</span><span class="token punctuation">.</span>score
<span class="token keyword">public</span> <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span></span>String</span> <span class="token class-name">Person</span><span class="token punctuation">.</span>name
<span class="token keyword">private</span> <span class="token keyword">int</span> <span class="token class-name">Student</span><span class="token punctuation">.</span>grade
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸€ä¸ª <code>Field</code> å¯¹è±¡åŒ…å«äº†ä¸€ä¸ªå­—æ®µçš„æ‰€æœ‰ä¿¡æ¯ï¼š</p><ul><li><code>getName()</code>ï¼šè¿”å›å­—æ®µåç§°ï¼Œä¾‹å¦‚ï¼Œ<code>&quot;name&quot;</code>ï¼›</li><li><code>getType()</code>ï¼šè¿”å›å­—æ®µç±»å‹ï¼Œä¹Ÿæ˜¯ä¸€ä¸ª <code>Class</code> å®ä¾‹ï¼Œä¾‹å¦‚ï¼Œ<code>String.class</code>ï¼›</li><li><code>getModifiers()</code>ï¼šè¿”å›å­—æ®µçš„ä¿®é¥°ç¬¦ï¼Œå®ƒæ˜¯ä¸€ä¸ª <code>int</code>ï¼Œä¸åŒçš„ bit è¡¨ç¤ºä¸åŒçš„å«ä¹‰ã€‚</li></ul><p>ä»¥ <code>String</code> ç±»çš„ <code>value</code> å­—æ®µä¸ºä¾‹ï¼Œå®ƒçš„å®šä¹‰æ˜¯ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token keyword">class</span> <span class="token class-name">String</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> value<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç”¨åå°„è·å–è¯¥å­—æ®µçš„ä¿¡æ¯ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">Field</span> f <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">getDeclaredField</span><span class="token punctuation">(</span><span class="token string">&quot;value&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
f<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;value&quot;</span>
f<span class="token punctuation">.</span><span class="token function">getType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// class [B è¡¨ç¤ºbyte[]ç±»å‹</span>
<span class="token keyword">int</span> m <span class="token operator">=</span> f<span class="token punctuation">.</span><span class="token function">getModifiers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Modifier</span><span class="token punctuation">.</span><span class="token function">isFinal</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token class-name">Modifier</span><span class="token punctuation">.</span><span class="token function">isPublic</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
<span class="token class-name">Modifier</span><span class="token punctuation">.</span><span class="token function">isProtected</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
<span class="token class-name">Modifier</span><span class="token punctuation">.</span><span class="token function">isPrivate</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token class-name">Modifier</span><span class="token punctuation">.</span><span class="token function">isStatic</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="è·å–å­—æ®µå€¼" tabindex="-1"><a class="header-anchor" href="#è·å–å­—æ®µå€¼" aria-hidden="true">#</a> è·å–å­—æ®µå€¼</h4><p>åˆ©ç”¨åå°„æ‹¿åˆ°å­—æ®µçš„ä¸€ä¸ª <code>Field</code> å®ä¾‹åªæ˜¯ç¬¬ä¸€æ­¥ï¼Œè¿˜å¯ä»¥æ‹¿åˆ°ä¸€ä¸ªå®ä¾‹å¯¹åº”çš„è¯¥å­—æ®µçš„å€¼ã€‚</p><p>ä¾‹å¦‚ï¼Œå¯¹äºä¸€ä¸ª <code>Person</code> å®ä¾‹ï¼Œå¯ä»¥å…ˆæ‹¿åˆ° <code>name</code> å­—æ®µå¯¹åº”çš„ <code>Field</code>ï¼Œå†è·å–è¿™ä¸ªå®ä¾‹çš„ <code>name</code> å­—æ®µçš„å€¼ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
        <span class="token class-name">Object</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&quot;Xiao Ming&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Class</span> c <span class="token operator">=</span> p<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Field</span> f <span class="token operator">=</span> c<span class="token punctuation">.</span><span class="token function">getDeclaredField</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Object</span> value <span class="token operator">=</span> f<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;Xiao Ming&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šè¿°ä»£ç å…ˆè·å– <code>Class</code> å®ä¾‹ï¼Œå†è·å– <code>Field</code> å®ä¾‹ï¼Œç„¶åï¼Œç”¨ <code>Field.get(Object)</code> è·å–æŒ‡å®šå®ä¾‹çš„æŒ‡å®šå­—æ®µçš„å€¼ã€‚</p><p>è¿è¡Œä»£ç ï¼Œå¦‚æœä¸å‡ºæ„å¤–ï¼Œä¼šå¾—åˆ°ä¸€ä¸ª <code>IllegalAccessException</code>ï¼Œè¿™æ˜¯å› ä¸º <code>name</code> è¢«å®šä¹‰ä¸ºä¸€ä¸ª <code>private</code> å­—æ®µï¼Œæ­£å¸¸æƒ…å†µä¸‹ï¼Œ<code>Main</code> ç±»æ— æ³•è®¿é—® <code>Person</code> ç±»çš„ <code>private</code> å­—æ®µã€‚è¦ä¿®å¤é”™è¯¯ï¼Œå¯ä»¥å°† <code>private</code> æ”¹ä¸º <code>public</code>ï¼Œæˆ–è€…ï¼Œåœ¨è°ƒç”¨ <code>Object value = f.get(p);</code> å‰ï¼Œå…ˆå†™ä¸€å¥ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>f<span class="token punctuation">.</span><span class="token function">setAccessible</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>è°ƒç”¨ <code>Field.setAccessible(true)</code> çš„æ„æ€æ˜¯ï¼Œåˆ«ç®¡è¿™ä¸ªå­—æ®µæ˜¯ä¸æ˜¯ <code>public</code>ï¼Œä¸€å¾‹å…è®¸è®¿é—®ã€‚</p><p>åŠ ä¸Šä¸Šè¿°è¯­å¥ï¼Œå†è¿è¡Œä»£ç ï¼Œå°±å¯ä»¥æ‰“å°å‡º <code>private</code> å­—æ®µçš„å€¼ã€‚</p><div class="custom-container tip"><p class="custom-container-title">æç¤º</p><p>å¦‚æœä½¿ç”¨åå°„å¯ä»¥è·å– <code>private</code> å­—æ®µçš„å€¼ï¼Œé‚£ä¹ˆç±»çš„å°è£…è¿˜æœ‰ä»€ä¹ˆæ„ä¹‰ï¼Ÿ</p><p>ç­”æ¡ˆæ˜¯æ­£å¸¸æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬æ€»æ˜¯é€šè¿‡ <code>p.name</code> æ¥è®¿é—® <code>Person</code> çš„ <code>name</code> å­—æ®µï¼Œç¼–è¯‘å™¨ä¼šæ ¹æ® <code>public</code>ã€<code>protected</code> å’Œ <code>private</code> å†³å®šæ˜¯å¦å…è®¸è®¿é—®å­—æ®µï¼Œè¿™æ ·å°±è¾¾åˆ°äº†æ•°æ®å°è£…çš„ç›®çš„ã€‚</p><p>è€Œåå°„æ˜¯ä¸€ç§éå¸¸è§„çš„ç”¨æ³•ï¼Œä½¿ç”¨åå°„ï¼Œé¦–å…ˆä»£ç éå¸¸ç¹çï¼Œå…¶æ¬¡ï¼Œå®ƒæ›´å¤šåœ°æ˜¯ç»™å·¥å…·æˆ–è€…åº•å±‚æ¡†æ¶æ¥ä½¿ç”¨ï¼Œç›®çš„æ˜¯åœ¨ä¸çŸ¥é“ç›®æ ‡å®ä¾‹ä»»ä½•ä¿¡æ¯çš„æƒ…å†µä¸‹ï¼Œè·å–ç‰¹å®šå­—æ®µçš„å€¼ã€‚</p><p>æ­¤å¤–ï¼Œ<code>setAccessible(true)</code> å¯èƒ½ä¼šå¤±è´¥ã€‚å¦‚æœ JVM è¿è¡ŒæœŸå­˜åœ¨ <code>SecurityManager</code>ï¼Œé‚£ä¹ˆå®ƒä¼šæ ¹æ®è§„åˆ™è¿›è¡Œæ£€æŸ¥ï¼Œæœ‰å¯èƒ½é˜»æ­¢<code>setAccessible(true)</code>ã€‚ä¾‹å¦‚ï¼ŒæŸä¸ª <code>SecurityManager</code> å¯èƒ½ä¸å…è®¸å¯¹ <code>java</code> å’Œ <code>javax</code> å¼€å¤´çš„ <code>package</code> çš„ç±»è°ƒç”¨<code>setAccessible(true)</code>ï¼Œè¿™æ ·å¯ä»¥ä¿è¯ JVM æ ¸å¿ƒåº“çš„å®‰å…¨ã€‚</p></div><h4 id="è®¾ç½®å­—æ®µå€¼" tabindex="-1"><a class="header-anchor" href="#è®¾ç½®å­—æ®µå€¼" aria-hidden="true">#</a> è®¾ç½®å­—æ®µå€¼</h4><p>é€šè¿‡ Field å®ä¾‹æ—¢ç„¶å¯ä»¥è·å–åˆ°æŒ‡å®šå®ä¾‹çš„å­—æ®µå€¼ï¼Œè‡ªç„¶ä¹Ÿå¯ä»¥è®¾ç½®å­—æ®µçš„å€¼ã€‚</p><p>è®¾ç½®å­—æ®µå€¼æ˜¯é€šè¿‡ <code>Field.set(Object, Object)</code> å®ç°çš„ï¼Œå…¶ä¸­ç¬¬ä¸€ä¸ª <code>Object</code> å‚æ•°æ˜¯æŒ‡å®šçš„å®ä¾‹ï¼Œç¬¬äºŒä¸ª <code>Object</code> å‚æ•°æ˜¯å¾…ä¿®æ”¹çš„å€¼ã€‚ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
        <span class="token class-name">Person</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&quot;Xiao Ming&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;Xiao Ming&quot;</span>
        <span class="token class-name">Class</span> c <span class="token operator">=</span> p<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Field</span> f <span class="token operator">=</span> c<span class="token punctuation">.</span><span class="token function">getDeclaredField</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        f<span class="token punctuation">.</span><span class="token function">setAccessible</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        f<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>p<span class="token punctuation">,</span> <span class="token string">&quot;Xiao Hong&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;Xiao Hong&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ‰“å°çš„ <code>name</code> å­—æ®µä» <code>Xiao Ming</code> å˜æˆäº† <code>Xiao Hong</code>ï¼Œè¯´æ˜é€šè¿‡åå°„å¯ä»¥ç›´æ¥ä¿®æ”¹å­—æ®µçš„å€¼ã€‚</p><p>åŒæ ·çš„ï¼Œä¿®æ”¹é <code>public</code> å­—æ®µï¼Œéœ€è¦é¦–å…ˆè°ƒç”¨ <code>setAccessible(true)</code>ã€‚</p><h3 id="è°ƒç”¨æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#è°ƒç”¨æ–¹æ³•" aria-hidden="true">#</a> è°ƒç”¨æ–¹æ³•</h3><p>èƒ½é€šè¿‡ <code>Class</code> å®ä¾‹è·å–æ‰€æœ‰ <code>Field</code> å¯¹è±¡ï¼ŒåŒæ ·çš„ï¼Œå¯ä»¥é€šè¿‡ <code>Class</code> å®ä¾‹è·å–æ‰€æœ‰ <code>Method</code> ä¿¡æ¯ã€‚</p><p><code>Class</code> ç±»æä¾›äº†ä»¥ä¸‹å‡ ä¸ªæ–¹æ³•æ¥è·å– <code>Method</code>ï¼š</p><ul><li><code>Method getMethod(name, Class...)</code>ï¼šè·å–æŸä¸ª <code>public</code> çš„ <code>Method</code>ï¼ˆåŒ…æ‹¬çˆ¶ç±»ï¼‰</li><li><code>Method getDeclaredMethod(name, Class...)</code>ï¼šè·å–å½“å‰ç±»çš„æŸä¸ª <code>Method</code>ï¼ˆä¸åŒ…æ‹¬çˆ¶ç±»ï¼‰</li><li><code>Method[] getMethods()</code>ï¼šè·å–æ‰€æœ‰ <code>public</code> çš„ <code>Method</code>ï¼ˆåŒ…æ‹¬çˆ¶ç±»ï¼‰</li><li><code>Method[] getDeclaredMethods()</code>ï¼šè·å–å½“å‰ç±»çš„æ‰€æœ‰ <code>Method</code>ï¼ˆä¸åŒ…æ‹¬çˆ¶ç±»ï¼‰</li></ul><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
        <span class="token class-name">Class</span> stdClass <span class="token operator">=</span> <span class="token class-name">Student</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">;</span>
        <span class="token comment">// è·å–publicæ–¹æ³•getScoreï¼Œå‚æ•°ä¸ºString:</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>stdClass<span class="token punctuation">.</span><span class="token function">getMethod</span><span class="token punctuation">(</span><span class="token string">&quot;getScore&quot;</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// è·å–ç»§æ‰¿çš„publicæ–¹æ³•getNameï¼Œæ— å‚æ•°:</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>stdClass<span class="token punctuation">.</span><span class="token function">getMethod</span><span class="token punctuation">(</span><span class="token string">&quot;getName&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// è·å–privateæ–¹æ³•getGradeï¼Œå‚æ•°ä¸ºint:</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>stdClass<span class="token punctuation">.</span><span class="token function">getDeclaredMethod</span><span class="token punctuation">(</span><span class="token string">&quot;getGrade&quot;</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Student</span> <span class="token keyword">extends</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getScore</span><span class="token punctuation">(</span><span class="token class-name">String</span> type<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token number">99</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> <span class="token function">getGrade</span><span class="token punctuation">(</span><span class="token keyword">int</span> year<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;Person&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šè¿°ä»£ç é¦–å…ˆè·å– <code>Student</code> çš„ <code>Class</code> å®ä¾‹ï¼Œç„¶åï¼Œåˆ†åˆ«è·å– <code>public</code> æ–¹æ³•ã€ç»§æ‰¿çš„ <code>public</code> æ–¹æ³•ä»¥åŠ <code>private</code> æ–¹æ³•ï¼Œæ‰“å°å‡ºçš„ <code>Method</code> ç±»ä¼¼ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token class-name">Student</span><span class="token punctuation">.</span><span class="token function">getScore</span><span class="token punctuation">(</span><span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span></span>String</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span></span>String</span> <span class="token class-name">Person</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">private</span> <span class="token keyword">int</span> <span class="token class-name">Student</span><span class="token punctuation">.</span><span class="token function">getGrade</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸€ä¸ª <code>Method</code> å¯¹è±¡åŒ…å«ä¸€ä¸ªæ–¹æ³•çš„æ‰€æœ‰ä¿¡æ¯ï¼š</p><ul><li><code>getName()</code>ï¼šè¿”å›æ–¹æ³•åç§°ï¼Œä¾‹å¦‚ï¼š<code>&quot;getScore&quot;</code>ï¼›</li><li><code>getReturnType()</code>ï¼šè¿”å›æ–¹æ³•è¿”å›å€¼ç±»å‹ï¼Œä¹Ÿæ˜¯ä¸€ä¸ª Class å®ä¾‹ï¼Œä¾‹å¦‚ï¼š<code>String.class</code>ï¼›</li><li><code>getParameterTypes()</code>ï¼šè¿”å›æ–¹æ³•çš„å‚æ•°ç±»å‹ï¼Œæ˜¯ä¸€ä¸ª Class æ•°ç»„ï¼Œä¾‹å¦‚ï¼š<code>{String.class, int.class}</code>ï¼›</li><li><code>getModifiers()</code>ï¼šè¿”å›æ–¹æ³•çš„ä¿®é¥°ç¬¦ï¼Œå®ƒæ˜¯ä¸€ä¸ª <code>int</code>ï¼Œä¸åŒçš„ bit è¡¨ç¤ºä¸åŒçš„å«ä¹‰ã€‚</li></ul><h4 id="è°ƒç”¨æ™®é€šæ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#è°ƒç”¨æ™®é€šæ–¹æ³•" aria-hidden="true">#</a> è°ƒç”¨æ™®é€šæ–¹æ³•</h4><p>å½“æˆ‘ä»¬è·å–åˆ°ä¸€ä¸ª <code>Method</code> å¯¹è±¡æ—¶ï¼Œå°±å¯ä»¥å¯¹å®ƒè¿›è¡Œè°ƒç”¨ã€‚æˆ‘ä»¬ä»¥ä¸‹é¢çš„ä»£ç ä¸ºä¾‹ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">String</span> s <span class="token operator">=</span> <span class="token string">&quot;Hello world&quot;</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> r <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;world&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœç”¨åå°„æ¥è°ƒç”¨ <code>substring</code> æ–¹æ³•ï¼Œéœ€è¦ä»¥ä¸‹ä»£ç ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
        <span class="token comment">// Stringå¯¹è±¡:</span>
        <span class="token class-name">String</span> s <span class="token operator">=</span> <span class="token string">&quot;Hello world&quot;</span><span class="token punctuation">;</span>
        <span class="token comment">// è·å–String substring(int)æ–¹æ³•ï¼Œå‚æ•°ä¸ºint:</span>
        <span class="token class-name">Method</span> m <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">getMethod</span><span class="token punctuation">(</span><span class="token string">&quot;substring&quot;</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// åœ¨så¯¹è±¡ä¸Šè°ƒç”¨è¯¥æ–¹æ³•å¹¶è·å–ç»“æœ:</span>
        <span class="token class-name">String</span> r <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span> m<span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// æ‰“å°è°ƒç”¨ç»“æœ:</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ³¨æ„åˆ° <code>substring()</code> æœ‰ä¸¤ä¸ªé‡è½½æ–¹æ³•ï¼Œéœ€è¦è·å–çš„æ˜¯ <code>String substring(int)</code> è¿™ä¸ªæ–¹æ³•ã€‚</p><p>å¯¹ <code>Method</code> å®ä¾‹è°ƒç”¨ <code>invoke</code> å°±ç›¸å½“äºè°ƒç”¨è¯¥æ–¹æ³•ï¼Œ<code>invoke</code> çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å¯¹è±¡å®ä¾‹ï¼Œå³åœ¨å“ªä¸ªå®ä¾‹ä¸Šè°ƒç”¨è¯¥æ–¹æ³•ï¼Œåé¢çš„å¯å˜å‚æ•°è¦ä¸æ–¹æ³•å‚æ•°ä¸€è‡´ï¼Œå¦åˆ™å°†æŠ¥é”™ã€‚</p><h4 id="è°ƒç”¨é™æ€æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#è°ƒç”¨é™æ€æ–¹æ³•" aria-hidden="true">#</a> è°ƒç”¨é™æ€æ–¹æ³•</h4><p>å¦‚æœè·å–åˆ°çš„ Method è¡¨ç¤ºä¸€ä¸ªé™æ€æ–¹æ³•ï¼Œè°ƒç”¨é™æ€æ–¹æ³•æ—¶ï¼Œç”±äºæ— éœ€æŒ‡å®šå®ä¾‹å¯¹è±¡ï¼Œæ‰€ä»¥ <code>invoke</code> æ–¹æ³•ä¼ å…¥çš„ç¬¬ä¸€ä¸ªå‚æ•°æ°¸è¿œä¸º <code>null</code>ã€‚ä»¥ <code>Integer.parseInt(String)</code> ä¸ºä¾‹ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
        <span class="token comment">// è·å–Integer.parseInt(String)æ–¹æ³•ï¼Œå‚æ•°ä¸ºString:</span>
        <span class="token class-name">Method</span> m <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">getMethod</span><span class="token punctuation">(</span><span class="token string">&quot;parseInt&quot;</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// è°ƒç”¨è¯¥é™æ€æ–¹æ³•å¹¶è·å–ç»“æœ:</span>
        <span class="token class-name">Integer</span> n <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token punctuation">)</span> m<span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token string">&quot;12345&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// æ‰“å°è°ƒç”¨ç»“æœ:</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="è°ƒç”¨é-public-æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#è°ƒç”¨é-public-æ–¹æ³•" aria-hidden="true">#</a> è°ƒç”¨é public æ–¹æ³•</h4><p>å’Œ <code>Field</code> ç±»ä¼¼ï¼Œå¯¹äºé <code>public</code> æ–¹æ³•ï¼Œè™½ç„¶å¯ä»¥é€šè¿‡ <code>Class.getDeclaredMethod()</code> è·å–è¯¥æ–¹æ³•å®ä¾‹ï¼Œä½†ç›´æ¥å¯¹å…¶è°ƒç”¨å°†å¾—åˆ°ä¸€ä¸ª <code>IllegalAccessException</code>ã€‚ä¸ºäº†è°ƒç”¨é <code>public</code> æ–¹æ³•ï¼Œé€šè¿‡ <code>Method.setAccessible(true)</code> å…è®¸å…¶è°ƒç”¨ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
        <span class="token class-name">Person</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Method</span> m <span class="token operator">=</span> p<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getDeclaredMethod</span><span class="token punctuation">(</span><span class="token string">&quot;setName&quot;</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        m<span class="token punctuation">.</span><span class="token function">setAccessible</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        m<span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span>p<span class="token punctuation">,</span> <span class="token string">&quot;Bob&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
    <span class="token class-name">String</span> name<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">setName</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ­¤å¤–ï¼Œ<code>setAccessible(true)</code> å¯èƒ½ä¼šå¤±è´¥ã€‚å¦‚æœ JVM è¿è¡ŒæœŸå­˜åœ¨ <code>SecurityManager</code>ï¼Œé‚£ä¹ˆå®ƒä¼šæ ¹æ®è§„åˆ™è¿›è¡Œæ£€æŸ¥ï¼Œæœ‰å¯èƒ½é˜»æ­¢ <code>setAccessible(true)</code>ã€‚ä¾‹å¦‚ï¼ŒæŸä¸ª <code>SecurityManager</code> å¯èƒ½ä¸å…è®¸å¯¹ <code>java</code> å’Œ <code>javax</code> å¼€å¤´çš„ <code>package</code> çš„ç±»è°ƒç”¨ <code>setAccessible(true)</code>ï¼Œè¿™æ ·å¯ä»¥ä¿è¯ JVM æ ¸å¿ƒåº“çš„å®‰å…¨ã€‚</p><h4 id="å¤šæ€" tabindex="-1"><a class="header-anchor" href="#å¤šæ€" aria-hidden="true">#</a> å¤šæ€</h4><p>è€ƒå¯Ÿè¿™æ ·ä¸€ç§æƒ…å†µï¼šä¸€ä¸ª <code>Person</code> ç±»å®šä¹‰äº† <code>hello()</code> æ–¹æ³•ï¼Œå¹¶ä¸”å®ƒçš„å­ç±» <code>Student</code> ä¹Ÿè¦†å†™äº† <code>hello()</code> æ–¹æ³•ï¼Œé‚£ä¹ˆï¼Œä» <code>Person.class</code> è·å–çš„ <code>Method</code>ï¼Œä½œç”¨äº <code>Student</code> å®ä¾‹æ—¶ï¼Œè°ƒç”¨çš„æ–¹æ³•åˆ°åº•æ˜¯å“ªä¸ªï¼Ÿ</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
        <span class="token comment">// è·å–Personçš„helloæ–¹æ³•:</span>
        <span class="token class-name">Method</span> h <span class="token operator">=</span> <span class="token class-name">Person</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">getMethod</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// å¯¹Studentå®ä¾‹è°ƒç”¨helloæ–¹æ³•:</span>
        h<span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Person:hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Student</span> <span class="token keyword">extends</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Student:hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ‰“å°å‡ºçš„æ˜¯ <code>Student:hello</code>ï¼Œå› æ­¤ï¼Œä½¿ç”¨åå°„è°ƒç”¨æ–¹æ³•æ—¶ï¼Œä»ç„¶éµå¾ªå¤šæ€åŸåˆ™ï¼šå³æ€»æ˜¯è°ƒç”¨å®é™…ç±»å‹çš„è¦†å†™æ–¹æ³•ï¼ˆå¦‚æœå­˜åœ¨ï¼‰ã€‚ä¸Šè¿°çš„åå°„ä»£ç ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">Method</span> m <span class="token operator">=</span> <span class="token class-name">Person</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">getMethod</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
m<span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>å®é™…ä¸Šç›¸å½“äºï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">Person</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
p<span class="token punctuation">.</span><span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="è°ƒç”¨æ„é€ æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#è°ƒç”¨æ„é€ æ–¹æ³•" aria-hidden="true">#</a> è°ƒç”¨æ„é€ æ–¹æ³•</h3><p>é€šå¸¸ä½¿ç”¨ <code>new</code> æ“ä½œç¬¦åˆ›å»ºæ–°çš„å®ä¾‹ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">Person</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å¦‚æœé€šè¿‡åå°„æ¥åˆ›å»ºæ–°çš„å®ä¾‹ï¼Œå¯ä»¥è°ƒç”¨ Class æä¾›çš„ <code>newInstance()</code> æ–¹æ³•ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">Person</span> p <span class="token operator">=</span> <span class="token class-name">Person</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>è°ƒç”¨ <code>Class.newInstance()</code> çš„å±€é™æ˜¯ï¼Œå®ƒåªèƒ½è°ƒç”¨è¯¥ç±»çš„ <code>public</code> æ— å‚æ•°æ„é€ æ–¹æ³•ã€‚å¦‚æœæ„é€ æ–¹æ³•å¸¦æœ‰å‚æ•°ï¼Œæˆ–è€…ä¸æ˜¯ <code>public</code>ï¼Œå°±æ— æ³•ç›´æ¥é€šè¿‡ <code>Class.newInstance()</code> æ¥è°ƒç”¨ã€‚</p><p>ä¸ºäº†è°ƒç”¨ä»»æ„çš„æ„é€ æ–¹æ³•ï¼ŒJava çš„åå°„ API æä¾›äº† <code>Constructor</code> å¯¹è±¡ï¼Œå®ƒåŒ…å«ä¸€ä¸ªæ„é€ æ–¹æ³•çš„æ‰€æœ‰ä¿¡æ¯ï¼Œå¯ä»¥åˆ›å»ºä¸€ä¸ªå®ä¾‹ã€‚<code>Constructor</code> å¯¹è±¡å’Œ <code>Method</code> éå¸¸ç±»ä¼¼ï¼Œä¸åŒä¹‹å¤„ä»…åœ¨äºå®ƒæ˜¯ä¸€ä¸ªæ„é€ æ–¹æ³•ï¼Œå¹¶ä¸”ï¼Œè°ƒç”¨ç»“æœæ€»æ˜¯è¿”å›å®ä¾‹ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
        <span class="token comment">// è·å–æ„é€ æ–¹æ³•Integer(int):</span>
        <span class="token class-name">Constructor</span> cons1 <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">getConstructor</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// è°ƒç”¨æ„é€ æ–¹æ³•:</span>
        <span class="token class-name">Integer</span> n1 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token punctuation">)</span> cons1<span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>n1<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// è·å–æ„é€ æ–¹æ³•Integer(String)</span>
        <span class="token class-name">Constructor</span> cons2 <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">getConstructor</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Integer</span> n2 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token punctuation">)</span> cons2<span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span><span class="token string">&quot;456&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>n2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é€šè¿‡ Class å®ä¾‹è·å– Constructor çš„æ–¹æ³•å¦‚ä¸‹ï¼š</p><ul><li><code>getConstructor(Class...)</code>ï¼šè·å–æŸä¸ª <code>public</code> çš„ <code>Constructor</code>ï¼›</li><li><code>getDeclaredConstructor(Class...)</code>ï¼šè·å–æŸä¸ª <code>Constructor</code>ï¼›</li><li><code>getConstructors()</code>ï¼šè·å–æ‰€æœ‰ <code>public</code> çš„ <code>Constructor</code>ï¼›</li><li><code>getDeclaredConstructors()</code>ï¼šè·å–æ‰€æœ‰ <code>Constructor</code>ã€‚</li></ul><p>æ³¨æ„ <code>Constructor</code> æ€»æ˜¯å½“å‰ç±»å®šä¹‰çš„æ„é€ æ–¹æ³•ï¼Œå’Œçˆ¶ç±»æ— å…³ï¼Œå› æ­¤ä¸å­˜åœ¨å¤šæ€çš„é—®é¢˜ã€‚</p><p>è°ƒç”¨é <code>public</code> çš„ <code>Constructor</code> æ—¶ï¼Œå¿…é¡»é¦–å…ˆé€šè¿‡ <code>setAccessible(true)</code> è®¾ç½®å…è®¸è®¿é—®ã€‚<code>setAccessible(true)</code> å¯èƒ½ä¼šå¤±è´¥ã€‚</p><h3 id="è·å–ç»§æ‰¿å…³ç³»" tabindex="-1"><a class="header-anchor" href="#è·å–ç»§æ‰¿å…³ç³»" aria-hidden="true">#</a> è·å–ç»§æ‰¿å…³ç³»</h3><p>å½“è·å–åˆ°æŸä¸ª <code>Class</code> å¯¹è±¡æ—¶ï¼Œå®é™…ä¸Šå°±è·å–åˆ°äº†ä¸€ä¸ªç±»çš„ç±»å‹ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">Class</span> cls <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">;</span> <span class="token comment">// è·å–åˆ°Stringçš„Class</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>è¿˜å¯ä»¥ç”¨å®ä¾‹çš„ <code>getClass()</code> æ–¹æ³•è·å–ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">String</span> s <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
<span class="token class-name">Class</span> cls <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// sæ˜¯Stringï¼Œå› æ­¤è·å–åˆ°Stringçš„Class</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>æœ€åä¸€ç§è·å– <code>Class</code> çš„æ–¹æ³•æ˜¯é€šè¿‡ <code>Class.forName(&quot;&quot;)</code>ï¼Œä¼ å…¥ <code>Class</code> çš„å®Œæ•´ç±»åè·å–ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">Class</span> s <span class="token operator">=</span> <span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span><span class="token string">&quot;java.lang.String&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>è¿™ä¸‰ç§æ–¹å¼è·å–çš„ <code>Class</code> å®ä¾‹éƒ½æ˜¯åŒä¸€ä¸ªå®ä¾‹ï¼Œå› ä¸º JVM å¯¹æ¯ä¸ªåŠ è½½çš„ <code>Class</code> åªåˆ›å»ºä¸€ä¸ª <code>Class</code> å®ä¾‹æ¥è¡¨ç¤ºå®ƒçš„ç±»å‹ã€‚</p><h3 id="è·å–çˆ¶ç±»çš„-class" tabindex="-1"><a class="header-anchor" href="#è·å–çˆ¶ç±»çš„-class" aria-hidden="true">#</a> è·å–çˆ¶ç±»çš„ Class</h3><p>æœ‰äº† <code>Class</code> å®ä¾‹ï¼Œè¿˜å¯ä»¥è·å–å®ƒçš„çˆ¶ç±»çš„ <code>Class</code>ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
        <span class="token class-name">Class</span> i <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">;</span>
        <span class="token class-name">Class</span> n <span class="token operator">=</span> i<span class="token punctuation">.</span><span class="token function">getSuperclass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Class</span> o <span class="token operator">=</span> n<span class="token punctuation">.</span><span class="token function">getSuperclass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span><span class="token function">getSuperclass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿è¡Œä¸Šè¿°ä»£ç ï¼Œå¯ä»¥çœ‹åˆ°ï¼Œ<code>Integer</code> çš„çˆ¶ç±»ç±»å‹æ˜¯ <code>Number</code>ï¼Œ<code>Number</code> çš„çˆ¶ç±»æ˜¯ <code>Object</code>ï¼Œ<code>Object</code> çš„çˆ¶ç±»æ˜¯ <code>null</code>ã€‚é™¤ <code>Object</code> å¤–ï¼Œå…¶ä»–ä»»ä½•é <code>interface</code> çš„ <code>Class</code> éƒ½å¿…å®šå­˜åœ¨ä¸€ä¸ªçˆ¶ç±»ç±»å‹ã€‚</p><h4 id="è·å–-interface" tabindex="-1"><a class="header-anchor" href="#è·å–-interface" aria-hidden="true">#</a> è·å– interface</h4><p>ç”±äºä¸€ä¸ªç±»å¯èƒ½å®ç°ä¸€ä¸ªæˆ–å¤šä¸ªæ¥å£ï¼Œé€šè¿‡ <code>Class</code> å°±å¯ä»¥æŸ¥è¯¢åˆ°å®ç°çš„æ¥å£ç±»å‹ã€‚ä¾‹å¦‚ï¼ŒæŸ¥è¯¢ <code>Integer</code> å®ç°çš„æ¥å£ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
        <span class="token class-name">Class</span> s <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">;</span>
        <span class="token class-name">Class</span><span class="token punctuation">[</span><span class="token punctuation">]</span> is <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">getInterfaces</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Class</span> i <span class="token operator">:</span> is<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿è¡Œä¸Šè¿°ä»£ç å¯çŸ¥ï¼Œ<code>Integer</code> å®ç°çš„æ¥å£æœ‰ï¼š</p><ul><li><code>java.lang.Comparable</code></li><li><code>java.lang.constant.Constable</code></li><li><code>java.lang.constant.ConstantDesc</code></li></ul><p>è¦ç‰¹åˆ«æ³¨æ„ï¼š<code>getInterfaces()</code> åªè¿”å›å½“å‰ç±»ç›´æ¥å®ç°çš„æ¥å£ç±»å‹ï¼Œå¹¶ä¸åŒ…æ‹¬å…¶çˆ¶ç±»å®ç°çš„æ¥å£ç±»å‹ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
        <span class="token class-name">Class</span> s <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">getSuperclass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Class</span><span class="token punctuation">[</span><span class="token punctuation">]</span> is <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">getInterfaces</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Class</span> i <span class="token operator">:</span> is<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>Integer</code> çš„çˆ¶ç±»æ˜¯ <code>Number</code>ï¼Œ<code>Number</code> å®ç°çš„æ¥å£æ˜¯ <code>java.io.Serializable</code>ã€‚</p><p>æ­¤å¤–ï¼Œå¯¹æ‰€æœ‰ <code>interface</code> çš„ <code>Class</code> è°ƒç”¨ <code>getSuperclass()</code> è¿”å›çš„æ˜¯ <code>null</code>ï¼Œè·å–æ¥å£çš„çˆ¶æ¥å£è¦ç”¨ <code>getInterfaces()</code>ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code> <span class="token comment">// java.io.FilterInputStreamï¼Œå› ä¸ºDataInputStreamç»§æ‰¿è‡ªFilterInputStream</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span>DataInputStream</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">getSuperclass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// nullï¼Œå¯¹æ¥å£è°ƒç”¨getSuperclass()æ€»æ˜¯è¿”å›nullï¼Œè·å–æ¥å£çš„çˆ¶æ¥å£è¦ç”¨getInterfaces()</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span>Closeable</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">getSuperclass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœä¸€ä¸ªç±»æ²¡æœ‰å®ç°ä»»ä½• <code>interface</code>ï¼Œé‚£ä¹ˆ <code>getInterfaces()</code> è¿”å›ç©ºæ•°ç»„ã€‚</p><h4 id="ç»§æ‰¿å…³ç³»" tabindex="-1"><a class="header-anchor" href="#ç»§æ‰¿å…³ç³»" aria-hidden="true">#</a> ç»§æ‰¿å…³ç³»</h4><p>å½“æˆ‘ä»¬åˆ¤æ–­ä¸€ä¸ªå®ä¾‹æ˜¯å¦æ˜¯æŸä¸ªç±»å‹æ—¶ï¼Œæ­£å¸¸æƒ…å†µä¸‹ï¼Œä½¿ç”¨ <code>instanceof</code> æ“ä½œç¬¦ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">Object</span> n <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">boolean</span> isDouble <span class="token operator">=</span> n <span class="token keyword">instanceof</span> <span class="token class-name">Double</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
<span class="token keyword">boolean</span> isInteger <span class="token operator">=</span> n <span class="token keyword">instanceof</span> <span class="token class-name">Integer</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token keyword">boolean</span> isNumber <span class="token operator">=</span> n <span class="token keyword">instanceof</span> <span class="token class-name">Number</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token keyword">boolean</span> isSerializable <span class="token operator">=</span> n <span class="token keyword">instanceof</span> <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span>Serializable</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœæ˜¯ä¸¤ä¸ª <code>Class</code> å®ä¾‹ï¼Œè¦åˆ¤æ–­ä¸€ä¸ªå‘ä¸Šè½¬å‹æ˜¯å¦æˆç«‹ï¼Œå¯ä»¥è°ƒç”¨ <code>isAssignableFrom()</code>ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// Integer i = ?</span>
<span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">isAssignableFrom</span><span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// trueï¼Œå› ä¸ºIntegerå¯ä»¥èµ‹å€¼ç»™Integer</span>
<span class="token comment">// Number n = ?</span>
<span class="token class-name">Number</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">isAssignableFrom</span><span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// trueï¼Œå› ä¸ºIntegerå¯ä»¥èµ‹å€¼ç»™Number</span>
<span class="token comment">// Object o = ?</span>
<span class="token class-name">Object</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">isAssignableFrom</span><span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// trueï¼Œå› ä¸ºIntegerå¯ä»¥èµ‹å€¼ç»™Object</span>
<span class="token comment">// Integer i = ?</span>
<span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">isAssignableFrom</span><span class="token punctuation">(</span><span class="token class-name">Number</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// falseï¼Œå› ä¸ºNumberä¸èƒ½èµ‹å€¼ç»™Integer</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="åŠ¨æ€ä»£ç†" tabindex="-1"><a class="header-anchor" href="#åŠ¨æ€ä»£ç†" aria-hidden="true">#</a> åŠ¨æ€ä»£ç†</h3><p>æ¯”è¾ƒ Java çš„ <code>class</code> å’Œ <code>interface</code> çš„åŒºåˆ«ï¼š</p><ul><li>å¯ä»¥å®ä¾‹åŒ– <code>class</code>ï¼ˆé <code>abstract</code>ï¼‰ï¼›</li><li>ä¸èƒ½å®ä¾‹åŒ– <code>interface</code>ã€‚</li></ul><p>æ‰€æœ‰ <code>interface</code> ç±»å‹çš„å˜é‡æ€»æ˜¯é€šè¿‡æŸä¸ªå®ä¾‹å‘ä¸Šè½¬å‹å¹¶èµ‹å€¼ç»™æ¥å£ç±»å‹å˜é‡çš„ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">CharSequence</span> cs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>æœ‰æ²¡æœ‰å¯èƒ½ä¸ç¼–å†™å®ç°ç±»ï¼Œç›´æ¥åœ¨è¿è¡ŒæœŸåˆ›å»ºæŸä¸ª <code>interface</code> çš„å®ä¾‹å‘¢ï¼Ÿ</p><p>è¿™æ˜¯å¯èƒ½çš„ï¼Œå› ä¸º Java æ ‡å‡†åº“æä¾›äº†ä¸€ç§åŠ¨æ€ä»£ç†ï¼ˆDynamic Proxyï¼‰çš„æœºåˆ¶ï¼šå¯ä»¥åœ¨è¿è¡ŒæœŸåŠ¨æ€åˆ›å»ºæŸä¸ª <code>interface</code> çš„å®ä¾‹ã€‚</p><p>ä»€ä¹ˆå«è¿è¡ŒæœŸåŠ¨æ€åˆ›å»ºï¼Ÿå¬èµ·æ¥å¥½åƒå¾ˆå¤æ‚ã€‚æ‰€è°“åŠ¨æ€ä»£ç†ï¼Œæ˜¯å’Œé™æ€ç›¸å¯¹åº”çš„ã€‚æ¥çœ‹é™æ€ä»£ç æ€ä¹ˆå†™ï¼š</p><p>å®šä¹‰æ¥å£ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Hello</span> <span class="token punctuation">{</span>
    <span class="token keyword">void</span> <span class="token function">morning</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç¼–å†™å®ç°ç±»ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloWorld</span> <span class="token keyword">implements</span> <span class="token class-name">Hello</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">morning</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Good morning, &quot;</span> <span class="token operator">+</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åˆ›å»ºå®ä¾‹ï¼Œè½¬å‹ä¸ºæ¥å£å¹¶è°ƒç”¨ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">Hello</span> hello <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HelloWorld</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
hello<span class="token punctuation">.</span><span class="token function">morning</span><span class="token punctuation">(</span><span class="token string">&quot;Bob&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™ç§æ–¹å¼å°±æ˜¯é€šå¸¸ç¼–å†™ä»£ç çš„æ–¹å¼ã€‚</p><p>è¿˜æœ‰ä¸€ç§æ–¹å¼æ˜¯åŠ¨æ€ä»£ç ï¼Œæˆ‘ä»¬ä»ç„¶å…ˆå®šä¹‰äº†æ¥å£ <code>Hello</code>ï¼Œä½†æ˜¯æˆ‘ä»¬å¹¶ä¸å»ç¼–å†™å®ç°ç±»ï¼Œè€Œæ˜¯ç›´æ¥é€šè¿‡ JDK æä¾›çš„ä¸€ä¸ª <code>Proxy.newProxyInstance()</code> åˆ›å»ºäº†ä¸€ä¸ª <code>Hello</code> æ¥å£å¯¹è±¡ã€‚è¿™ç§æ²¡æœ‰å®ç°ç±»ä½†æ˜¯åœ¨è¿è¡ŒæœŸåŠ¨æ€åˆ›å»ºäº†ä¸€ä¸ªæ¥å£å¯¹è±¡çš„æ–¹å¼ï¼Œç§°ä¸ºåŠ¨æ€ä»£ç ã€‚JDK æä¾›çš„åŠ¨æ€åˆ›å»ºæ¥å£å¯¹è±¡çš„æ–¹å¼ï¼Œå°±å«åŠ¨æ€ä»£ç†ã€‚</p><p>ä¸€ä¸ªæœ€ç®€å•çš„åŠ¨æ€ä»£ç†å®ç°å¦‚ä¸‹ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">InvocationHandler</span> handler <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">InvocationHandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token annotation punctuation">@Override</span>
            <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">invoke</span><span class="token punctuation">(</span><span class="token class-name">Object</span> proxy<span class="token punctuation">,</span> <span class="token class-name">Method</span> method<span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Throwable</span> <span class="token punctuation">{</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>method<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>method<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">&quot;morning&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Good morning, &quot;</span> <span class="token operator">+</span> args<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token class-name">Hello</span> hello <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Hello</span><span class="token punctuation">)</span> <span class="token class-name">Proxy</span><span class="token punctuation">.</span><span class="token function">newProxyInstance</span><span class="token punctuation">(</span>
            <span class="token class-name">Hello</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">getClassLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// ä¼ å…¥ClassLoader</span>
            <span class="token keyword">new</span> <span class="token class-name">Class</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">{</span> <span class="token class-name">Hello</span><span class="token punctuation">.</span><span class="token keyword">class</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// ä¼ å…¥è¦å®ç°çš„æ¥å£</span>
            handler<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ä¼ å…¥å¤„ç†è°ƒç”¨æ–¹æ³•çš„InvocationHandler</span>
        hello<span class="token punctuation">.</span><span class="token function">morning</span><span class="token punctuation">(</span><span class="token string">&quot;Bob&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">Hello</span> <span class="token punctuation">{</span>
    <span class="token keyword">void</span> <span class="token function">morning</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨è¿è¡ŒæœŸåŠ¨æ€åˆ›å»ºä¸€ä¸ª <code>interface</code> å®ä¾‹çš„æ–¹æ³•å¦‚ä¸‹ï¼š</p><ol><li>å®šä¹‰ä¸€ä¸ª <code>InvocationHandler</code> å®ä¾‹ï¼Œå®ƒè´Ÿè´£å®ç°æ¥å£çš„æ–¹æ³•è°ƒç”¨ï¼›</li><li>é€šè¿‡<code>Proxy.newProxyInstance()</code>åˆ›å»º<code>interface</code>å®ä¾‹ï¼Œå®ƒéœ€è¦ 3 ä¸ªå‚æ•°ï¼š <ul><li>ä½¿ç”¨çš„ <code>ClassLoader</code>ï¼Œé€šå¸¸å°±æ˜¯æ¥å£ç±»çš„ <code>ClassLoader</code>ï¼›</li><li>éœ€è¦å®ç°çš„æ¥å£æ•°ç»„ï¼Œè‡³å°‘éœ€è¦ä¼ å…¥ä¸€ä¸ªæ¥å£è¿›å»ï¼›</li><li>ç”¨æ¥å¤„ç†æ¥å£æ–¹æ³•è°ƒç”¨çš„ <code>InvocationHandler</code> å®ä¾‹ã€‚</li></ul></li><li>å°†è¿”å›çš„ <code>Object</code> å¼ºåˆ¶è½¬å‹ä¸ºæ¥å£ã€‚</li></ol><p>åŠ¨æ€ä»£ç†å®é™…ä¸Šæ˜¯ JVM åœ¨è¿è¡ŒæœŸåŠ¨æ€åˆ›å»º class å­—èŠ‚ç å¹¶åŠ è½½çš„è¿‡ç¨‹ï¼ŒæŠŠä¸Šé¢çš„åŠ¨æ€ä»£ç†æ”¹å†™ä¸ºé™æ€å®ç°ç±»å¤§æ¦‚é•¿è¿™æ ·ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloDynamicProxy</span> <span class="token keyword">implements</span> <span class="token class-name">Hello</span> <span class="token punctuation">{</span>
    <span class="token class-name">InvocationHandler</span> handler<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token class-name">HelloDynamicProxy</span><span class="token punctuation">(</span><span class="token class-name">InvocationHandler</span> handler<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>handler <span class="token operator">=</span> handler<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">morning</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        handler<span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span>
           <span class="token keyword">this</span><span class="token punctuation">,</span>
           <span class="token class-name">Hello</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">getMethod</span><span class="token punctuation">(</span><span class="token string">&quot;morning&quot;</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
           <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">{</span> name <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å…¶å®å°±æ˜¯ JVM å¸®æˆ‘ä»¬è‡ªåŠ¨ç¼–å†™äº†ä¸€ä¸ªä¸Šè¿°ç±»ï¼ˆä¸éœ€è¦æºç ï¼Œå¯ä»¥ç›´æ¥ç”Ÿæˆå­—èŠ‚ç ï¼‰ã€‚</p><p>å¥½ç©çš„ã€‚</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">interface</span> <span class="token class-name">Student</span> <span class="token punctuation">{</span>


  <span class="token keyword">void</span> <span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">void</span> <span class="token function">write</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DynamicProxy</span> <span class="token punctuation">{</span>

  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// å°éŸ­èœå­¦ç”Ÿç±»</span>
    <span class="token class-name">Student</span> ordinaryStudents <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">OrdinaryStudents</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ordinaryStudents<span class="token punctuation">.</span><span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ordinaryStudents<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

 <span class="token comment">/*
 ç°åœ¨æœ‰ä¸€ä½ç‰¹æ®Šçš„å­¦ç”Ÿï¼Œä»–æ˜¯åŒºé•¿çš„å„¿å­ï¼Œæˆ‘ä»¬è‡ªç„¶è¦å¯¹ä»–é¢å¤–ç…§é¡¾ï¼Œè¦ç»™ä»–åŠ ä¸€ä¸‹åŠŸèƒ½ã€‚
 ä¸€ç§æ€è·¯æ˜¯å®šä¹‰ä¸€ä¸ªç±»ï¼šåŒºé•¿çš„å„¿å­ç±»ï¼Œä»–ç»§æ‰¿è‡ªå­¦ç”Ÿç±»ï¼Œä½†ä¸–ä¸Šå„¿å­åƒåƒä¸‡ï¼Œæœ‰åŒºé•¿çš„å„¿å­ï¼Œä¹Ÿæœ‰å¸‚é•¿çš„å„¿å­ï¼Œæ›´æœ‰çœé•¿çš„å„¿å­ï¼Œä¸èƒ½æŠŠä»–ä»¬æŒ¨ä¸ªå®šä¹‰å‡ºæ¥ï¼Œ
 ç°åœ¨å°±å¯ä»¥ä½¿ç”¨åŠ¨æ€ä»£ç†æœºåˆ¶ï¼ŒåŠ¨æ€çš„ç»™åŒºé•¿çš„å„¿å­åŠ ä¸ŠåŠŸèƒ½ï¼Œä»¥åç¢°åˆ°å¸‚é•¿ã€çœé•¿çš„å„¿å­ä¹ŸåŒæ ·å¤„ç†ã€‚

 InvocationHandlerä½œç”¨å°±æ˜¯ï¼Œå½“ä»£ç†å¯¹è±¡çš„åŸæœ¬æ–¹æ³•è¢«è°ƒç”¨çš„æ—¶å€™ï¼Œä¼šé‡å®šå‘åˆ°ä¸€ä¸ªæ–¹æ³•ï¼Œ
 è¿™ä¸ªæ–¹æ³•å°±æ˜¯InvocationHandleré‡Œé¢å®šä¹‰çš„å†…å®¹ï¼ŒåŒæ—¶ä¼šæ›¿ä»£åŸæœ¬æ–¹æ³•çš„ç»“æœè¿”å›ã€‚
 InvocationHandleræ¥æ”¶ä¸‰ä¸ªå‚æ•°ï¼šproxyï¼Œä»£ç†åçš„å®ä¾‹å¯¹è±¡ã€‚ methodï¼Œå¯¹è±¡è¢«è°ƒç”¨æ–¹æ³•ã€‚argsï¼Œè°ƒç”¨æ—¶çš„å‚æ•°ã€‚
 */</span>

    <span class="token class-name">InvocationHandler</span> handler <span class="token operator">=</span> <span class="token punctuation">(</span>proxy<span class="token punctuation">,</span> method<span class="token punctuation">,</span> handlerArgs<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
      <span class="token comment">// ä»å®šä¹‰eatæ–¹æ³•ã€‚</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">&quot;eat&quot;</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>method<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æˆ‘å¯ä»¥åƒé¦™å–è¾£ï¼&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token comment">// ä»å®šä¹‰writeæ–¹æ³•ã€‚</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">&quot;write&quot;</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>method<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æˆ‘çš„ä½œæ–‡é¢˜ç›®æ˜¯ã€Šæˆ‘çš„åŒºé•¿çˆ¶äº²ã€‹ã€‚&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// è°ƒç”¨æ™®é€šå­¦ç”Ÿç±»çš„writeæ–¹æ³•ï¼Œæµç¨‹è¿˜æ˜¯è¦èµ°çš„ï¼Œè¿˜æ˜¯è¦äº¤ä¸€ç¯‡ä½œæ–‡ä¸Šå»ï¼Œä¸èƒ½å¤ªæ˜ç›®å¼ èƒ†ã€‚</span>
        method<span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span>ordinaryStudents<span class="token punctuation">,</span> handlerArgs<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æˆ‘çš„ä½œæ–‡æ‹¿äº†åŒºä½œæ–‡ç«èµ›ä¸€ç­‰å¥–ï¼so easy!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
 <span class="token comment">/*
 å¯¹è¿™ä¸ªå®ä¾‹å¯¹è±¡ä»£ç†ç”Ÿæˆä¸€ä¸ªä»£ç†å¯¹è±¡ã€‚
 è¢«ä»£ç†åç”Ÿæˆçš„å¯¹è±¡ï¼Œæ˜¯é€šè¿‡Peopleæ¥å£çš„å­—èŠ‚ç å¢å¼ºæ–¹å¼åˆ›å»ºçš„ç±»è€Œæ„é€ å‡ºæ¥çš„ã€‚å®ƒæ˜¯ä¸€ä¸ªä¸´æ—¶æ„é€ çš„å®ç°ç±»çš„å¯¹è±¡ã€‚
 loaderå’ŒinterfacesåŸºæœ¬å°±æ˜¯å†³å®šäº†è¿™ä¸ªç±»åˆ°åº•æ˜¯ä¸ªæ€ä¹ˆæ ·çš„ç±»ã€‚è€Œhæ˜¯InvocationHandlerï¼Œå†³å®šäº†è¿™ä¸ªä»£ç†ç±»åˆ°åº•æ˜¯å¤šäº†ä»€ä¹ˆåŠŸèƒ½.
 é€šè¿‡è¿™äº›æ¥å£å’Œç±»åŠ è½½å™¨ï¼Œæ‹¿åˆ°è¿™ä¸ªä»£ç†ç±»classã€‚ç„¶åé€šè¿‡åå°„çš„æŠ€æœ¯å¤åˆ¶æ‹¿åˆ°ä»£ç†ç±»çš„æ„é€ å‡½æ•°ï¼Œ
 æœ€åé€šè¿‡è¿™ä¸ªæ„é€ å‡½æ•°newä¸ªä¸€å¯¹è±¡å‡ºæ¥ï¼ŒåŒæ—¶ç”¨InvocationHandlerç»‘å®šè¿™ä¸ªå¯¹è±¡ã€‚
 æœ€ç»ˆå®ç°å¯ä»¥åœ¨è¿è¡Œçš„æ—¶å€™æ‰åˆ‡å…¥æ”¹å˜ç±»çš„æ–¹æ³•ï¼Œè€Œä¸éœ€è¦é¢„å…ˆå®šä¹‰å®ƒã€‚
 */</span>
    <span class="token class-name">Student</span> sonOfDistrict <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Student</span><span class="token punctuation">)</span> <span class="token class-name">Proxy</span><span class="token punctuation">.</span><span class="token function">newProxyInstance</span><span class="token punctuation">(</span>
        ordinaryStudents<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getClassLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> ordinaryStudents<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getInterfaces</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        handler<span class="token punctuation">)</span><span class="token punctuation">;</span>
    sonOfDistrict<span class="token punctuation">.</span><span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    sonOfDistrict<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token doc-comment comment">/**
 * å°éŸ­èœï¼Œèƒ½è·‘ï¼Œèƒ½åƒï¼Œèƒ½å†™ä½œæ–‡ã€‚
 */</span>
<span class="token keyword">class</span> <span class="token class-name">OrdinaryStudents</span> <span class="token keyword">implements</span> <span class="token class-name">Student</span> <span class="token punctuation">{</span>

  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æˆ‘åœ¨åƒé¥­ï¼&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æˆ‘åœ¨è·‘æ­¥ï¼&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">write</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æˆ‘åœ¨å†™ä½œæ–‡!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><!----><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/SurplusFate/SurplusFate.github.io/edit/main/src/docs/Java/19. ç±»åŠ è½½æœºåˆ¶ä¸åå°„.md" rel="noopener noreferrer" target="_blank" aria-label="ç¼–è¾‘æ­¤é¡µ" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->ç¼–è¾‘æ­¤é¡µ<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="meta-item update-time"><span class="label">ä¸Šæ¬¡ç¼–è¾‘äº: </span><!----></div><!----></footer><nav class="page-nav"><a href="/docs/Java/18.%20%E5%A4%9A%E7%BA%BF%E7%A8%8B.html" class="nav-link prev" aria-label="18. å¤šçº¿ç¨‹"><div class="hint"><span class="arrow left"></span>ä¸Šä¸€é¡µ</div><div class="link"><span class="icon iconfont icon-note"></span>18. å¤šçº¿ç¨‹</div></a><!----></nav><!----><!----><!--]--></main><!--]--><!----><!--]--></div><!--]--><!----><!--]--></div>
    <script type="module" src="/assets/app.dfee58c2.js" defer></script>
  </body>
</html>
