---
icon: note
date: 2022-08-30
order: 3
category:
  - mybatis
---

# 3. 主要类的介绍

1. Resources：

   1. mybatis 中的一个类， 负责读取主配置文件
   2. `InputStream in = Resources.getResourceAsStream("mybatis.xml");`

2. SqlSessionFactoryBuilder:

   1. 创建 SqlSessionFactory 对象
   2. `SqlSessionFactoryBuilder builder = new SqlSessionFactoryBuilder();`

3. SqlSessionFactory:

   1. 重量级对象， 程序创建一个对象耗时比较长，使用资源比较多。在整个项目中，有一个就够用了。
   2. SqlSessionFactory 是一个接口, 接口实现类： DefaultSqlSessionFactory
   3. SqlSessionFactory 作用： 获取 SqlSession 对象。
   4. `SqlSession sqlSession = factory.openSession();`
   5. openSession()方法说明：
      1. openSession() ：无参数， 获取是非自动提交事务的 SqlSession 对象
      2. openSession(true) : 获取自动提交事务的 SqlSession
      3. openSession(false) : 非自动提交事务的 SqlSession 对象

4. SqlSession:
   1. SqlSession 接口 ：定义了操作数据的方法 例如 selectOne() ,selectList() ,insert(),update(), delete(), commit(), rollback()
   2. SqlSession 接口的实现类 DefaultSqlSession。
   3. 使用要求： SqlSession 对象不是线程安全的，需要在方法内部使用， 在执行 sql 语句之前，使用 openSession()获取 SqlSession 对象。
   4. 在执行完 sql 语句后，需要关闭它，执行 SqlSession.close(). 这样能保证他的使用是线程安全的。
