---
icon: note
date: 2022-08-30
order: 8
category:
  - mybatis
---

# 8. 日志

## 1. 日志工厂

SLF4J

LOG4J(掌握)

LOG4J2

JDK_LOGGING

COMMONS_LOGGING

STDOUT_LOGGING(掌握)

NO_LOGGING

### STDOUT_LOGGING

![Log](https://gcore.jsdelivr.net/gh/SurplusFate/guide_img@main/img/202208271712929.png)

### LOG4J

- Log4j 是[Apache](https://baike.baidu.com/item/Apache/8512995)的一个开源项目，通过使用 Log4j，我们可以控制日志信息输送的目的地是[控制台](https://baike.baidu.com/item/控制台/2438626)、文件、[GUI](https://baike.baidu.com/item/GUI)组件
- 我们可以控制每一条日志的输出格式
- 通过定义每一条信息的级别,我们能够更加细致的控制日志的生成过程
- 通过一个配置文件来灵活的进行配置,而不需要修改应用的代码

1. 导入 log4j 的包

   ```xml
   <dependency>
      <groupId>log4j</groupId>
      <artifactId>log4j</artifactId>
      <version>1.2.17</version>
   </dependency>
   ```

2. log4j.properties, 名字必须是 log4j

   ```properties
   log4j.rootLogger=DEBUG,console,file
   #控制台输出的相关设置
   log4j.appender.console = org.apache.log4j.ConsoleAppender
   log4j.appender.console.Target = System.out
   log4j.appender.console.Threshold=DEBUG
   log4j.appender.console.layout = org.apache.log4j.PatternLayout
   log4j.appender.console.layout.ConversionPattern=【%c】-%m%n
   #文件输出的相关设置
   log4j.appender.file = org.apache.log4j.RollingFileAppender
   log4j.appender.file.File=./log/mybatisLog.log
   log4j.appender.file.MaxFileSize=10mb
   log4j.appender.file.Threshold=DEBUG
   log4j.appender.file.layout=org.apache.log4j.PatternLayout
   log4j.appender.file.layout.ConversionPattern=【%p】【%d{yy-MM-dd}】【%c】%m%n
   #日志输出级别
   log4j.logger.org.mybatis=DEBUG
   log4j.logger.java.sql=DEBUG
   log4j.logger.java.sql.Statement=DEBUG
   log4j.logger.java.sql.ResultSet=DEBUG
   log4j.logger.java.sql.PreparedStatement=DEBUG
   ```

3. 配置 log4j 的日志实现

   ```xml
   <settings>  <setting name="logImpl" value="LOG4J"/></settings>
   ```

4. log4j 简单使用

   - 导包

     `import org.apache.log4j.Logger;`

   - 获取日志对象

     `Logger logger = Logger.getLogger(MybatisTest.class);`

   - 设置日志级别

     `logger.info("info");`

     `logger.debug("debug");`

     `logger.error("error");`
